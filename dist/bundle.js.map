{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://talespire-mothership-1e-toolset/./src/index.css","webpack://talespire-mothership-1e-toolset/./node_modules/css-loader/dist/runtime/api.js","webpack://talespire-mothership-1e-toolset/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://talespire-mothership-1e-toolset/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://talespire-mothership-1e-toolset/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://talespire-mothership-1e-toolset/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://talespire-mothership-1e-toolset/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://talespire-mothership-1e-toolset/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://talespire-mothership-1e-toolset/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://talespire-mothership-1e-toolset/./node_modules/typed-inject/dist/src/InjectorImpl.js","webpack://talespire-mothership-1e-toolset/./node_modules/typed-inject/dist/src/api/InjectionToken.js","webpack://talespire-mothership-1e-toolset/./node_modules/typed-inject/dist/src/api/Scope.js","webpack://talespire-mothership-1e-toolset/./node_modules/typed-inject/dist/src/errors.js","webpack://talespire-mothership-1e-toolset/./node_modules/typed-inject/dist/src/tokens.js","webpack://talespire-mothership-1e-toolset/./node_modules/typed-inject/dist/src/utils.js","webpack://talespire-mothership-1e-toolset/./src/ sync ^(","webpack://talespire-mothership-1e-toolset/./src/components/app-init/app-init.html","webpack://talespire-mothership-1e-toolset/./src/components/app-init/app-init.ts","webpack://talespire-mothership-1e-toolset/./src/components/base-list/base-list-component.ts","webpack://talespire-mothership-1e-toolset/./src/components/base.component.ts","webpack://talespire-mothership-1e-toolset/./src/components/buttons/primary-button/primary-button.html","webpack://talespire-mothership-1e-toolset/./src/components/buttons/primary-button/primary-button.ts","webpack://talespire-mothership-1e-toolset/./src/components/buttons/secondary-button/secondary-button.html","webpack://talespire-mothership-1e-toolset/./src/components/buttons/secondary-button/secondary-button.ts","webpack://talespire-mothership-1e-toolset/./src/components/error-panel/error-panel.html","webpack://talespire-mothership-1e-toolset/./src/components/error-panel/error-panel.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/add-new-gear-item-button/add-new-gear-item-button.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/add-new-gear-item-button/add-new-gear-item-button.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-armor-display/gear-armor-display.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-armor-display/gear-armor-display.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-armor-form-fields/gear-armor-form-fields.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-armor-form-fields/gear-armor-form-fields.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-categories-pill-bar/gear-categories-pill-bar.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-categories-pill-bar/gear-categories-pill-bar.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-equipment-display/gear-equipment-display.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-equipment-display/gear-equipment-display.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-equipment-form-fields/gear-equipment-form-fields.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-equipment-form-fields/gear-equipment-form-fields.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-item-display-dialog/gear-item-display-dialog.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-item-display-dialog/gear-item-display-dialog.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-list-filter-bar/gear-list-filter-bar.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-list-filter-bar/gear-list-filter-bar.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-list/gear-list.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-list/gear-list.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-weapon-display/gear-weapon-display.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-weapon-display/gear-weapon-display.ts","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-weapon-form-fields/gear-weapon-form-fields.html","webpack://talespire-mothership-1e-toolset/./src/components/gear/gear-weapon-form-fields/gear-weapon-form-fields.ts","webpack://talespire-mothership-1e-toolset/./src/components/headings/page-heading-1/page-heading-1.html","webpack://talespire-mothership-1e-toolset/./src/components/headings/page-heading-1/page-heading-1.ts","webpack://talespire-mothership-1e-toolset/./src/components/layout/footer-bar/footer-bar.html","webpack://talespire-mothership-1e-toolset/./src/components/layout/footer-bar/footer-bar.ts","webpack://talespire-mothership-1e-toolset/./src/components/layout/header-bar/header-bar.html","webpack://talespire-mothership-1e-toolset/./src/components/layout/header-bar/header-bar.ts","webpack://talespire-mothership-1e-toolset/./src/components/modal-dialog/modal-dialog.html","webpack://talespire-mothership-1e-toolset/./src/components/modal-dialog/modal-dialog.ts","webpack://talespire-mothership-1e-toolset/./src/components/npcs/npc-form/npc-form.html","webpack://talespire-mothership-1e-toolset/./src/components/npcs/npc-form/npc-form.ts","webpack://talespire-mothership-1e-toolset/./src/components/npcs/npc-list-filter-bar/npc-list-filter-bar.html","webpack://talespire-mothership-1e-toolset/./src/components/npcs/npc-list-filter-bar/npc-list-filter-bar.ts","webpack://talespire-mothership-1e-toolset/./src/components/npcs/npc-list/npc-list.html","webpack://talespire-mothership-1e-toolset/./src/components/npcs/npc-list/npc-list.ts","webpack://talespire-mothership-1e-toolset/./src/components/page-router/page-router.ts","webpack://talespire-mothership-1e-toolset/./src/components/pages/about/about.component.html","webpack://talespire-mothership-1e-toolset/./src/components/pages/about/about.component.ts","webpack://talespire-mothership-1e-toolset/./src/components/pages/base-page.component.ts","webpack://talespire-mothership-1e-toolset/./src/components/pages/characters/characters.html","webpack://talespire-mothership-1e-toolset/./src/components/pages/characters/characters.ts","webpack://talespire-mothership-1e-toolset/./src/components/pages/codex/codex.html","webpack://talespire-mothership-1e-toolset/./src/components/pages/codex/codex.ts","webpack://talespire-mothership-1e-toolset/./src/components/pages/gear-item/gear-item.html","webpack://talespire-mothership-1e-toolset/./src/components/pages/gear-item/gear-item.ts","webpack://talespire-mothership-1e-toolset/./src/components/pages/gear/gear.component.html","webpack://talespire-mothership-1e-toolset/./src/components/pages/gear/gear.component.ts","webpack://talespire-mothership-1e-toolset/./src/components/pages/npcs/npcs.html","webpack://talespire-mothership-1e-toolset/./src/components/pages/npcs/npcs.ts","webpack://talespire-mothership-1e-toolset/./src/features/database-versions/database-version.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/armor-item-form-fields-dto.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/armor-item-map.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/armor-item.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/armor-speed.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/delete-custom-gear-item/delete-custom-gear-item-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/delete-custom-gear-item/delete-custom-gear-item-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/equipment-item-form-fields-dto.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/equipment-item-map.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/equipment-item.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/filter-gear-list/filter-gear-list-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/filter-gear-list/filter-gear-list-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/gear-item.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/gear-list-item-map.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/gear-list-item.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/get-all-gear/get-all-gear-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/get-gear-by-id/get-gear-by-id-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/get-gear-by-id/get-gear-by-id-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/save-custom-armor-item/save-custom-armor-item-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/save-custom-armor-item/save-custom-armor-item-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/save-custom-equipment-item/save-custom-equipment-item-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/save-custom-equipment-item/save-custom-equipment-item-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/save-custom-weapon-item/save-custom-weapon-item-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/save-custom-weapon-item/save-custom-weapon-item-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/sort-gear-list/sort-gear-list-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/sort-gear-list/sort-gear-list-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/weapon-category.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/weapon-item-form-fields-dto.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/weapon-item-map.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/weapon-item.ts","webpack://talespire-mothership-1e-toolset/./src/features/gear/weapon-range.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/create-custom-npc/create-custom-npc-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/create-custom-npc/create-custom-npc-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/filter-npcs-list/filter-npcs-list-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/filter-npcs-list/filter-npcs-list-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/get-all-npcs/get-all-npcs-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/get-npc-by-id/get-npc-by-id-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/get-npc-by-id/get-npc-by-id-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/npc-attack.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/npc-list-item-map.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/npc-list-item.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/npc-special-ability.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/npc.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/sort-npcs-list/sort-npcs-list-feature.ts","webpack://talespire-mothership-1e-toolset/./src/features/npcs/sort-npcs-list/sort-npcs-list-request.ts","webpack://talespire-mothership-1e-toolset/./src/features/sources/source.ts","webpack://talespire-mothership-1e-toolset/./src/features/sources/sources-service.ts","webpack://talespire-mothership-1e-toolset/./src/index.css?0538","webpack://talespire-mothership-1e-toolset/./src/index.ts","webpack://talespire-mothership-1e-toolset/./src/lib/common/data-access/db-set.ts","webpack://talespire-mothership-1e-toolset/./src/lib/common/features/empty-request.ts","webpack://talespire-mothership-1e-toolset/./src/lib/common/features/filter-list-feature.ts","webpack://talespire-mothership-1e-toolset/./src/lib/common/features/save-db-entity-feature.ts","webpack://talespire-mothership-1e-toolset/./src/lib/common/features/save-db-entity-request.ts","webpack://talespire-mothership-1e-toolset/./src/lib/common/features/sort-list-feature.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/app-database-context.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/base-repository.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/browser-blob-storage.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/database-collection-names.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/repository.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/seedable-json-database.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/talespire-blob-storage.ts","webpack://talespire-mothership-1e-toolset/./src/lib/data-access/unit-of-work.ts","webpack://talespire-mothership-1e-toolset/./src/lib/errors/error-code.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/app-error-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/app-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/event-bus.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/gear-category-changed-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/gear-filter-changed-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/gear-item-deleted-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/npc-filter-changed-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/page-change-initiated-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/page-changed-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/ui-reportable-error-cleared-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/events/ui-reportable-error-occurred-event.ts","webpack://talespire-mothership-1e-toolset/./src/lib/infrastructure/app-injector.ts","webpack://talespire-mothership-1e-toolset/./src/lib/infrastructure/startup.ts","webpack://talespire-mothership-1e-toolset/./src/lib/localization/localization-service.ts","webpack://talespire-mothership-1e-toolset/./src/lib/localization/message-keys.ts","webpack://talespire-mothership-1e-toolset/./src/lib/logging/app-log-formatter.ts","webpack://talespire-mothership-1e-toolset/./src/lib/logging/app-logger.ts","webpack://talespire-mothership-1e-toolset/./src/lib/logging/console-logger.ts","webpack://talespire-mothership-1e-toolset/./src/lib/pages/page-route-data.ts","webpack://talespire-mothership-1e-toolset/./src/lib/pages/page-router-service.ts","webpack://talespire-mothership-1e-toolset/./src/lib/result/result-error.ts","webpack://talespire-mothership-1e-toolset/./src/lib/result/result.ts","webpack://talespire-mothership-1e-toolset/./src/lib/services/credits-abbreviator.ts","webpack://talespire-mothership-1e-toolset/./src/lib/services/path-service.ts","webpack://talespire-mothership-1e-toolset/./src/lib/services/styles-service.ts","webpack://talespire-mothership-1e-toolset/./src/lib/settings/app-settings.ts","webpack://talespire-mothership-1e-toolset/./src/lib/sorting/sort-direction.ts","webpack://talespire-mothership-1e-toolset/./src/lib/sorting/sort-state.ts","webpack://talespire-mothership-1e-toolset/./src/lib/tables/table-header.ts","webpack://talespire-mothership-1e-toolset/./src/lib/talespire/taleSpireSubscriptionHandlers.ts","webpack://talespire-mothership-1e-toolset/webpack/bootstrap","webpack://talespire-mothership-1e-toolset/webpack/runtime/compat get default export","webpack://talespire-mothership-1e-toolset/webpack/runtime/define property getters","webpack://talespire-mothership-1e-toolset/webpack/runtime/hasOwnProperty shorthand","webpack://talespire-mothership-1e-toolset/webpack/runtime/make namespace object","webpack://talespire-mothership-1e-toolset/webpack/runtime/nonce","webpack://talespire-mothership-1e-toolset/webpack/startup"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*! tailwindcss v4.1.4 | MIT License | https://tailwindcss.com */\n@layer properties;\n@layer theme, base, components, utilities;\n@layer theme {\n  :root, :host {\n    --font-sans: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\",\n      \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\",\n      \"Courier New\", monospace;\n    --color-red-500: oklch(63.7% 0.237 25.331);\n    --color-red-600: oklch(57.7% 0.245 27.325);\n    --color-red-700: oklch(50.5% 0.213 27.518);\n    --color-red-800: oklch(44.4% 0.177 26.899);\n    --color-gray-100: oklch(96.7% 0.003 264.542);\n    --color-gray-200: oklch(92.8% 0.006 264.531);\n    --color-gray-300: oklch(87.2% 0.01 258.338);\n    --color-gray-400: oklch(70.7% 0.022 261.325);\n    --color-gray-600: oklch(44.6% 0.03 256.802);\n    --color-gray-700: oklch(37.3% 0.034 259.733);\n    --color-gray-800: oklch(27.8% 0.033 256.848);\n    --color-gray-900: oklch(21% 0.034 264.665);\n    --color-zinc-900: oklch(21% 0.006 285.885);\n    --color-black: #000;\n    --color-white: #fff;\n    --spacing: 0.25rem;\n    --container-2xl: 42rem;\n    --text-sm: 0.875rem;\n    --text-sm--line-height: calc(1.25 / 0.875);\n    --text-base: 1rem;\n    --text-base--line-height: calc(1.5 / 1);\n    --text-lg: 1.125rem;\n    --text-lg--line-height: calc(1.75 / 1.125);\n    --text-xl: 1.25rem;\n    --text-xl--line-height: calc(1.75 / 1.25);\n    --text-3xl: 1.875rem;\n    --text-3xl--line-height: calc(2.25 / 1.875);\n    --text-5xl: 3rem;\n    --text-5xl--line-height: 1;\n    --font-weight-semibold: 600;\n    --font-weight-bold: 700;\n    --leading-relaxed: 1.625;\n    --radius-md: 0.375rem;\n    --radius-lg: 0.5rem;\n    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-transition-duration: 150ms;\n    --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    --default-font-family: var(--font-sans);\n    --default-mono-font-family: var(--font-mono);\n  }\n}\n@layer base {\n  *, ::after, ::before, ::backdrop, ::file-selector-button {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    border: 0 solid;\n  }\n  html, :host {\n    line-height: 1.5;\n    -webkit-text-size-adjust: 100%;\n    -moz-tab-size: 4;\n      -o-tab-size: 4;\n         tab-size: 4;\n    font-family: var(--default-font-family, ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\");\n    font-feature-settings: var(--default-font-feature-settings, normal);\n    font-variation-settings: var(--default-font-variation-settings, normal);\n    -webkit-tap-highlight-color: transparent;\n  }\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n  abbr:where([title]) {\n    -webkit-text-decoration: underline dotted;\n    text-decoration: underline dotted;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n  a {\n    color: inherit;\n    -webkit-text-decoration: inherit;\n    text-decoration: inherit;\n  }\n  b, strong {\n    font-weight: bolder;\n  }\n  code, kbd, samp, pre {\n    font-family: var(--default-mono-font-family, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace);\n    font-feature-settings: var(--default-mono-font-feature-settings, normal);\n    font-variation-settings: var(--default-mono-font-variation-settings, normal);\n    font-size: 1em;\n  }\n  small {\n    font-size: 80%;\n  }\n  sub, sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n  sub {\n    bottom: -0.25em;\n  }\n  sup {\n    top: -0.5em;\n  }\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n  :-moz-focusring {\n    outline: auto;\n  }\n  progress {\n    vertical-align: baseline;\n  }\n  summary {\n    display: list-item;\n  }\n  ol, ul, menu {\n    list-style: none;\n  }\n  img, svg, video, canvas, audio, iframe, embed, object {\n    display: block;\n    vertical-align: middle;\n  }\n  img, video {\n    max-width: 100%;\n    height: auto;\n  }\n  button, input, select, optgroup, textarea, ::file-selector-button {\n    font: inherit;\n    font-feature-settings: inherit;\n    font-variation-settings: inherit;\n    letter-spacing: inherit;\n    color: inherit;\n    border-radius: 0;\n    background-color: transparent;\n    opacity: 1;\n  }\n  :where(select:is([multiple], [size])) optgroup {\n    font-weight: bolder;\n  }\n  :where(select:is([multiple], [size])) optgroup option {\n    padding-inline-start: 20px;\n  }\n  ::file-selector-button {\n    margin-inline-end: 4px;\n  }\n  ::-moz-placeholder {\n    opacity: 1;\n  }\n  ::placeholder {\n    opacity: 1;\n  }\n  @supports (not (-webkit-appearance: -apple-pay-button))  or (contain-intrinsic-size: 1px) {\n    ::-moz-placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n    ::placeholder {\n      color: currentcolor;\n      @supports (color: color-mix(in lab, red, red)) {\n        color: color-mix(in oklab, currentcolor 50%, transparent);\n      }\n    }\n  }\n  textarea {\n    resize: vertical;\n  }\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n  ::-webkit-date-and-time-value {\n    min-height: 1lh;\n    text-align: inherit;\n  }\n  ::-webkit-datetime-edit {\n    display: inline-flex;\n  }\n  ::-webkit-datetime-edit-fields-wrapper {\n    padding: 0;\n  }\n  ::-webkit-datetime-edit, ::-webkit-datetime-edit-year-field, ::-webkit-datetime-edit-month-field, ::-webkit-datetime-edit-day-field, ::-webkit-datetime-edit-hour-field, ::-webkit-datetime-edit-minute-field, ::-webkit-datetime-edit-second-field, ::-webkit-datetime-edit-millisecond-field, ::-webkit-datetime-edit-meridiem-field {\n    padding-block: 0;\n  }\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n  button, input:where([type=\"button\"], [type=\"reset\"], [type=\"submit\"]), ::file-selector-button {\n    -webkit-appearance: button;\n       -moz-appearance: button;\n            appearance: button;\n  }\n  ::-webkit-inner-spin-button, ::-webkit-outer-spin-button {\n    height: auto;\n  }\n  [hidden]:where(:not([hidden=\"until-found\"])) {\n    display: none !important;\n  }\n}\n@layer utilities {\n  .visible {\n    visibility: visible;\n  }\n  .sr-only {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    border-width: 0;\n  }\n  .absolute {\n    position: absolute;\n  }\n  .fixed {\n    position: fixed;\n  }\n  .relative {\n    position: relative;\n  }\n  .static {\n    position: static;\n  }\n  .top-0 {\n    top: calc(var(--spacing) * 0);\n  }\n  .top-10 {\n    top: calc(var(--spacing) * 10);\n  }\n  .right-0 {\n    right: calc(var(--spacing) * 0);\n  }\n  .right-5 {\n    right: calc(var(--spacing) * 5);\n  }\n  .bottom-0 {\n    bottom: calc(var(--spacing) * 0);\n  }\n  .bottom-16 {\n    bottom: calc(var(--spacing) * 16);\n  }\n  .bottom-20 {\n    bottom: calc(var(--spacing) * 20);\n  }\n  .left-0 {\n    left: calc(var(--spacing) * 0);\n  }\n  .z-1 {\n    z-index: 1;\n  }\n  .z-20 {\n    z-index: 20;\n  }\n  .z-40 {\n    z-index: 40;\n  }\n  .z-50 {\n    z-index: 50;\n  }\n  .col-span-2 {\n    grid-column: span 2 / span 2;\n  }\n  .container {\n    width: 100%;\n    @media (width >= 40rem) {\n      max-width: 40rem;\n    }\n    @media (width >= 48rem) {\n      max-width: 48rem;\n    }\n    @media (width >= 64rem) {\n      max-width: 64rem;\n    }\n    @media (width >= 80rem) {\n      max-width: 80rem;\n    }\n    @media (width >= 96rem) {\n      max-width: 96rem;\n    }\n  }\n  .m-2 {\n    margin: calc(var(--spacing) * 2);\n  }\n  .mx-1 {\n    margin-inline: calc(var(--spacing) * 1);\n  }\n  .mx-2 {\n    margin-inline: calc(var(--spacing) * 2);\n  }\n  .mx-3 {\n    margin-inline: calc(var(--spacing) * 3);\n  }\n  .my-1 {\n    margin-block: calc(var(--spacing) * 1);\n  }\n  .my-2 {\n    margin-block: calc(var(--spacing) * 2);\n  }\n  .ms-10 {\n    margin-inline-start: calc(var(--spacing) * 10);\n  }\n  .ms-auto {\n    margin-inline-start: auto;\n  }\n  .me-5 {\n    margin-inline-end: calc(var(--spacing) * 5);\n  }\n  .mt-1 {\n    margin-top: calc(var(--spacing) * 1);\n  }\n  .mr-1 {\n    margin-right: calc(var(--spacing) * 1);\n  }\n  .mr-2 {\n    margin-right: calc(var(--spacing) * 2);\n  }\n  .mb-1 {\n    margin-bottom: calc(var(--spacing) * 1);\n  }\n  .mb-2 {\n    margin-bottom: calc(var(--spacing) * 2);\n  }\n  .mb-3 {\n    margin-bottom: calc(var(--spacing) * 3);\n  }\n  .mb-4 {\n    margin-bottom: calc(var(--spacing) * 4);\n  }\n  .mb-18 {\n    margin-bottom: calc(var(--spacing) * 18);\n  }\n  .block {\n    display: block;\n  }\n  .contents {\n    display: contents;\n  }\n  .flex {\n    display: flex;\n  }\n  .grid {\n    display: grid;\n  }\n  .hidden {\n    display: none;\n  }\n  .inline {\n    display: inline;\n  }\n  .inline-flex {\n    display: inline-flex;\n  }\n  .table {\n    display: table;\n  }\n  .size-11 {\n    width: calc(var(--spacing) * 11);\n    height: calc(var(--spacing) * 11);\n  }\n  .h-3 {\n    height: calc(var(--spacing) * 3);\n  }\n  .h-6 {\n    height: calc(var(--spacing) * 6);\n  }\n  .h-8 {\n    height: calc(var(--spacing) * 8);\n  }\n  .h-14 {\n    height: calc(var(--spacing) * 14);\n  }\n  .h-16 {\n    height: calc(var(--spacing) * 16);\n  }\n  .h-screen {\n    height: 100vh;\n  }\n  .max-h-128 {\n    max-height: calc(var(--spacing) * 128);\n  }\n  .max-h-full {\n    max-height: 100%;\n  }\n  .min-h-5 {\n    min-height: calc(var(--spacing) * 5);\n  }\n  .min-h-100 {\n    min-height: calc(var(--spacing) * 100);\n  }\n  .w-0 {\n    width: calc(var(--spacing) * 0);\n  }\n  .w-1 {\n    width: calc(var(--spacing) * 1);\n  }\n  .w-1\\\\/4 {\n    width: calc(1/4 * 100%);\n  }\n  .w-3 {\n    width: calc(var(--spacing) * 3);\n  }\n  .w-6 {\n    width: calc(var(--spacing) * 6);\n  }\n  .w-8 {\n    width: calc(var(--spacing) * 8);\n  }\n  .w-full {\n    width: 100%;\n  }\n  .max-w-2xl {\n    max-width: var(--container-2xl);\n  }\n  .max-w-50 {\n    max-width: calc(var(--spacing) * 50);\n  }\n  .min-w-20 {\n    min-width: calc(var(--spacing) * 20);\n  }\n  .min-w-24 {\n    min-width: calc(var(--spacing) * 24);\n  }\n  .min-w-32 {\n    min-width: calc(var(--spacing) * 32);\n  }\n  .flex-grow {\n    flex-grow: 1;\n  }\n  .grow {\n    flex-grow: 1;\n  }\n  .border-collapse {\n    border-collapse: collapse;\n  }\n  .scale-0 {\n    --tw-scale-x: 0%;\n    --tw-scale-y: 0%;\n    --tw-scale-z: 0%;\n    scale: var(--tw-scale-x) var(--tw-scale-y);\n  }\n  .scale-100 {\n    --tw-scale-x: 100%;\n    --tw-scale-y: 100%;\n    --tw-scale-z: 100%;\n    scale: var(--tw-scale-x) var(--tw-scale-y);\n  }\n  .transform {\n    transform: var(--tw-rotate-x,) var(--tw-rotate-y,) var(--tw-rotate-z,) var(--tw-skew-x,) var(--tw-skew-y,);\n  }\n  .cursor-pointer {\n    cursor: pointer;\n  }\n  .resize {\n    resize: both;\n  }\n  .list-disc {\n    list-style-type: disc;\n  }\n  .grid-cols-1 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n  .grid-cols-2 {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n  .grid-cols-3 {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n  .flex-col {\n    flex-direction: column;\n  }\n  .flex-col-reverse {\n    flex-direction: column-reverse;\n  }\n  .flex-wrap {\n    flex-wrap: wrap;\n  }\n  .items-center {\n    align-items: center;\n  }\n  .justify-around {\n    justify-content: space-around;\n  }\n  .justify-between {\n    justify-content: space-between;\n  }\n  .justify-center {\n    justify-content: center;\n  }\n  .justify-center-safe {\n    justify-content: safe center;\n  }\n  .justify-evenly {\n    justify-content: space-evenly;\n  }\n  .justify-start {\n    justify-content: flex-start;\n  }\n  .gap-1 {\n    gap: calc(var(--spacing) * 1);\n  }\n  .gap-2 {\n    gap: calc(var(--spacing) * 2);\n  }\n  .gap-y-2 {\n    row-gap: calc(var(--spacing) * 2);\n  }\n  .truncate {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .overflow-visible {\n    overflow: visible;\n  }\n  .overflow-x-hidden {\n    overflow-x: hidden;\n  }\n  .overflow-y-auto {\n    overflow-y: auto;\n  }\n  .rounded-full {\n    border-radius: calc(infinity * 1px);\n  }\n  .rounded-lg {\n    border-radius: var(--radius-lg);\n  }\n  .rounded-md {\n    border-radius: var(--radius-md);\n  }\n  .rounded-tl-md {\n    border-top-left-radius: var(--radius-md);\n  }\n  .border {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-1 {\n    border-style: var(--tw-border-style);\n    border-width: 1px;\n  }\n  .border-2 {\n    border-style: var(--tw-border-style);\n    border-width: 2px;\n  }\n  .border-3 {\n    border-style: var(--tw-border-style);\n    border-width: 3px;\n  }\n  .border-4 {\n    border-style: var(--tw-border-style);\n    border-width: 4px;\n  }\n  .border-x-3 {\n    border-inline-style: var(--tw-border-style);\n    border-inline-width: 3px;\n  }\n  .border-s-0 {\n    border-inline-start-style: var(--tw-border-style);\n    border-inline-start-width: 0px;\n  }\n  .border-t-1 {\n    border-top-style: var(--tw-border-style);\n    border-top-width: 1px;\n  }\n  .border-b-2 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 2px;\n  }\n  .border-b-3 {\n    border-bottom-style: var(--tw-border-style);\n    border-bottom-width: 3px;\n  }\n  .border-black {\n    border-color: var(--color-black);\n  }\n  .border-gray-200 {\n    border-color: var(--color-gray-200);\n  }\n  .border-red-700 {\n    border-color: var(--color-red-700);\n  }\n  .border-red-800 {\n    border-color: var(--color-red-800);\n  }\n  .border-y-gray-200 {\n    border-block-color: var(--color-gray-200);\n  }\n  .border-y-gray-300 {\n    border-block-color: var(--color-gray-300);\n  }\n  .border-y-gray-400 {\n    border-block-color: var(--color-gray-400);\n  }\n  .bg-black {\n    background-color: var(--color-black);\n  }\n  .bg-black\\\\/30 {\n    background-color: color-mix(in srgb, #000 30%, transparent);\n    @supports (color: color-mix(in lab, red, red)) {\n      background-color: color-mix(in oklab, var(--color-black) 30%, transparent);\n    }\n  }\n  .bg-gray-100 {\n    background-color: var(--color-gray-100);\n  }\n  .bg-gray-200 {\n    background-color: var(--color-gray-200);\n  }\n  .bg-gray-900 {\n    background-color: var(--color-gray-900);\n  }\n  .bg-red-500 {\n    background-color: var(--color-red-500);\n  }\n  .bg-red-600 {\n    background-color: var(--color-red-600);\n  }\n  .bg-transparent {\n    background-color: transparent;\n  }\n  .bg-white {\n    background-color: var(--color-white);\n  }\n  .bg-zinc-900 {\n    background-color: var(--color-zinc-900);\n  }\n  .fill-white {\n    fill: var(--color-white);\n  }\n  .p-1 {\n    padding: calc(var(--spacing) * 1);\n  }\n  .p-2 {\n    padding: calc(var(--spacing) * 2);\n  }\n  .p-4 {\n    padding: calc(var(--spacing) * 4);\n  }\n  .px-2 {\n    padding-inline: calc(var(--spacing) * 2);\n  }\n  .px-3 {\n    padding-inline: calc(var(--spacing) * 3);\n  }\n  .px-4 {\n    padding-inline: calc(var(--spacing) * 4);\n  }\n  .py-1 {\n    padding-block: calc(var(--spacing) * 1);\n  }\n  .py-2 {\n    padding-block: calc(var(--spacing) * 2);\n  }\n  .py-3 {\n    padding-block: calc(var(--spacing) * 3);\n  }\n  .ps-5 {\n    padding-inline-start: calc(var(--spacing) * 5);\n  }\n  .pt-1 {\n    padding-top: calc(var(--spacing) * 1);\n  }\n  .pt-2 {\n    padding-top: calc(var(--spacing) * 2);\n  }\n  .pt-4 {\n    padding-top: calc(var(--spacing) * 4);\n  }\n  .pt-5 {\n    padding-top: calc(var(--spacing) * 5);\n  }\n  .pt-8 {\n    padding-top: calc(var(--spacing) * 8);\n  }\n  .pt-16 {\n    padding-top: calc(var(--spacing) * 16);\n  }\n  .pl-6 {\n    padding-left: calc(var(--spacing) * 6);\n  }\n  .text-left {\n    text-align: left;\n  }\n  .text-3xl {\n    font-size: var(--text-3xl);\n    line-height: var(--tw-leading, var(--text-3xl--line-height));\n  }\n  .text-5xl {\n    font-size: var(--text-5xl);\n    line-height: var(--tw-leading, var(--text-5xl--line-height));\n  }\n  .text-base {\n    font-size: var(--text-base);\n    line-height: var(--tw-leading, var(--text-base--line-height));\n  }\n  .text-lg {\n    font-size: var(--text-lg);\n    line-height: var(--tw-leading, var(--text-lg--line-height));\n  }\n  .text-sm {\n    font-size: var(--text-sm);\n    line-height: var(--tw-leading, var(--text-sm--line-height));\n  }\n  .text-xl {\n    font-size: var(--text-xl);\n    line-height: var(--tw-leading, var(--text-xl--line-height));\n  }\n  .leading-relaxed {\n    --tw-leading: var(--leading-relaxed);\n    line-height: var(--leading-relaxed);\n  }\n  .font-bold {\n    --tw-font-weight: var(--font-weight-bold);\n    font-weight: var(--font-weight-bold);\n  }\n  .font-semibold {\n    --tw-font-weight: var(--font-weight-semibold);\n    font-weight: var(--font-weight-semibold);\n  }\n  .text-black {\n    color: var(--color-black);\n  }\n  .text-white {\n    color: var(--color-white);\n  }\n  .uppercase {\n    text-transform: uppercase;\n  }\n  .underline {\n    text-decoration-line: underline;\n  }\n  .opacity-20 {\n    opacity: 20%;\n  }\n  .opacity-100 {\n    opacity: 100%;\n  }\n  .shadow {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .shadow-sm {\n    --tw-shadow: 0 1px 3px 0 var(--tw-shadow-color, rgb(0 0 0 / 0.1)), 0 1px 2px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1));\n    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow);\n  }\n  .outline {\n    outline-style: var(--tw-outline-style);\n    outline-width: 1px;\n  }\n  .filter {\n    filter: var(--tw-blur,) var(--tw-brightness,) var(--tw-contrast,) var(--tw-grayscale,) var(--tw-hue-rotate,) var(--tw-invert,) var(--tw-saturate,) var(--tw-sepia,) var(--tw-drop-shadow,);\n  }\n  .transition {\n    transition-property: color, background-color, border-color, outline-color, text-decoration-color, fill, stroke, --tw-gradient-from, --tw-gradient-via, --tw-gradient-to, opacity, box-shadow, transform, translate, scale, rotate, filter, -webkit-backdrop-filter, backdrop-filter;\n    transition-timing-function: var(--tw-ease, var(--default-transition-timing-function));\n    transition-duration: var(--tw-duration, var(--default-transition-duration));\n  }\n  .duration-150 {\n    --tw-duration: 150ms;\n    transition-duration: 150ms;\n  }\n  .duration-500 {\n    --tw-duration: 500ms;\n    transition-duration: 500ms;\n  }\n  .ease-in-out {\n    --tw-ease: var(--ease-in-out);\n    transition-timing-function: var(--ease-in-out);\n  }\n  .hover\\\\:bg-gray-100 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-100);\n      }\n    }\n  }\n  .hover\\\\:bg-gray-200 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-200);\n      }\n    }\n  }\n  .hover\\\\:bg-gray-300 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-300);\n      }\n    }\n  }\n  .hover\\\\:bg-gray-900 {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-gray-900);\n      }\n    }\n  }\n  .hover\\\\:bg-white {\n    &:hover {\n      @media (hover: hover) {\n        background-color: var(--color-white);\n      }\n    }\n  }\n  .hover\\\\:fill-black {\n    &:hover {\n      @media (hover: hover) {\n        fill: var(--color-black);\n      }\n    }\n  }\n  .hover\\\\:text-black {\n    &:hover {\n      @media (hover: hover) {\n        color: var(--color-black);\n      }\n    }\n  }\n  .focus\\\\:outline-0 {\n    &:focus {\n      outline-style: var(--tw-outline-style);\n      outline-width: 0px;\n    }\n  }\n  .active\\\\:bg-gray-300 {\n    &:active {\n      background-color: var(--color-gray-300);\n    }\n  }\n  .active\\\\:bg-gray-700 {\n    &:active {\n      background-color: var(--color-gray-700);\n    }\n  }\n}\nbody {\n  background-color: white;\n  color: black;\n  font-family: sans-serif;\n  font-size: 1.2rem;\n}\n@property --tw-scale-x {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-y {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-scale-z {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 1;\n}\n@property --tw-rotate-x {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-rotate-y {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-rotate-z {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-skew-x {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-skew-y {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-border-style {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-leading {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-font-weight {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-shadow-alpha {\n  syntax: \"<percentage>\";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-inset-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-inset-shadow-alpha {\n  syntax: \"<percentage>\";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-ring-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ring-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-inset-ring-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-inset-ring-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-ring-inset {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ring-offset-width {\n  syntax: \"<length>\";\n  inherits: false;\n  initial-value: 0px;\n}\n@property --tw-ring-offset-color {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: #fff;\n}\n@property --tw-ring-offset-shadow {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: 0 0 #0000;\n}\n@property --tw-outline-style {\n  syntax: \"*\";\n  inherits: false;\n  initial-value: solid;\n}\n@property --tw-blur {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-brightness {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-contrast {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-grayscale {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-hue-rotate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-invert {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-opacity {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-saturate {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-sepia {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow-color {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-drop-shadow-alpha {\n  syntax: \"<percentage>\";\n  inherits: false;\n  initial-value: 100%;\n}\n@property --tw-drop-shadow-size {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-duration {\n  syntax: \"*\";\n  inherits: false;\n}\n@property --tw-ease {\n  syntax: \"*\";\n  inherits: false;\n}\n@layer properties {\n  @supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))) {\n    *, ::before, ::after, ::backdrop {\n      --tw-scale-x: 1;\n      --tw-scale-y: 1;\n      --tw-scale-z: 1;\n      --tw-rotate-x: initial;\n      --tw-rotate-y: initial;\n      --tw-rotate-z: initial;\n      --tw-skew-x: initial;\n      --tw-skew-y: initial;\n      --tw-border-style: solid;\n      --tw-leading: initial;\n      --tw-font-weight: initial;\n      --tw-shadow: 0 0 #0000;\n      --tw-shadow-color: initial;\n      --tw-shadow-alpha: 100%;\n      --tw-inset-shadow: 0 0 #0000;\n      --tw-inset-shadow-color: initial;\n      --tw-inset-shadow-alpha: 100%;\n      --tw-ring-color: initial;\n      --tw-ring-shadow: 0 0 #0000;\n      --tw-inset-ring-color: initial;\n      --tw-inset-ring-shadow: 0 0 #0000;\n      --tw-ring-inset: initial;\n      --tw-ring-offset-width: 0px;\n      --tw-ring-offset-color: #fff;\n      --tw-ring-offset-shadow: 0 0 #0000;\n      --tw-outline-style: solid;\n      --tw-blur: initial;\n      --tw-brightness: initial;\n      --tw-contrast: initial;\n      --tw-grayscale: initial;\n      --tw-hue-rotate: initial;\n      --tw-invert: initial;\n      --tw-opacity: initial;\n      --tw-saturate: initial;\n      --tw-sepia: initial;\n      --tw-drop-shadow: initial;\n      --tw-drop-shadow-color: initial;\n      --tw-drop-shadow-alpha: 100%;\n      --tw-drop-shadow-size: initial;\n      --tw-duration: initial;\n      --tw-ease: initial;\n    }\n  }\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/index.css\"],\"names\":[],\"mappings\":\"AAAA,gEAQA;AARA,iBAQA;AARA,yCAQA;AARA;EAAA;IAAA;6DAQA;IARA;8BAQA;IARA,0CAQA;IARA,0CAQA;IARA,0CAQA;IARA,0CAQA;IARA,4CAQA;IARA,4CAQA;IARA,2CAQA;IARA,4CAQA;IARA,2CAQA;IARA,4CAQA;IARA,4CAQA;IARA,0CAQA;IARA,0CAQA;IARA,mBAQA;IARA,mBAQA;IARA,kBAQA;IARA,sBAQA;IARA,mBAQA;IARA,0CAQA;IARA,iBAQA;IARA,uCAQA;IARA,mBAQA;IARA,0CAQA;IARA,kBAQA;IARA,yCAQA;IARA,oBAQA;IARA,2CAQA;IARA,gBAQA;IARA,0BAQA;IARA,2BAQA;IARA,uBAQA;IARA,wBAQA;IARA,qBAQA;IARA,mBAQA;IARA,2CAQA;IARA,oCAQA;IARA,kEAQA;IARA,uCAQA;IARA,4CAQA;EAAA;AAAA;AARA;EAAA;IAAA,sBAQA;IARA,SAQA;IARA,UAQA;IARA,eAQA;EAAA;EARA;IAAA,gBAQA;IARA,8BAQA;IARA,gBAQA;MARA,cAQA;SARA,WAQA;IARA,2JAQA;IARA,mEAQA;IARA,uEAQA;IARA,wCAQA;EAAA;EARA;IAAA,SAQA;IARA,cAQA;IARA,qBAQA;EAAA;EARA;IAAA,yCAQA;IARA,iCAQA;EAAA;EARA;IAAA,kBAQA;IARA,oBAQA;EAAA;EARA;IAAA,cAQA;IARA,gCAQA;IARA,wBAQA;EAAA;EARA;IAAA,mBAQA;EAAA;EARA;IAAA,gJAQA;IARA,wEAQA;IARA,4EAQA;IARA,cAQA;EAAA;EARA;IAAA,cAQA;EAAA;EARA;IAAA,cAQA;IARA,cAQA;IARA,kBAQA;IARA,wBAQA;EAAA;EARA;IAAA,eAQA;EAAA;EARA;IAAA,WAQA;EAAA;EARA;IAAA,cAQA;IARA,qBAQA;IARA,yBAQA;EAAA;EARA;IAAA,aAQA;EAAA;EARA;IAAA,wBAQA;EAAA;EARA;IAAA,kBAQA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,cAQA;IARA,sBAQA;EAAA;EARA;IAAA,eAQA;IARA,YAQA;EAAA;EARA;IAAA,aAQA;IARA,8BAQA;IARA,gCAQA;IARA,uBAQA;IARA,cAQA;IARA,gBAQA;IARA,6BAQA;IARA,UAQA;EAAA;EARA;IAAA,mBAQA;EAAA;EARA;IAAA,0BAQA;EAAA;EARA;IAAA,sBAQA;EAAA;EARA;IAAA,UAQA;EAAA;EARA;IAAA,UAQA;EAAA;EARA;IAAA;MAAA,mBAQA;MARA;QAAA,yDAQA;MAAA;IAAA;IARA;MAAA,mBAQA;MARA;QAAA,yDAQA;MAAA;IAAA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,wBAQA;EAAA;EARA;IAAA,eAQA;IARA,mBAQA;EAAA;EARA;IAAA,oBAQA;EAAA;EARA;IAAA,UAQA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,0BAQA;OARA,uBAQA;YARA,kBAQA;EAAA;EARA;IAAA,YAQA;EAAA;EARA;IAAA,wBAQA;EAAA;AAAA;AARA;EAAA;IAAA,mBAQA;EAAA;EARA;IAAA,kBAQA;IARA,UAQA;IARA,WAQA;IARA,UAQA;IARA,YAQA;IARA,gBAQA;IARA,sBAQA;IARA,mBAQA;IARA,eAQA;EAAA;EARA;IAAA,kBAQA;EAAA;EARA;IAAA,eAQA;EAAA;EARA;IAAA,kBAQA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,6BAQA;EAAA;EARA;IAAA,8BAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,gCAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,8BAQA;EAAA;EARA;IAAA,UAQA;EAAA;EARA;IAAA,WAQA;EAAA;EARA;IAAA,WAQA;EAAA;EARA;IAAA,WAQA;EAAA;EARA;IAAA,4BAQA;EAAA;EARA;IAAA,WAQA;IARA;MAAA,gBAQA;IAAA;IARA;MAAA,gBAQA;IAAA;IARA;MAAA,gBAQA;IAAA;IARA;MAAA,gBAQA;IAAA;IARA;MAAA,gBAQA;IAAA;EAAA;EARA;IAAA,gCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,8CAQA;EAAA;EARA;IAAA,yBAQA;EAAA;EARA;IAAA,2CAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,wCAQA;EAAA;EARA;IAAA,cAQA;EAAA;EARA;IAAA,iBAQA;EAAA;EARA;IAAA,aAQA;EAAA;EARA;IAAA,aAQA;EAAA;EARA;IAAA,aAQA;EAAA;EARA;IAAA,eAQA;EAAA;EARA;IAAA,oBAQA;EAAA;EARA;IAAA,cAQA;EAAA;EARA;IAAA,gCAQA;IARA,iCAQA;EAAA;EARA;IAAA,gCAQA;EAAA;EARA;IAAA,gCAQA;EAAA;EARA;IAAA,gCAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,aAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,uBAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,WAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,YAQA;EAAA;EARA;IAAA,YAQA;EAAA;EARA;IAAA,yBAQA;EAAA;EARA;IAAA,gBAQA;IARA,gBAQA;IARA,gBAQA;IARA,0CAQA;EAAA;EARA;IAAA,kBAQA;IARA,kBAQA;IARA,kBAQA;IARA,0CAQA;EAAA;EARA;IAAA,0GAQA;EAAA;EARA;IAAA,eAQA;EAAA;EARA;IAAA,YAQA;EAAA;EARA;IAAA,qBAQA;EAAA;EARA;IAAA,gDAQA;EAAA;EARA;IAAA,gDAQA;EAAA;EARA;IAAA,gDAQA;EAAA;EARA;IAAA,sBAQA;EAAA;EARA;IAAA,8BAQA;EAAA;EARA;IAAA,eAQA;EAAA;EARA;IAAA,mBAQA;EAAA;EARA;IAAA,6BAQA;EAAA;EARA;IAAA,8BAQA;EAAA;EARA;IAAA,uBAQA;EAAA;EARA;IAAA,4BAQA;EAAA;EARA;IAAA,6BAQA;EAAA;EARA;IAAA,2BAQA;EAAA;EARA;IAAA,6BAQA;EAAA;EARA;IAAA,6BAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,gBAQA;IARA,uBAQA;IARA,mBAQA;EAAA;EARA;IAAA,iBAQA;EAAA;EARA;IAAA,kBAQA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,mCAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,wCAQA;EAAA;EARA;IAAA,oCAQA;IARA,iBAQA;EAAA;EARA;IAAA,oCAQA;IARA,iBAQA;EAAA;EARA;IAAA,oCAQA;IARA,iBAQA;EAAA;EARA;IAAA,oCAQA;IARA,iBAQA;EAAA;EARA;IAAA,oCAQA;IARA,iBAQA;EAAA;EARA;IAAA,2CAQA;IARA,wBAQA;EAAA;EARA;IAAA,iDAQA;IARA,8BAQA;EAAA;EARA;IAAA,wCAQA;IARA,qBAQA;EAAA;EARA;IAAA,2CAQA;IARA,wBAQA;EAAA;EARA;IAAA,2CAQA;IARA,wBAQA;EAAA;EARA;IAAA,gCAQA;EAAA;EARA;IAAA,mCAQA;EAAA;EARA;IAAA,kCAQA;EAAA;EARA;IAAA,kCAQA;EAAA;EARA;IAAA,yCAQA;EAAA;EARA;IAAA,yCAQA;EAAA;EARA;IAAA,yCAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,2DAQA;IARA;MAAA,0EAQA;IAAA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,6BAQA;EAAA;EARA;IAAA,oCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,wBAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,iCAQA;EAAA;EARA;IAAA,wCAQA;EAAA;EARA;IAAA,wCAQA;EAAA;EARA;IAAA,wCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,uCAQA;EAAA;EARA;IAAA,8CAQA;EAAA;EARA;IAAA,qCAQA;EAAA;EARA;IAAA,qCAQA;EAAA;EARA;IAAA,qCAQA;EAAA;EARA;IAAA,qCAQA;EAAA;EARA;IAAA,qCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,sCAQA;EAAA;EARA;IAAA,gBAQA;EAAA;EARA;IAAA,0BAQA;IARA,4DAQA;EAAA;EARA;IAAA,0BAQA;IARA,4DAQA;EAAA;EARA;IAAA,2BAQA;IARA,6DAQA;EAAA;EARA;IAAA,yBAQA;IARA,2DAQA;EAAA;EARA;IAAA,yBAQA;IARA,2DAQA;EAAA;EARA;IAAA,yBAQA;IARA,2DAQA;EAAA;EARA;IAAA,oCAQA;IARA,mCAQA;EAAA;EARA;IAAA,yCAQA;IARA,oCAQA;EAAA;EARA;IAAA,6CAQA;IARA,wCAQA;EAAA;EARA;IAAA,yBAQA;EAAA;EARA;IAAA,yBAQA;EAAA;EARA;IAAA,yBAQA;EAAA;EARA;IAAA,+BAQA;EAAA;EARA;IAAA,YAQA;EAAA;EARA;IAAA,aAQA;EAAA;EARA;IAAA,0HAQA;IARA,sIAQA;EAAA;EARA;IAAA,0HAQA;IARA,sIAQA;EAAA;EARA;IAAA,sCAQA;IARA,kBAQA;EAAA;EARA;IAAA,0LAQA;EAAA;EARA;IAAA,mRAQA;IARA,qFAQA;IARA,2EAQA;EAAA;EARA;IAAA,oBAQA;IARA,0BAQA;EAAA;EARA;IAAA,oBAQA;IARA,0BAQA;EAAA;EARA;IAAA,6BAQA;IARA,8CAQA;EAAA;EARA;IAAA;MAAA;QAAA,uCAQA;MAAA;IAAA;EAAA;EARA;IAAA;MAAA;QAAA,uCAQA;MAAA;IAAA;EAAA;EARA;IAAA;MAAA;QAAA,uCAQA;MAAA;IAAA;EAAA;EARA;IAAA;MAAA;QAAA,uCAQA;MAAA;IAAA;EAAA;EARA;IAAA;MAAA;QAAA,oCAQA;MAAA;IAAA;EAAA;EARA;IAAA;MAAA;QAAA,wBAQA;MAAA;IAAA;EAAA;EARA;IAAA;MAAA;QAAA,yBAQA;MAAA;IAAA;EAAA;EARA;IAAA;MAAA,sCAQA;MARA,kBAQA;IAAA;EAAA;EARA;IAAA;MAAA,uCAQA;IAAA;EAAA;EARA;IAAA;MAAA,uCAQA;IAAA;EAAA;AAAA;AARA;EAAA,uBAQA;EARA,YAQA;EARA,uBAQA;EARA,iBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,gBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,gBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,gBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,oBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,wBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,sBAQA;EARA,eAQA;EARA,mBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,wBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,sBAQA;EARA,eAQA;EARA,mBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,wBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,wBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,kBAQA;EARA,eAQA;EARA,kBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,mBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,wBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;EARA,oBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,sBAQA;EARA,eAQA;EARA,mBAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA,WAQA;EARA,eAQA;AAAA;AARA;EAAA;IAAA;MAAA,eAQA;MARA,eAQA;MARA,eAQA;MARA,sBAQA;MARA,sBAQA;MARA,sBAQA;MARA,oBAQA;MARA,oBAQA;MARA,wBAQA;MARA,qBAQA;MARA,yBAQA;MARA,sBAQA;MARA,0BAQA;MARA,uBAQA;MARA,4BAQA;MARA,gCAQA;MARA,6BAQA;MARA,wBAQA;MARA,2BAQA;MARA,8BAQA;MARA,iCAQA;MARA,wBAQA;MARA,2BAQA;MARA,4BAQA;MARA,kCAQA;MARA,yBAQA;MARA,kBAQA;MARA,wBAQA;MARA,sBAQA;MARA,uBAQA;MARA,wBAQA;MARA,oBAQA;MARA,qBAQA;MARA,sBAQA;MARA,mBAQA;MARA,yBAQA;MARA,+BAQA;MARA,4BAQA;MARA,8BAQA;MARA,sBAQA;MARA,kBAQA;IAAA;EAAA;AAAA\",\"sourcesContent\":[\"@import \\\"tailwindcss\\\";\\r\\n\\r\\nbody {\\r\\n    background-color: white;\\r\\n    color: black;\\r\\n    font-family: sans-serif;\\r\\n    font-size: 1.2rem;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-return */\nimport { INJECTOR_TOKEN, TARGET_TOKEN, } from './api/InjectionToken.js';\nimport { Scope } from './api/Scope.js';\nimport { InjectionError, InjectorDisposedError } from './errors.js';\nimport { isDisposable } from './utils.js';\nconst DEFAULT_SCOPE = Scope.Singleton;\n/*\n\n# Composite design pattern:\n\n         \n          AbstractInjector \n         \n                   \n                   \n          \n                           \n    \n  RootInjector     ChildInjector \n    \n                            \n                            \n              \n               ChildWithProvidedInjector \n              \n                            \n                            \n          \n   \n  FactoryInjector   ClassInjector   ValueInjector \n   \n*/\nclass AbstractInjector {\n    childInjectors = new Set();\n    injectClass(Class, providedIn) {\n        this.throwIfDisposed(Class);\n        try {\n            const args = this.resolveParametersToInject(Class, providedIn);\n            return new Class(...args);\n        }\n        catch (error) {\n            throw InjectionError.create(Class, error);\n        }\n    }\n    injectFunction(fn, providedIn) {\n        this.throwIfDisposed(fn);\n        try {\n            const args = this.resolveParametersToInject(fn, providedIn);\n            return fn(...args);\n        }\n        catch (error) {\n            throw InjectionError.create(fn, error);\n        }\n    }\n    resolveParametersToInject(injectable, target) {\n        const tokens = injectable.inject || [];\n        return tokens.map((key) => {\n            switch (key) {\n                case TARGET_TOKEN:\n                    return target;\n                case INJECTOR_TOKEN:\n                    return this;\n                default:\n                    return this.resolveInternal(key, injectable);\n            }\n        });\n    }\n    provideValue(token, value) {\n        this.throwIfDisposed(token);\n        const provider = new ValueProvider(this, token, value);\n        this.childInjectors.add(provider);\n        return provider;\n    }\n    provideClass(token, Class, scope = DEFAULT_SCOPE) {\n        this.throwIfDisposed(token);\n        const provider = new ClassProvider(this, token, scope, Class);\n        this.childInjectors.add(provider);\n        return provider;\n    }\n    provideFactory(token, factory, scope = DEFAULT_SCOPE) {\n        this.throwIfDisposed(token);\n        const provider = new FactoryProvider(this, token, scope, factory);\n        this.childInjectors.add(provider);\n        return provider;\n    }\n    resolve(token, target) {\n        this.throwIfDisposed(token);\n        return this.resolveInternal(token, target);\n    }\n    throwIfDisposed(injectableOrToken) {\n        if (this.isDisposed) {\n            throw new InjectorDisposedError(injectableOrToken);\n        }\n    }\n    removeChild(child) {\n        this.childInjectors.delete(child);\n    }\n    isDisposed = false;\n    createChildInjector() {\n        return new ChildInjector(this);\n    }\n    async dispose() {\n        if (!this.isDisposed) {\n            this.isDisposed = true; // be sure new disposables aren't added while we're disposing\n            const promises = [];\n            for (const child of this.childInjectors) {\n                promises.push(child.dispose());\n            }\n            await Promise.all(promises);\n            await this.disposeInjectedValues();\n        }\n    }\n}\nclass RootInjector extends AbstractInjector {\n    resolveInternal(token) {\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        throw new Error(`No provider found for \"${token}\"!.`);\n    }\n    disposeInjectedValues() {\n        return Promise.resolve();\n    }\n}\nclass ChildInjector extends AbstractInjector {\n    parent;\n    async disposeInjectedValues() { }\n    resolveInternal(token, target) {\n        return this.parent.resolve(token, target);\n    }\n    constructor(parent) {\n        super();\n        this.parent = parent;\n    }\n    async dispose() {\n        this.parent.removeChild(this);\n        await super.dispose();\n    }\n}\nclass ChildWithProvidedInjector extends ChildInjector {\n    token;\n    scope;\n    cached;\n    disposables = new Set();\n    constructor(parent, token, scope) {\n        super(parent);\n        this.token = token;\n        this.scope = scope;\n    }\n    resolveInternal(token, target) {\n        if (token === this.token) {\n            if (this.cached) {\n                return this.cached.value;\n            }\n            else {\n                try {\n                    const value = this.result(target);\n                    this.addToCacheIfNeeded(value);\n                    return value;\n                }\n                catch (error) {\n                    throw InjectionError.create(token, error);\n                }\n            }\n        }\n        else {\n            return this.parent.resolve(token, target);\n        }\n    }\n    addToCacheIfNeeded(value) {\n        if (this.scope === Scope.Singleton) {\n            this.cached = { value };\n        }\n    }\n    registerProvidedValue(value) {\n        if (isDisposable(value)) {\n            this.disposables.add(value);\n        }\n        return value;\n    }\n    async disposeInjectedValues() {\n        const promisesToAwait = [...this.disposables.values()].map((disposable) => disposable.dispose());\n        await Promise.all(promisesToAwait);\n    }\n}\nclass ValueProvider extends ChildWithProvidedInjector {\n    value;\n    constructor(parent, token, value) {\n        super(parent, token, Scope.Transient);\n        this.value = value;\n    }\n    result() {\n        return this.value;\n    }\n}\nclass FactoryProvider extends ChildWithProvidedInjector {\n    injectable;\n    constructor(parent, token, scope, injectable) {\n        super(parent, token, scope);\n        this.injectable = injectable;\n    }\n    result(target) {\n        return this.registerProvidedValue(this.parent.injectFunction(this.injectable, target));\n    }\n}\nclass ClassProvider extends ChildWithProvidedInjector {\n    injectable;\n    constructor(parent, token, scope, injectable) {\n        super(parent, token, scope);\n        this.injectable = injectable;\n    }\n    result(target) {\n        return this.registerProvidedValue(this.parent.injectClass(this.injectable, target));\n    }\n}\nexport function createInjector() {\n    return new RootInjector();\n}\n//# sourceMappingURL=InjectorImpl.js.map","export const INJECTOR_TOKEN = '$injector';\nexport const TARGET_TOKEN = '$target';\n//# sourceMappingURL=InjectionToken.js.map","export var Scope;\n(function (Scope) {\n    Scope[\"Transient\"] = \"transient\";\n    Scope[\"Singleton\"] = \"singleton\";\n})(Scope || (Scope = {}));\n//# sourceMappingURL=Scope.js.map","/*\n\n                    \n                     TypedInjectError \n                    \n                              \n                              \n               \n                                           \n         \n  InjectorDisposedError           InjectionError \n         \n*/\nexport class TypedInjectError extends Error {\n}\nfunction describeInjectAction(target) {\n    if (typeof target === 'function') {\n        return 'inject';\n    }\n    else {\n        return 'resolve';\n    }\n}\nfunction name(target) {\n    if (typeof target === 'function') {\n        if (target.toString().startsWith('class')) {\n            return `[class ${target.name || '<anonymous>'}]`;\n        }\n        else {\n            return `[function ${target.name || '<anonymous>'}]`;\n        }\n    }\n    else {\n        return `[token \"${String(target)}\"]`;\n    }\n}\nexport class InjectorDisposedError extends TypedInjectError {\n    constructor(target) {\n        super(`Injector is already disposed. Please don't use it anymore. Tried to ${describeInjectAction(target)} ${name(target)}.`);\n    }\n}\nexport class InjectionError extends TypedInjectError {\n    path;\n    constructor(path, cause) {\n        super(`Could not ${describeInjectAction(path[0])} ${path.map(name).join(' -> ')}. Cause: ${cause.message}`, { cause });\n        this.path = path;\n    }\n    static create(target, error) {\n        if (error instanceof InjectionError) {\n            return new InjectionError([target, ...error.path], error.cause);\n        }\n        else {\n            return new InjectionError([target], error);\n        }\n    }\n}\n//# sourceMappingURL=errors.js.map","/**\n * Helper method to create string literal tuple type.\n * @example\n * ```ts\n * const inject = tokens('foo', 'bar');\n * const inject2: ['foo', 'bar'] = ['foo', 'bar'];\n * ```\n * @param tokens The tokens as args\n */\nexport function tokens(...tokens) {\n    return tokens;\n}\n//# sourceMappingURL=tokens.js.map","export function isDisposable(maybeDisposable) {\n    const asDisposable = maybeDisposable;\n    return (asDisposable &&\n        asDisposable.dispose &&\n        typeof asDisposable.dispose === 'function');\n}\n//# sourceMappingURL=utils.js.map","var map = {\n\t\"./components/app-init/app-init.ts\": \"./src/components/app-init/app-init.ts\",\n\t\"./components/base-list/base-list-component.ts\": \"./src/components/base-list/base-list-component.ts\",\n\t\"./components/base.component.ts\": \"./src/components/base.component.ts\",\n\t\"./components/buttons/primary-button/primary-button.ts\": \"./src/components/buttons/primary-button/primary-button.ts\",\n\t\"./components/buttons/secondary-button/secondary-button.ts\": \"./src/components/buttons/secondary-button/secondary-button.ts\",\n\t\"./components/error-panel/error-panel.ts\": \"./src/components/error-panel/error-panel.ts\",\n\t\"./components/gear/add-new-gear-item-button/add-new-gear-item-button.ts\": \"./src/components/gear/add-new-gear-item-button/add-new-gear-item-button.ts\",\n\t\"./components/gear/gear-armor-display/gear-armor-display.ts\": \"./src/components/gear/gear-armor-display/gear-armor-display.ts\",\n\t\"./components/gear/gear-armor-form-fields/gear-armor-form-fields.ts\": \"./src/components/gear/gear-armor-form-fields/gear-armor-form-fields.ts\",\n\t\"./components/gear/gear-categories-pill-bar/gear-categories-pill-bar.ts\": \"./src/components/gear/gear-categories-pill-bar/gear-categories-pill-bar.ts\",\n\t\"./components/gear/gear-equipment-display/gear-equipment-display.ts\": \"./src/components/gear/gear-equipment-display/gear-equipment-display.ts\",\n\t\"./components/gear/gear-equipment-form-fields/gear-equipment-form-fields.ts\": \"./src/components/gear/gear-equipment-form-fields/gear-equipment-form-fields.ts\",\n\t\"./components/gear/gear-item-display-dialog/gear-item-display-dialog.ts\": \"./src/components/gear/gear-item-display-dialog/gear-item-display-dialog.ts\",\n\t\"./components/gear/gear-list-filter-bar/gear-list-filter-bar.ts\": \"./src/components/gear/gear-list-filter-bar/gear-list-filter-bar.ts\",\n\t\"./components/gear/gear-list/gear-list.ts\": \"./src/components/gear/gear-list/gear-list.ts\",\n\t\"./components/gear/gear-weapon-display/gear-weapon-display.ts\": \"./src/components/gear/gear-weapon-display/gear-weapon-display.ts\",\n\t\"./components/gear/gear-weapon-form-fields/gear-weapon-form-fields.ts\": \"./src/components/gear/gear-weapon-form-fields/gear-weapon-form-fields.ts\",\n\t\"./components/headings/page-heading-1/page-heading-1.ts\": \"./src/components/headings/page-heading-1/page-heading-1.ts\",\n\t\"./components/layout/footer-bar/footer-bar.ts\": \"./src/components/layout/footer-bar/footer-bar.ts\",\n\t\"./components/layout/header-bar/header-bar.ts\": \"./src/components/layout/header-bar/header-bar.ts\",\n\t\"./components/modal-dialog/modal-dialog.ts\": \"./src/components/modal-dialog/modal-dialog.ts\",\n\t\"./components/npcs/npc-form/npc-form.ts\": \"./src/components/npcs/npc-form/npc-form.ts\",\n\t\"./components/npcs/npc-list-filter-bar/npc-list-filter-bar.ts\": \"./src/components/npcs/npc-list-filter-bar/npc-list-filter-bar.ts\",\n\t\"./components/npcs/npc-list/npc-list.ts\": \"./src/components/npcs/npc-list/npc-list.ts\",\n\t\"./components/page-router/page-router.ts\": \"./src/components/page-router/page-router.ts\",\n\t\"./components/pages/about/about.component.ts\": \"./src/components/pages/about/about.component.ts\",\n\t\"./components/pages/base-page.component.ts\": \"./src/components/pages/base-page.component.ts\",\n\t\"./components/pages/characters/characters.ts\": \"./src/components/pages/characters/characters.ts\",\n\t\"./components/pages/codex/codex.ts\": \"./src/components/pages/codex/codex.ts\",\n\t\"./components/pages/gear-item/gear-item.ts\": \"./src/components/pages/gear-item/gear-item.ts\",\n\t\"./components/pages/gear/gear.component.ts\": \"./src/components/pages/gear/gear.component.ts\",\n\t\"./components/pages/npcs/npcs.ts\": \"./src/components/pages/npcs/npcs.ts\",\n\t\"./features/database-versions/database-version.ts\": \"./src/features/database-versions/database-version.ts\",\n\t\"./features/gear/armor-item-form-fields-dto.ts\": \"./src/features/gear/armor-item-form-fields-dto.ts\",\n\t\"./features/gear/armor-item-map.ts\": \"./src/features/gear/armor-item-map.ts\",\n\t\"./features/gear/armor-item.ts\": \"./src/features/gear/armor-item.ts\",\n\t\"./features/gear/armor-speed.ts\": \"./src/features/gear/armor-speed.ts\",\n\t\"./features/gear/delete-custom-gear-item/delete-custom-gear-item-feature.ts\": \"./src/features/gear/delete-custom-gear-item/delete-custom-gear-item-feature.ts\",\n\t\"./features/gear/delete-custom-gear-item/delete-custom-gear-item-request.ts\": \"./src/features/gear/delete-custom-gear-item/delete-custom-gear-item-request.ts\",\n\t\"./features/gear/equipment-item-form-fields-dto.ts\": \"./src/features/gear/equipment-item-form-fields-dto.ts\",\n\t\"./features/gear/equipment-item-map.ts\": \"./src/features/gear/equipment-item-map.ts\",\n\t\"./features/gear/equipment-item.ts\": \"./src/features/gear/equipment-item.ts\",\n\t\"./features/gear/filter-gear-list/filter-gear-list-feature.ts\": \"./src/features/gear/filter-gear-list/filter-gear-list-feature.ts\",\n\t\"./features/gear/filter-gear-list/filter-gear-list-request.ts\": \"./src/features/gear/filter-gear-list/filter-gear-list-request.ts\",\n\t\"./features/gear/gear-item.ts\": \"./src/features/gear/gear-item.ts\",\n\t\"./features/gear/gear-list-item-map.ts\": \"./src/features/gear/gear-list-item-map.ts\",\n\t\"./features/gear/gear-list-item.ts\": \"./src/features/gear/gear-list-item.ts\",\n\t\"./features/gear/get-all-gear/get-all-gear-feature.ts\": \"./src/features/gear/get-all-gear/get-all-gear-feature.ts\",\n\t\"./features/gear/get-gear-by-id/get-gear-by-id-feature.ts\": \"./src/features/gear/get-gear-by-id/get-gear-by-id-feature.ts\",\n\t\"./features/gear/get-gear-by-id/get-gear-by-id-request.ts\": \"./src/features/gear/get-gear-by-id/get-gear-by-id-request.ts\",\n\t\"./features/gear/save-custom-armor-item/save-custom-armor-item-feature.ts\": \"./src/features/gear/save-custom-armor-item/save-custom-armor-item-feature.ts\",\n\t\"./features/gear/save-custom-armor-item/save-custom-armor-item-request.ts\": \"./src/features/gear/save-custom-armor-item/save-custom-armor-item-request.ts\",\n\t\"./features/gear/save-custom-equipment-item/save-custom-equipment-item-feature.ts\": \"./src/features/gear/save-custom-equipment-item/save-custom-equipment-item-feature.ts\",\n\t\"./features/gear/save-custom-equipment-item/save-custom-equipment-item-request.ts\": \"./src/features/gear/save-custom-equipment-item/save-custom-equipment-item-request.ts\",\n\t\"./features/gear/save-custom-weapon-item/save-custom-weapon-item-feature.ts\": \"./src/features/gear/save-custom-weapon-item/save-custom-weapon-item-feature.ts\",\n\t\"./features/gear/save-custom-weapon-item/save-custom-weapon-item-request.ts\": \"./src/features/gear/save-custom-weapon-item/save-custom-weapon-item-request.ts\",\n\t\"./features/gear/sort-gear-list/sort-gear-list-feature.ts\": \"./src/features/gear/sort-gear-list/sort-gear-list-feature.ts\",\n\t\"./features/gear/sort-gear-list/sort-gear-list-request.ts\": \"./src/features/gear/sort-gear-list/sort-gear-list-request.ts\",\n\t\"./features/gear/weapon-category.ts\": \"./src/features/gear/weapon-category.ts\",\n\t\"./features/gear/weapon-item-form-fields-dto.ts\": \"./src/features/gear/weapon-item-form-fields-dto.ts\",\n\t\"./features/gear/weapon-item-map.ts\": \"./src/features/gear/weapon-item-map.ts\",\n\t\"./features/gear/weapon-item.ts\": \"./src/features/gear/weapon-item.ts\",\n\t\"./features/gear/weapon-range.ts\": \"./src/features/gear/weapon-range.ts\",\n\t\"./features/npcs/create-custom-npc/create-custom-npc-feature.ts\": \"./src/features/npcs/create-custom-npc/create-custom-npc-feature.ts\",\n\t\"./features/npcs/create-custom-npc/create-custom-npc-request.ts\": \"./src/features/npcs/create-custom-npc/create-custom-npc-request.ts\",\n\t\"./features/npcs/filter-npcs-list/filter-npcs-list-feature.ts\": \"./src/features/npcs/filter-npcs-list/filter-npcs-list-feature.ts\",\n\t\"./features/npcs/filter-npcs-list/filter-npcs-list-request.ts\": \"./src/features/npcs/filter-npcs-list/filter-npcs-list-request.ts\",\n\t\"./features/npcs/get-all-npcs/get-all-npcs-feature.ts\": \"./src/features/npcs/get-all-npcs/get-all-npcs-feature.ts\",\n\t\"./features/npcs/get-npc-by-id/get-npc-by-id-feature.ts\": \"./src/features/npcs/get-npc-by-id/get-npc-by-id-feature.ts\",\n\t\"./features/npcs/get-npc-by-id/get-npc-by-id-request.ts\": \"./src/features/npcs/get-npc-by-id/get-npc-by-id-request.ts\",\n\t\"./features/npcs/npc-attack.ts\": \"./src/features/npcs/npc-attack.ts\",\n\t\"./features/npcs/npc-list-item-map.ts\": \"./src/features/npcs/npc-list-item-map.ts\",\n\t\"./features/npcs/npc-list-item.ts\": \"./src/features/npcs/npc-list-item.ts\",\n\t\"./features/npcs/npc-special-ability.ts\": \"./src/features/npcs/npc-special-ability.ts\",\n\t\"./features/npcs/npc.ts\": \"./src/features/npcs/npc.ts\",\n\t\"./features/npcs/sort-npcs-list/sort-npcs-list-feature.ts\": \"./src/features/npcs/sort-npcs-list/sort-npcs-list-feature.ts\",\n\t\"./features/npcs/sort-npcs-list/sort-npcs-list-request.ts\": \"./src/features/npcs/sort-npcs-list/sort-npcs-list-request.ts\",\n\t\"./features/sources/source.ts\": \"./src/features/sources/source.ts\",\n\t\"./features/sources/sources-service.ts\": \"./src/features/sources/sources-service.ts\",\n\t\"./features/temp_ts.ts\": \"./src/features/temp_ts.ts\",\n\t\"./index.ts\": \"./src/index.ts\",\n\t\"./lib/common/data-access/blob-storage-interface.ts\": \"./src/lib/common/data-access/blob-storage-interface.ts\",\n\t\"./lib/common/data-access/database-context-interface.ts\": \"./src/lib/common/data-access/database-context-interface.ts\",\n\t\"./lib/common/data-access/database-interface.ts\": \"./src/lib/common/data-access/database-interface.ts\",\n\t\"./lib/common/data-access/db-set.ts\": \"./src/lib/common/data-access/db-set.ts\",\n\t\"./lib/common/data-access/repository-interface.ts\": \"./src/lib/common/data-access/repository-interface.ts\",\n\t\"./lib/common/data-access/unit-of-work-interface.ts\": \"./src/lib/common/data-access/unit-of-work-interface.ts\",\n\t\"./lib/common/features/async-feature-interface.ts\": \"./src/lib/common/features/async-feature-interface.ts\",\n\t\"./lib/common/features/empty-request.ts\": \"./src/lib/common/features/empty-request.ts\",\n\t\"./lib/common/features/feature-interface.ts\": \"./src/lib/common/features/feature-interface.ts\",\n\t\"./lib/common/features/filter-list-feature.ts\": \"./src/lib/common/features/filter-list-feature.ts\",\n\t\"./lib/common/features/save-db-entity-feature.ts\": \"./src/lib/common/features/save-db-entity-feature.ts\",\n\t\"./lib/common/features/save-db-entity-request.ts\": \"./src/lib/common/features/save-db-entity-request.ts\",\n\t\"./lib/common/features/sort-list-feature.ts\": \"./src/lib/common/features/sort-list-feature.ts\",\n\t\"./lib/common/types/constructor-type.ts\": \"./src/lib/common/types/constructor-type.ts\",\n\t\"./lib/data-access/app-database-context.ts\": \"./src/lib/data-access/app-database-context.ts\",\n\t\"./lib/data-access/base-repository.ts\": \"./src/lib/data-access/base-repository.ts\",\n\t\"./lib/data-access/browser-blob-storage.ts\": \"./src/lib/data-access/browser-blob-storage.ts\",\n\t\"./lib/data-access/database-collection-names.ts\": \"./src/lib/data-access/database-collection-names.ts\",\n\t\"./lib/data-access/repository.ts\": \"./src/lib/data-access/repository.ts\",\n\t\"./lib/data-access/seedable-json-database.ts\": \"./src/lib/data-access/seedable-json-database.ts\",\n\t\"./lib/data-access/talespire-blob-storage.ts\": \"./src/lib/data-access/talespire-blob-storage.ts\",\n\t\"./lib/data-access/unit-of-work.ts\": \"./src/lib/data-access/unit-of-work.ts\",\n\t\"./lib/errors/error-code.ts\": \"./src/lib/errors/error-code.ts\",\n\t\"./lib/events/app-error-event.ts\": \"./src/lib/events/app-error-event.ts\",\n\t\"./lib/events/app-event-listener-interface.ts\": \"./src/lib/events/app-event-listener-interface.ts\",\n\t\"./lib/events/app-event.ts\": \"./src/lib/events/app-event.ts\",\n\t\"./lib/events/event-bus.ts\": \"./src/lib/events/event-bus.ts\",\n\t\"./lib/events/gear-category-changed-event.ts\": \"./src/lib/events/gear-category-changed-event.ts\",\n\t\"./lib/events/gear-filter-changed-event.ts\": \"./src/lib/events/gear-filter-changed-event.ts\",\n\t\"./lib/events/gear-item-deleted-event.ts\": \"./src/lib/events/gear-item-deleted-event.ts\",\n\t\"./lib/events/npc-filter-changed-event.ts\": \"./src/lib/events/npc-filter-changed-event.ts\",\n\t\"./lib/events/page-change-initiated-event.ts\": \"./src/lib/events/page-change-initiated-event.ts\",\n\t\"./lib/events/page-changed-event.ts\": \"./src/lib/events/page-changed-event.ts\",\n\t\"./lib/events/ui-reportable-error-cleared-event.ts\": \"./src/lib/events/ui-reportable-error-cleared-event.ts\",\n\t\"./lib/events/ui-reportable-error-occurred-event.ts\": \"./src/lib/events/ui-reportable-error-occurred-event.ts\",\n\t\"./lib/infrastructure/app-injector.ts\": \"./src/lib/infrastructure/app-injector.ts\",\n\t\"./lib/infrastructure/startup.ts\": \"./src/lib/infrastructure/startup.ts\",\n\t\"./lib/localization/localization-service.ts\": \"./src/lib/localization/localization-service.ts\",\n\t\"./lib/localization/message-keys.ts\": \"./src/lib/localization/message-keys.ts\",\n\t\"./lib/logging/app-log-formatter.ts\": \"./src/lib/logging/app-log-formatter.ts\",\n\t\"./lib/logging/app-logger.ts\": \"./src/lib/logging/app-logger.ts\",\n\t\"./lib/logging/console-logger.ts\": \"./src/lib/logging/console-logger.ts\",\n\t\"./lib/logging/logger-interface.ts\": \"./src/lib/logging/logger-interface.ts\",\n\t\"./lib/pages/page-route-data.ts\": \"./src/lib/pages/page-route-data.ts\",\n\t\"./lib/pages/page-router-service.ts\": \"./src/lib/pages/page-router-service.ts\",\n\t\"./lib/result/result-error.ts\": \"./src/lib/result/result-error.ts\",\n\t\"./lib/result/result.ts\": \"./src/lib/result/result.ts\",\n\t\"./lib/services/credits-abbreviator.ts\": \"./src/lib/services/credits-abbreviator.ts\",\n\t\"./lib/services/path-service.ts\": \"./src/lib/services/path-service.ts\",\n\t\"./lib/services/styles-service.ts\": \"./src/lib/services/styles-service.ts\",\n\t\"./lib/settings/app-settings.ts\": \"./src/lib/settings/app-settings.ts\",\n\t\"./lib/sorting/sort-direction.ts\": \"./src/lib/sorting/sort-direction.ts\",\n\t\"./lib/sorting/sort-state.ts\": \"./src/lib/sorting/sort-state.ts\",\n\t\"./lib/tables/table-header.ts\": \"./src/lib/tables/table-header.ts\",\n\t\"./lib/talespire/taleSpireSubscriptionHandlers.ts\": \"./src/lib/talespire/taleSpireSubscriptionHandlers.ts\",\n\t\"./lib/talespire/talespire-api-interface.ts\": \"./src/lib/talespire/talespire-api-interface.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src sync recursive ^(?%21.*\\\\.d\\\\.ts$).*\\\\.ts$\";","export default \"<slot></slot>\\r\\n\";","import html from \"./app-init.html\";\r\nimport { BaseComponent } from \"../base.component\";\r\nimport { appInjector } from \"../../lib/infrastructure/app-injector\";\r\nimport { AppLogFormatter } from \"../../lib/logging/app-log-formatter\";\r\n\r\nexport class AppInitComponent extends BaseComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await this.initializeApp();\r\n\r\n        this.render(html);\r\n    }\r\n\r\n    private async initializeApp() {\r\n        console.info(AppLogFormatter.format(\"info\", \"Initializing app...\"));\r\n\r\n        const startup = appInjector.resolve(\"startup\");\r\n\r\n        await startup.configure();\r\n\r\n        console.info(AppLogFormatter.format(\"info\", \"App initialization finished!\"));\r\n    }\r\n}\r\n\r\ncustomElements.define(\"app-init\", AppInitComponent);\r\n","import { IUnitOfWork } from \"../../lib/common/data-access/unit-of-work-interface\";\r\nimport { UnitOfWork } from \"../../lib/data-access/unit-of-work\";\r\nimport { EventBus } from \"../../lib/events/event-bus\";\r\nimport { UiReportableErrorOccurredEvent } from \"../../lib/events/ui-reportable-error-occurred-event\";\r\nimport { appInjector } from \"../../lib/infrastructure/app-injector\";\r\nimport { SortDirection } from \"../../lib/sorting/sort-direction\";\r\nimport { SortState } from \"../../lib/sorting/sort-state\";\r\nimport { TableHeader } from \"../../lib/tables/table-header\";\r\nimport { BaseComponent } from \"../base.component\";\r\n\r\nexport abstract class BaseListComponent extends BaseComponent {\r\n    protected unitOfWork: IUnitOfWork;\r\n    protected readonly tableHeaders: TableHeader[];\r\n    protected sortState: SortState;\r\n\r\n    constructor(defaultSortField: string, tableHeaders: TableHeader[]) {\r\n        super();\r\n        this.unitOfWork = appInjector.injectClass(UnitOfWork);\r\n        this.sortState = new SortState(defaultSortField);\r\n        this.tableHeaders = tableHeaders;\r\n    }\r\n\r\n    protected populateTableHeaderRow() {\r\n        const npcListContainer = this.shadow.querySelector(\"#list-container\");\r\n\r\n        if (!npcListContainer) return;\r\n\r\n        const tableHeader = npcListContainer.querySelector(\"thead\");\r\n\r\n        if (!tableHeader) return;\r\n\r\n        tableHeader.appendChild(this.createTableHeaderRowElement());\r\n    }\r\n\r\n    private createTableHeaderRowElement(): HTMLTableRowElement {\r\n        const row = document.createElement(\"tr\");\r\n\r\n        this.tableHeaders.forEach((header) => {\r\n            row.appendChild(this.createTableHeaderElement(header));\r\n        });\r\n\r\n        return row;\r\n    }\r\n\r\n    private createTableHeaderElement(header: TableHeader): HTMLTableCellElement {\r\n        const tableHeaderElement = document.createElement(\"th\");\r\n\r\n        tableHeaderElement.id = `header${header.field}`;\r\n        tableHeaderElement.className = \"uppercase p-2 cursor-pointer\";\r\n        tableHeaderElement.onclick = () => this.onTableHeaderClick(header.field);\r\n        tableHeaderElement.appendChild(this.createHeaderDivElement(header));\r\n\r\n        return tableHeaderElement;\r\n    }\r\n\r\n    private createHeaderDivElement(header: TableHeader): HTMLDivElement {\r\n        const headerDiv = document.createElement(\"div\");\r\n\r\n        headerDiv.className = \"flex justify-between\";\r\n        headerDiv.innerHTML = `\r\n            <div>${header.displayName}</div>\r\n            <div id=\"${header.field}SortIcon\"></div>\r\n        `;\r\n\r\n        return headerDiv;\r\n    }\r\n\r\n    private onTableHeaderClick(header: string) {\r\n        this.sortState.set(header);\r\n        this.sortItems();\r\n        this.populateTableRows(true);\r\n    }\r\n\r\n    protected populateTableRows(clearOldRows: boolean = false) {\r\n        const gearListContainer = this.shadow.querySelector(\"#list-container\");\r\n\r\n        if (!gearListContainer) return;\r\n\r\n        const tableBody = gearListContainer.querySelector(\"tbody\");\r\n\r\n        if (!tableBody) return;\r\n\r\n        if (clearOldRows && tableBody.hasChildNodes()) {\r\n            tableBody.replaceChildren();\r\n        }\r\n\r\n        this.createTableRowsElements(tableBody);\r\n    }\r\n\r\n    protected createBaseTableRowElement(): HTMLTableRowElement {\r\n        const row = document.createElement(\"tr\");\r\n\r\n        row.className = \"border-2 border-y-gray-300 cursor-pointer hover:bg-gray-300\";\r\n\r\n        return row;\r\n    }\r\n\r\n    protected updateSortIcons(currentHeader: string) {\r\n        const sortIcon = this.shadow.querySelector(`#${currentHeader}SortIcon`);\r\n\r\n        if (!sortIcon) return;\r\n\r\n        if (currentHeader !== this.sortState.field) {\r\n            sortIcon.className = \"\";\r\n            return;\r\n        }\r\n\r\n        if (this.sortState.direction === SortDirection.Ascending) {\r\n            sortIcon.className = \"icon-chevron icon-chevron-up\";\r\n        } else if (this.sortState.direction === SortDirection.Descending) {\r\n            sortIcon.className = \"icon-chevron icon-chevron-down\";\r\n        } else {\r\n            sortIcon.className = \"\";\r\n        }\r\n    }\r\n\r\n    protected dispatchErrorEvent(error: string) {\r\n        EventBus.instance.dispatch(new UiReportableErrorOccurredEvent(error));\r\n    }\r\n\r\n    protected abstract sortItems(): void;\r\n    protected abstract createTableRowsElements(tableBody: HTMLTableSectionElement): void;\r\n}\r\n","import { StylesService } from \"../lib/services/styles-service\";\r\n\r\nexport class BaseComponent extends HTMLElement {\r\n    protected shadow: ShadowRoot;\r\n\r\n    constructor() {\r\n        super();\r\n        this.shadow = this.attachShadow({ mode: \"open\" });\r\n    }\r\n\r\n    protected render(html: string): void {\r\n        StylesService.instance.addGlobalStylesToShadowRoot(this.shadow);\r\n\r\n        const template = document.createElement(\"template\");\r\n        template.innerHTML = this.attachCallbacks(html);\r\n        const templateContent = template.content;\r\n        this.shadow.appendChild(templateContent.cloneNode(true));\r\n    }\r\n\r\n    private attachCallbacks(html: string): string {\r\n        const lastId: number = window.lastComponentId ? window.lastComponentId : 0;\r\n        const componentId: number = lastId + 1;\r\n        window.lastComponentId = componentId;\r\n\r\n        const componentName: string = \"component\" + componentId;\r\n        (window as any)[componentName] = this;\r\n        return html.replaceAll(\"this.\", `window.${componentName}.`);\r\n    }\r\n}\r\n","export default \"<button\\r\\n    type=\\\"button\\\"\\r\\n    class=\\\"text-white bg-black hover:bg-gray-900 active:bg-gray-700 font-bold min-w-32 px-4 py-1 my-2 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n>\\r\\n    <slot></slot>\\r\\n</button>\\r\\n\";","import html from \"./primary-button.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\n\r\nexport class PrimaryButtonComponent extends BaseComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"primary-button\", PrimaryButtonComponent);\r\n","export default \"<button\\r\\n    type=\\\"button\\\"\\r\\n    id=\\\"categoryArmor\\\"\\r\\n    class=\\\"text-black bg-white hover:bg-gray-100 active:bg-gray-300 border-3 border-black font-bold min-w-32 px-4 py-1 my-2 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n>\\r\\n    <slot></slot>\\r\\n</button>\\r\\n\";","import html from \"./secondary-button.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\n\r\nexport class SecondaryButtonComponent extends BaseComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"secondary-button\", SecondaryButtonComponent);\r\n","export default \"<div id=\\\"errorPanel\\\" class=\\\"bg-red-500 border-3 border-red-700 rounded-md mx-2 my-1 p-2 text-white hidden\\\">\\r\\n    <h2 class=\\\"flex text-xl uppercase mb-2\\\">\\r\\n        <span class=\\\"pt-1 mr-1\\\">\\r\\n            <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 -960 960 960\\\" width=\\\"24px\\\" fill=\\\"#e3e3e3\\\">\\r\\n                <path\\r\\n                    d=\\\"M480-280q17 0 28.5-11.5T520-320q0-17-11.5-28.5T480-360q-17 0-28.5 11.5T440-320q0 17 11.5 28.5T480-280Zm-40-160h80v-240h-80v240Zm40 360q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n        </span>\\r\\n\\r\\n        Error\\r\\n    </h2>\\r\\n    <p id=\\\"errorDescription\\\">Test</p>\\r\\n    <ul id=\\\"errorDetails\\\" class=\\\"list-disc pl-6 hidden\\\"></ul>\\r\\n</div>\\r\\n\";","import html from \"./error-panel.html\";\r\nimport { BaseComponent } from \"../base.component\";\r\nimport { EventBus } from \"../../lib/events/event-bus\";\r\nimport { AppEvent } from \"../../lib/events/app-event\";\r\nimport { AppEventListener } from \"../../lib/events/app-event-listener-interface\";\r\nimport { UiReportableErrorOccurredEvent } from \"../../lib/events/ui-reportable-error-occurred-event\";\r\nimport { UiReportableErrorClearedEvent } from \"../../lib/events/ui-reportable-error-cleared-event\";\r\n\r\nexport class ErrorPanelComponent extends BaseComponent {\r\n    private readonly errorPanelId = \"errorPanel\";\r\n    private readonly errorDescriptionId = \"errorDescription\";\r\n    private readonly errorDetailsId = \"errorDetails\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n\r\n        EventBus.instance.register(UiReportableErrorOccurredEvent.name, this.onShowErrorEvent);\r\n        EventBus.instance.register(UiReportableErrorClearedEvent.name, this.onHideErrorEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregister(UiReportableErrorOccurredEvent.name, this.onShowErrorEvent);\r\n        EventBus.instance.unregister(UiReportableErrorClearedEvent.name, this.onHideErrorEvent);\r\n    }\r\n\r\n    private onShowErrorEvent: AppEventListener = (event: AppEvent) => {\r\n        this.handleShowEvent(event as UiReportableErrorOccurredEvent);\r\n    };\r\n\r\n    private onHideErrorEvent: AppEventListener = (event: AppEvent) => {\r\n        this.handleHideEvent(event);\r\n    };\r\n\r\n    private handleShowEvent(event: UiReportableErrorOccurredEvent) {\r\n        this.showErrorPanel();\r\n        this.setErrorDescription(event.error);\r\n        this.setErrorDetails(event.details);\r\n    }\r\n\r\n    private handleHideEvent(event: AppEvent) {\r\n        this.hideErrorPanel();\r\n    }\r\n\r\n    private showErrorPanel(): void {\r\n        const panel = this.shadow.querySelector(`#${this.errorPanelId}`) as HTMLDivElement;\r\n\r\n        panel.classList.remove(\"hidden\");\r\n    }\r\n\r\n    private hideErrorPanel(): void {\r\n        const panel = this.shadow.querySelector(`#${this.errorPanelId}`) as HTMLDivElement;\r\n\r\n        panel.classList.add(\"hidden\");\r\n    }\r\n\r\n    private setErrorDescription(description: string): void {\r\n        const descriptionElement = this.shadow.querySelector(`#${this.errorDescriptionId}`) as HTMLParagraphElement;\r\n        descriptionElement.innerHTML = description;\r\n    }\r\n\r\n    private setErrorDetails(details: string[]): void {\r\n        const detailsElement = this.shadow.querySelector(`#${this.errorDetailsId}`) as HTMLUListElement;\r\n\r\n        detailsElement.classList.add(\"hidden\");\r\n        detailsElement.replaceChildren();\r\n\r\n        if (details.length > 0) {\r\n            detailsElement.classList.remove(\"hidden\");\r\n\r\n            for (const detail of details) {\r\n                const listItem = document.createElement(\"li\");\r\n\r\n                listItem.innerText = detail;\r\n\r\n                detailsElement.appendChild(listItem);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ncustomElements.define(\"error-panel\", ErrorPanelComponent);\r\n","export default \"<button\\r\\n    class=\\\"text-white bg-black hover:bg-gray-900 active:bg-gray-700 font-bold px-3 py-3 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n    onclick=\\\"this.onAddNewGearItemButtonClick(event)\\\"\\r\\n>\\r\\n    <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 -960 960 960\\\" width=\\\"24px\\\" fill=\\\"#e3e3e3\\\">\\r\\n        <path d=\\\"M440-120v-320H120v-80h320v-320h80v320h320v80H520v320h-80Z\\\" />\\r\\n    </svg>\\r\\n</button>\\r\\n\";","import html from \"./add-new-gear-item-button.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { PageRouterService } from \"../../../lib/pages/page-router-service\";\r\n\r\nexport class AddNewGearItemButtonComponent extends BaseComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    public onAddNewGearItemButtonClick(event: MouseEvent) {\r\n        PageRouterService.instance.navigateToPage(PageRouterService.gearItemPage, \"0\");\r\n    }\r\n}\r\n\r\ncustomElements.define(\"add-new-gear-item-button\", AddNewGearItemButtonComponent);\r\n","export default \"<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Name</label>\\r\\n        <p id=\\\"gearName\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Cost</label>\\r\\n        <p id=\\\"gearCost\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<label class=\\\"text-lg font-semibold uppercase\\\">Description</label>\\r\\n<p id=\\\"gearDescription\\\" class=\\\"text-base leading-relaxed text-black mb-4\\\"></p>\\r\\n\\r\\n<div class=\\\"grid grid-cols-3 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Armor Points</label>\\r\\n        <p id=\\\"gearArmorPoints\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Oxygen (O2)</label>\\r\\n        <p id=\\\"gearOxygen\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Speed</label>\\r\\n        <p id=\\\"gearSpeed\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<label class=\\\"text-lg font-semibold uppercase\\\">Special</label>\\r\\n<p id=\\\"gearSpecial\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n\";","import html from \"./gear-armor-display.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { ArmorItem } from \"../../../features/gear/armor-item\";\r\nimport { CreditsAbbreviator } from \"../../../lib/services/credits-abbreviator\";\r\n\r\nexport class GearArmorDisplayComponent extends BaseComponent {\r\n    private armorItem: ArmorItem;\r\n\r\n    constructor() {\r\n        super();\r\n        this.armorItem = new ArmorItem();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    public setEquipmentItem(armorItem: ArmorItem) {\r\n        this.armorItem = armorItem;\r\n\r\n        this.updateGearName();\r\n        this.updateGearDescription();\r\n        this.updateGearCost();\r\n        this.updateGearArmorPoints();\r\n        this.updateGearOxygen();\r\n        this.updateGearSpeed();\r\n        this.updateGearSpecial();\r\n    }\r\n\r\n    private updateGearName() {\r\n        const paragraph = this.shadow.querySelector(\"#gearName\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.armorItem.name;\r\n    }\r\n\r\n    private updateGearDescription() {\r\n        const paragraph = this.shadow.querySelector(\"#gearDescription\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.armorItem.description;\r\n    }\r\n\r\n    private updateGearCost() {\r\n        const paragraph = this.shadow.querySelector(\"#gearCost\") as HTMLParagraphElement;\r\n        paragraph.textContent = CreditsAbbreviator.instance.abbreviate(this.armorItem.cost);\r\n    }\r\n\r\n    private updateGearArmorPoints() {\r\n        const paragraph = this.shadow.querySelector(\"#gearArmorPoints\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.armorItem.armorPoints.toString();\r\n    }\r\n\r\n    private updateGearOxygen() {\r\n        const paragraph = this.shadow.querySelector(\"#gearOxygen\") as HTMLParagraphElement;\r\n\r\n        if (this.armorItem.oxygen === 0) {\r\n            paragraph.textContent = \"None\";\r\n        } else {\r\n            paragraph.textContent = `${this.armorItem.oxygen} hours`;\r\n        }\r\n    }\r\n\r\n    private updateGearSpeed() {\r\n        const paragraph = this.shadow.querySelector(\"#gearSpeed\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.armorItem.speed;\r\n    }\r\n\r\n    private updateGearSpecial() {\r\n        const paragraph = this.shadow.querySelector(\"#gearSpecial\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.armorItem.special;\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-armor-display\", GearArmorDisplayComponent);\r\n","export default \"<div class=\\\"grid grid-cols-3 gap-2 mb-3\\\">\\r\\n    <div>\\r\\n        <label for=\\\"inputArmorPoints\\\" class=\\\"text-lg font-semibold uppercase\\\">Armor Points</label>\\r\\n        <input\\r\\n            id=\\\"inputArmorPoints\\\"\\r\\n            type=\\\"number\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            placeholder=\\\"Enter item's APs...\\\"\\r\\n            aria-placeholder=\\\"Enter item's armor points...\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"9000000000000000\\\"\\r\\n            onchange=\\\"this.handleOnArmorPointsInputChanged(event)\\\"\\r\\n        />\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"inputOxygen\\\" class=\\\"text-lg font-semibold uppercase\\\">Oxygen (O2) [hours]</label>\\r\\n        <p id=\\\"gearOxygen\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n        <input\\r\\n            id=\\\"inputOxygen\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            placeholder=\\\"Enter item's hours of O2...\\\"\\r\\n            aria-placeholder=\\\"Enter item's hours of oxygen...\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"9000000000000000\\\"\\r\\n            onchange=\\\"this.handleOnOxygenInputChanged(event)\\\"\\r\\n        />\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"inputSpeed\\\" class=\\\"text-lg font-semibold uppercase\\\">Speed</label>\\r\\n        <p id=\\\"gearSpeed\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n        <select\\r\\n            id=\\\"inputSpeed\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            onchange=\\\"this.handleOnSpeedSelectChanged(event)\\\"\\r\\n        >\\r\\n            <option value=\\\"Normal\\\">Normal</option>\\r\\n            <option value=\\\"[+]\\\">Advantage [+]</option>\\r\\n            <option value=\\\"[-]\\\">Disadvantage [-]</option>\\r\\n        </select>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-1 gap-1 mb-3\\\">\\r\\n    <label for=\\\"inputSpecial\\\" class=\\\"text-lg font-semibold uppercase\\\">Special</label>\\r\\n    <textarea\\r\\n        id=\\\"inputSpecial\\\"\\r\\n        type=\\\"text\\\"\\r\\n        class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n        placeholder=\\\"Enter item's special properties...\\\"\\r\\n        aria-placeholder=\\\"Enter item's special properties...\\\"\\r\\n        rows=\\\"3\\\"\\r\\n        maxlength=\\\"1000\\\"\\r\\n        onchange=\\\"this.handleOnSpecialInputChanged(event)\\\"\\r\\n    ></textarea>\\r\\n</div>\\r\\n\";","import html from \"./gear-armor-form-fields.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { ArmorItemFormFieldsDto } from \"../../../features/gear/armor-item-form-fields-dto\";\r\nimport { ArmorItem } from \"../../../features/gear/armor-item\";\r\n\r\nexport class GearArmorFormFieldsComponent extends BaseComponent {\r\n    static formAssociated = true;\r\n\r\n    private _internals: ElementInternals;\r\n    private _formFieldsDto: ArmorItemFormFieldsDto;\r\n\r\n    public get armorPointsInputElement(): HTMLInputElement {\r\n        return this.shadow.querySelector(\"#inputArmorPoints\") as HTMLInputElement;\r\n    }\r\n\r\n    public get oxygenInputElement(): HTMLInputElement {\r\n        return this.shadow.querySelector(\"#inputOxygen\") as HTMLInputElement;\r\n    }\r\n\r\n    public get speedSelectElement(): HTMLSelectElement {\r\n        return this.shadow.querySelector(\"#inputSpeed\") as HTMLSelectElement;\r\n    }\r\n\r\n    public get specialInputElement(): HTMLTextAreaElement {\r\n        return this.shadow.querySelector(\"#inputSpecial\") as HTMLTextAreaElement;\r\n    }\r\n\r\n    public get value(): string {\r\n        return this._formFieldsDto.toJson();\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._internals = this.attachInternals();\r\n        this._formFieldsDto = new ArmorItemFormFieldsDto();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n        this.updateFormValue();\r\n    }\r\n\r\n    private updateFormValue() {\r\n        this._internals.setFormValue(this.value);\r\n    }\r\n\r\n    public setInitialFormValues(item: ArmorItem) {\r\n        this.armorPointsInputElement.value = item.armorPoints.toString();\r\n        this.oxygenInputElement.value = item.oxygen.toString();\r\n        this.speedSelectElement.value = item.speed;\r\n        this.specialInputElement.value = item.special;\r\n\r\n        this._formFieldsDto.armorPoints = item.armorPoints.toString();\r\n        this._formFieldsDto.oxygen = item.oxygen.toString();\r\n        this._formFieldsDto.speed = item.speed;\r\n        this._formFieldsDto.special = item.special;\r\n\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnArmorPointsInputChanged(event: Event) {\r\n        this._formFieldsDto.armorPoints = this.armorPointsInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnOxygenInputChanged(event: Event) {\r\n        this._formFieldsDto.oxygen = this.oxygenInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnSpeedSelectChanged(event: Event) {\r\n        this._formFieldsDto.speed = this.speedSelectElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnSpecialInputChanged(event: Event) {\r\n        this._formFieldsDto.special = this.specialInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-armor-form-fields\", GearArmorFormFieldsComponent);\r\n","export default \"<style>\\r\\n    .active-filter-button {\\r\\n        color: var(--color-white);\\r\\n        background-color: var(--color-black);\\r\\n    }\\r\\n\\r\\n    .active-filter-button:hover {\\r\\n        background-color: var(--color-gray-900);\\r\\n    }\\r\\n\\r\\n    .active-filter-button:active {\\r\\n        background-color: var(--color-gray-700);\\r\\n    }\\r\\n\\r\\n    .inactive-filter-button {\\r\\n        color: var(--color-black);\\r\\n        background-color: var(--color-white);\\r\\n        border-width: 3px;\\r\\n        border-color: var(--color-black);\\r\\n    }\\r\\n\\r\\n    .inactive-filter-button:hover {\\r\\n        background-color: var(--color-gray-100);\\r\\n    }\\r\\n\\r\\n    .inactive-filter-button:active {\\r\\n        background-color: var(--color-gray-300);\\r\\n    }\\r\\n</style>\\r\\n\\r\\n<div class=\\\"flex justify-evenly\\\">\\r\\n    <button\\r\\n        type=\\\"button\\\"\\r\\n        id=\\\"categoryAll\\\"\\r\\n        class=\\\"active-filter-button font-bold min-w-32 px-4 py-1 my-2 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n        onclick=\\\"this.onCategoryButtonClick(event)\\\"\\r\\n    >\\r\\n        ALL\\r\\n    </button>\\r\\n    <button\\r\\n        type=\\\"button\\\"\\r\\n        id=\\\"categoryArmor\\\"\\r\\n        class=\\\"inactive-filter-button font-bold min-w-32 px-4 py-1 my-2 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n        onclick=\\\"this.onCategoryButtonClick(event)\\\"\\r\\n    >\\r\\n        Armor\\r\\n    </button>\\r\\n    <button\\r\\n        type=\\\"button\\\"\\r\\n        id=\\\"categoryEquipment\\\"\\r\\n        class=\\\"inactive-filter-button font-bold min-w-32 px-4 py-1 my-2 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n        onclick=\\\"this.onCategoryButtonClick(event)\\\"\\r\\n    >\\r\\n        Equipment\\r\\n    </button>\\r\\n    <button\\r\\n        type=\\\"button\\\"\\r\\n        id=\\\"categoryWeapon\\\"\\r\\n        class=\\\"inactive-filter-button font-bold min-w-32 px-4 py-1 my-2 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n        onclick=\\\"this.onCategoryButtonClick(event)\\\"\\r\\n    >\\r\\n        Weapons\\r\\n    </button>\\r\\n</div>\\r\\n\";","import html from \"./gear-categories-pill-bar.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { GearCategoryChangedEvent } from \"../../../lib/events/gear-category-changed-event\";\r\n\r\nexport class GearCategoriesPillBarComponent extends BaseComponent {\r\n    private readonly activeButtonCssClass = \"active-filter-button\";\r\n    private readonly inactiveButtonCssClass = \"inactive-filter-button\";\r\n\r\n    private shouldHideAllCategory: boolean;\r\n\r\n    constructor() {\r\n        super();\r\n        this.shouldHideAllCategory = false;\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n\r\n        this.shouldHideAllCategory = this.hasAttribute(\"hide-all-category\");\r\n\r\n        if (this.shouldHideAllCategory) {\r\n            this.hideAllCategory();\r\n            this.setActiveFilterButton(\"categoryEquipment\");\r\n        }\r\n    }\r\n\r\n    private hideAllCategory(): void {\r\n        const allCategoryElement = this.shadow.querySelector(\"#categoryAll\") as HTMLButtonElement;\r\n        allCategoryElement.classList.add(\"hidden\");\r\n    }\r\n\r\n    public onCategoryButtonClick(event: MouseEvent) {\r\n        const target = event.target as HTMLButtonElement;\r\n\r\n        const category = target.id.replace(\"category\", \"\");\r\n\r\n        const appEvent = new GearCategoryChangedEvent(category);\r\n\r\n        EventBus.instance.dispatch(appEvent);\r\n\r\n        this.setActiveFilterButton(target.id);\r\n    }\r\n\r\n    private setActiveFilterButton(buttonId: string) {\r\n        const allButtons = this.shadow.querySelectorAll(\"button\");\r\n\r\n        allButtons.forEach((button) => {\r\n            if (button.id === buttonId) {\r\n                button.classList.remove(this.inactiveButtonCssClass);\r\n                button.classList.add(this.activeButtonCssClass);\r\n            } else {\r\n                button.classList.add(this.inactiveButtonCssClass);\r\n                button.classList.remove(this.activeButtonCssClass);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-categories-pill-bar\", GearCategoriesPillBarComponent);\r\n","export default \"<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Name</label>\\r\\n        <p id=\\\"gearName\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Cost</label>\\r\\n        <p id=\\\"gearCost\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<label class=\\\"text-lg font-semibold uppercase\\\">Description</label>\\r\\n<p id=\\\"gearDescription\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n\";","import html from \"./gear-equipment-display.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { CreditsAbbreviator } from \"../../../lib/services/credits-abbreviator\";\r\nimport { EquipmentItem } from \"../../../features/gear/equipment-item\";\r\n\r\nexport class GearEquipmentDisplayComponent extends BaseComponent {\r\n    private equipmentItem: EquipmentItem;\r\n\r\n    constructor() {\r\n        super();\r\n        this.equipmentItem = new EquipmentItem();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    public setEquipmentItem(equipmentItem: EquipmentItem) {\r\n        this.equipmentItem = equipmentItem;\r\n\r\n        this.updateGearName();\r\n        this.updateGearDescription();\r\n        this.updateGearCost();\r\n    }\r\n\r\n    private updateGearName() {\r\n        const paragraph = this.shadow.querySelector(\"#gearName\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.equipmentItem.name;\r\n    }\r\n\r\n    private updateGearDescription() {\r\n        const paragraph = this.shadow.querySelector(\"#gearDescription\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.equipmentItem.description;\r\n    }\r\n\r\n    private updateGearCost() {\r\n        const paragraph = this.shadow.querySelector(\"#gearCost\") as HTMLParagraphElement;\r\n        paragraph.textContent = CreditsAbbreviator.instance.abbreviate(this.equipmentItem.cost);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-equipment-display\", GearEquipmentDisplayComponent);\r\n","export default \"<div class=\\\"grid grid-cols-2 gap-2 mb-3\\\">\\r\\n    <div>\\r\\n        <label for=\\\"inputName\\\" class=\\\"text-lg font-semibold uppercase\\\">Name</label>\\r\\n        <input\\r\\n            id=\\\"inputName\\\"\\r\\n            name=\\\"inputName\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            placeholder=\\\"Enter name of the item...\\\"\\r\\n            aria-placeholder=\\\"Enter name of the item...\\\"\\r\\n            required\\r\\n            aria-required\\r\\n            maxlength=\\\"100\\\"\\r\\n            onchange=\\\"this.handleOnNameInputChanged(event)\\\"\\r\\n        />\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"inputCost\\\" class=\\\"text-lg font-semibold uppercase\\\">Cost (cr)</label>\\r\\n        <input\\r\\n            id=\\\"inputCost\\\"\\r\\n            name=\\\"inputCost\\\"\\r\\n            type=\\\"number\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            placeholder=\\\"Enter cost of the item in credits...\\\"\\r\\n            aria-placeholder=\\\"Enter cost of the item in credits...\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"9000000000000000\\\"\\r\\n            required\\r\\n            aria-required\\r\\n            onchange=\\\"this.handleOnCostInputChanged(event)\\\"\\r\\n            value=\\\"0\\\"\\r\\n        />\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-1 gap-1 mb-3\\\">\\r\\n    <label for=\\\"inputDescription\\\" class=\\\"text-lg font-semibold uppercase\\\">Description</label>\\r\\n    <textarea\\r\\n        id=\\\"inputDescription\\\"\\r\\n        type=\\\"text\\\"\\r\\n        class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n        placeholder=\\\"Enter a description of the item...\\\"\\r\\n        aria-placeholder=\\\"Enter a description of the item...\\\"\\r\\n        rows=\\\"3\\\"\\r\\n        maxlength=\\\"1000\\\"\\r\\n        onchange=\\\"this.handleOnDescriptionInputChanged(event)\\\"\\r\\n    ></textarea>\\r\\n</div>\\r\\n\";","import html from \"./gear-equipment-form-fields.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { EquipmentItemFormFieldsDto } from \"../../../features/gear/equipment-item-form-fields-dto\";\r\nimport { EquipmentItem } from \"../../../features/gear/equipment-item\";\r\n\r\nexport class GearEquipmentFormFieldsComponent extends BaseComponent {\r\n    static formAssociated = true;\r\n\r\n    private _internals: ElementInternals;\r\n    private _formFieldsDto: EquipmentItemFormFieldsDto;\r\n\r\n    public get nameInputElement(): HTMLInputElement {\r\n        return this.shadow.querySelector(\"#inputName\") as HTMLInputElement;\r\n    }\r\n\r\n    public get costInputElement(): HTMLInputElement {\r\n        return this.shadow.querySelector(\"#inputCost\") as HTMLInputElement;\r\n    }\r\n\r\n    public get descriptionInputElement(): HTMLTextAreaElement {\r\n        return this.shadow.querySelector(\"#inputDescription\") as HTMLTextAreaElement;\r\n    }\r\n\r\n    public get value(): string {\r\n        return this._formFieldsDto.toJson();\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._internals = this.attachInternals();\r\n        this._formFieldsDto = new EquipmentItemFormFieldsDto();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n        this.updateFormValue();\r\n    }\r\n\r\n    private updateFormValue() {\r\n        this._internals.setFormValue(this.value);\r\n    }\r\n\r\n    public setInitialFormValues(item: EquipmentItem) {\r\n        this.nameInputElement.value = item.name;\r\n        this.costInputElement.value = item.cost.toString();\r\n        this.descriptionInputElement.value = item.description;\r\n\r\n        this._formFieldsDto.name = item.name;\r\n        this._formFieldsDto.cost = item.cost.toString();\r\n        this._formFieldsDto.description = item.description;\r\n\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnNameInputChanged(event: Event) {\r\n        this._formFieldsDto.name = this.nameInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnCostInputChanged(event: Event) {\r\n        this._formFieldsDto.cost = this.costInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnDescriptionInputChanged(event: Event) {\r\n        this._formFieldsDto.description = this.descriptionInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-equipment-form-fields\", GearEquipmentFormFieldsComponent);\r\n","export default \"<modal-dialog id=\\\"gearItemModal\\\">\\r\\n    <span slot=\\\"modal-header\\\" class=\\\"flex\\\">\\r\\n        <span class=\\\"mr-1\\\">Item Details</span>\\r\\n        <button\\r\\n            id=\\\"editItemButton\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"text-white bg-transparent hover:bg-white hover:text-black rounded-md text-sm w-8 h-8 ms-auto inline-flex justify-center items-center transition duration-150 ease-in-out cursor-pointer\\\"\\r\\n            onclick=\\\"this.onEditButtonClick(event)\\\"\\r\\n        >\\r\\n            <svg\\r\\n                class=\\\"w-6 h-6\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                fill=\\\"currentColor\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"M186.67-186.67H235L680-631l-48.33-48.33-445 444.33v48.33ZM120-120v-142l559.33-558.33q9.34-9 21.5-14 12.17-5 25.5-5 12.67 0 25 5 12.34 5 22 14.33L821-772q10 9.67 14.5 22t4.5 24.67q0 12.66-4.83 25.16-4.84 12.5-14.17 21.84L262-120H120Zm652.67-606-46-46 46 46Zm-117 71-24-24.33L680-631l-24.33-24Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            <span class=\\\"sr-only\\\">Edit item</span>\\r\\n        </button>\\r\\n        <button\\r\\n            id=\\\"deleteItemButton\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"text-white bg-transparent hover:bg-white hover:text-black rounded-md text-sm w-8 h-8 ms-auto inline-flex justify-center items-center transition duration-150 ease-in-out cursor-pointer\\\"\\r\\n            onclick=\\\"this.onDeleteButtonClick(event)\\\"\\r\\n        >\\r\\n            <svg\\r\\n                class=\\\"w-6 h-6\\\"\\r\\n                aria-hidden=\\\"true\\\"\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                fill=\\\"currentColor\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            <span class=\\\"sr-only\\\">Delete item</span>\\r\\n        </button>\\r\\n    </span>\\r\\n    <gear-armor-display id=\\\"gearArmorDisplay\\\" slot=\\\"modal-body\\\" class=\\\"hidden\\\"></gear-armor-display>\\r\\n    <gear-equipment-display id=\\\"gearEquipmentDisplay\\\" slot=\\\"modal-body\\\" class=\\\"hidden\\\"></gear-equipment-display>\\r\\n    <gear-weapon-display id=\\\"gearWeaponDisplay\\\" slot=\\\"modal-body\\\" class=\\\"hidden\\\"></gear-weapon-display>\\r\\n</modal-dialog>\\r\\n\";","import html from \"./gear-item-display-dialog.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { GearItem } from \"../../../features/gear/gear-item\";\r\nimport { EquipmentItem } from \"../../../features/gear/equipment-item\";\r\nimport { GetGearByIdFeature } from \"../../../features/gear/get-gear-by-id/get-gear-by-id-feature\";\r\nimport { GetGearByIdRequest } from \"../../../features/gear/get-gear-by-id/get-gear-by-id-request\";\r\nimport { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { UnitOfWork } from \"../../../lib/data-access/unit-of-work\";\r\nimport { appInjector } from \"../../../lib/infrastructure/app-injector\";\r\nimport { ArmorItem } from \"../../../features/gear/armor-item\";\r\nimport { WeaponItem } from \"../../../features/gear/weapon-item\";\r\nimport { GearArmorDisplayComponent } from \"../gear-armor-display/gear-armor-display\";\r\nimport { GearEquipmentDisplayComponent } from \"../gear-equipment-display/gear-equipment-display\";\r\nimport { GearWeaponDisplayComponent } from \"../gear-weapon-display/gear-weapon-display\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { ModalDialogComponent } from \"../../modal-dialog/modal-dialog\";\r\nimport { DeleteCustomGearItemRequest } from \"../../../features/gear/delete-custom-gear-item/delete-custom-gear-item-request\";\r\nimport { DeleteCustomGearItemFeature } from \"../../../features/gear/delete-custom-gear-item/delete-custom-gear-item-feature\";\r\nimport { GearItemDeletedEvent } from \"../../../lib/events/gear-item-deleted-event\";\r\nimport { UiReportableErrorOccurredEvent } from \"../../../lib/events/ui-reportable-error-occurred-event\";\r\nimport { UiReportableErrorClearedEvent } from \"../../../lib/events/ui-reportable-error-cleared-event\";\r\nimport { PageRouterService } from \"../../../lib/pages/page-router-service\";\r\nimport { Source } from \"../../../features/sources/source\";\r\nimport { SourcesService } from \"../../../features/sources/sources-service\";\r\n\r\nexport class GearItemDisplayDialogComponent extends BaseComponent {\r\n    protected unitOfWork: IUnitOfWork;\r\n\r\n    private gearItem: GearItem;\r\n    private gearItemCategory: string;\r\n    private isCustomGearItem: boolean;\r\n\r\n    protected get armorDisplayElement(): GearArmorDisplayComponent {\r\n        return this.shadow.querySelector(`#gearArmorDisplay`) as GearArmorDisplayComponent;\r\n    }\r\n\r\n    protected get equipmentDisplayElement(): GearEquipmentDisplayComponent {\r\n        return this.shadow.querySelector(`#gearEquipmentDisplay`) as GearEquipmentDisplayComponent;\r\n    }\r\n\r\n    protected get weaponDisplayElement(): GearWeaponDisplayComponent {\r\n        return this.shadow.querySelector(`#gearWeaponDisplay`) as GearWeaponDisplayComponent;\r\n    }\r\n\r\n    protected get gearItemModalElement(): ModalDialogComponent {\r\n        return this.shadow.querySelector(\"#gearItemModal\") as ModalDialogComponent;\r\n    }\r\n\r\n    protected get editGearItemButton(): HTMLButtonElement {\r\n        return this.shadow.querySelector(\"#editItemButton\") as HTMLButtonElement;\r\n    }\r\n\r\n    protected get deleteGearItemButton(): HTMLButtonElement {\r\n        return this.shadow.querySelector(\"#deleteItemButton\") as HTMLButtonElement;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.unitOfWork = appInjector.injectClass(UnitOfWork);\r\n        this.gearItem = new EquipmentItem();\r\n        this.gearItemCategory = \"\";\r\n        this.isCustomGearItem = false;\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    public openModal() {\r\n        const modal = this.gearItemModalElement;\r\n\r\n        if (!modal) {\r\n            this.dispatchModalNotFoundEvent();\r\n            return;\r\n        }\r\n\r\n        modal.openModal();\r\n    }\r\n\r\n    public closeModal() {\r\n        const modal = this.gearItemModalElement;\r\n\r\n        if (!modal) {\r\n            this.dispatchModalNotFoundEvent();\r\n            return;\r\n        }\r\n\r\n        modal.closeModal();\r\n    }\r\n\r\n    private dispatchModalNotFoundEvent() {\r\n        EventBus.instance.dispatch(new UiReportableErrorOccurredEvent('Modal \"gearItemDisplayDialog\" not found.'));\r\n    }\r\n\r\n    public setGearItem(id: number, category: string) {\r\n        this.gearItem = this.getSelectedGearItem(id, category);\r\n        this.gearItemCategory = category;\r\n        this.isCustomGearItem = this.isCustomItem();\r\n\r\n        this.showAppropriateGearItemDisplay();\r\n        this.setEditButtonVisiblity();\r\n        this.setDeleteButtonVisiblity();\r\n    }\r\n\r\n    private getSelectedGearItem(id: number, category: string): GearItem {\r\n        const feature = new GetGearByIdFeature(this.unitOfWork);\r\n        const request = new GetGearByIdRequest(id, category);\r\n\r\n        return feature.handle(request);\r\n    }\r\n\r\n    private isCustomItem(): boolean {\r\n        return this.gearItem.sourceId === SourcesService.instance.getCustomItemSourceId(this.unitOfWork);\r\n    }\r\n\r\n    private showAppropriateGearItemDisplay() {\r\n        this.rehideAllGearDisplayElements();\r\n\r\n        if (this.gearItemCategory === ArmorItem.gearCategory) {\r\n            this.armorDisplayElement.setEquipmentItem(this.gearItem as ArmorItem);\r\n            this.armorDisplayElement.classList.remove(\"hidden\");\r\n        } else if (this.gearItemCategory === EquipmentItem.gearCategory) {\r\n            this.equipmentDisplayElement.setEquipmentItem(this.gearItem as EquipmentItem);\r\n            this.equipmentDisplayElement.classList.remove(\"hidden\");\r\n        } else if (this.gearItemCategory === WeaponItem.gearCategory) {\r\n            this.weaponDisplayElement.setEquipmentItem(this.gearItem as WeaponItem);\r\n            this.weaponDisplayElement.classList.remove(\"hidden\");\r\n        }\r\n    }\r\n\r\n    private rehideAllGearDisplayElements() {\r\n        this.rehideElement(this.armorDisplayElement);\r\n        this.rehideElement(this.equipmentDisplayElement);\r\n        this.rehideElement(this.weaponDisplayElement);\r\n    }\r\n\r\n    private rehideElement(element: HTMLElement) {\r\n        if (element.classList.contains(\"hidden\")) return;\r\n\r\n        element.classList.add(\"hidden\");\r\n    }\r\n\r\n    private setEditButtonVisiblity() {\r\n        if (this.isCustomGearItem) {\r\n            this.editGearItemButton.classList.remove(\"hidden\");\r\n            this.editGearItemButton.classList.add(\"inline-flex\");\r\n        } else {\r\n            this.editGearItemButton.classList.add(\"hidden\");\r\n            this.editGearItemButton.classList.remove(\"inline-flex\");\r\n        }\r\n    }\r\n\r\n    private setDeleteButtonVisiblity() {\r\n        if (this.isCustomGearItem) {\r\n            this.deleteGearItemButton.classList.remove(\"hidden\");\r\n            this.deleteGearItemButton.classList.add(\"inline-flex\");\r\n        } else {\r\n            this.deleteGearItemButton.classList.add(\"hidden\");\r\n            this.deleteGearItemButton.classList.remove(\"inline-flex\");\r\n        }\r\n    }\r\n\r\n    public onEditButtonClick(event: MouseEvent) {\r\n        PageRouterService.instance.navigateToPage(PageRouterService.gearItemPage, this.gearItem.id.toString(), {\r\n            category: this.gearItemCategory,\r\n        });\r\n    }\r\n\r\n    public async onDeleteButtonClick(event: MouseEvent): Promise<void> {\r\n        const request = new DeleteCustomGearItemRequest();\r\n        const feature = new DeleteCustomGearItemFeature(this.unitOfWork);\r\n\r\n        request.id = this.gearItem.id;\r\n        request.category = this.gearItemCategory;\r\n\r\n        const result = await feature.handleAsync(request);\r\n\r\n        if (result.isFailure) {\r\n            EventBus.instance.dispatch(\r\n                new UiReportableErrorOccurredEvent(result.error.description, result.error.details)\r\n            );\r\n        } else {\r\n            EventBus.instance.dispatch(new UiReportableErrorClearedEvent());\r\n            EventBus.instance.dispatch(new GearItemDeletedEvent());\r\n        }\r\n\r\n        this.closeModal();\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-item-display-dialog\", GearItemDisplayDialogComponent);\r\n","export default \"<gear-categories-pill-bar></gear-categories-pill-bar>\\r\\n\\r\\n<div class=\\\"grid grid-cols-3 gap-2 mb-2\\\">\\r\\n    <input\\r\\n        id=\\\"searchBox\\\"\\r\\n        placeholder=\\\"Search for gear by name . . .\\\"\\r\\n        class=\\\"col-span-2 border-3 border-black px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n        onkeyup=\\\"this.handleOnSearchBoxKeyUp(event)\\\"\\r\\n    />\\r\\n\\r\\n    <select\\r\\n        id=\\\"sourcesFilter\\\"\\r\\n        class=\\\"block w-full bg-white text-base text-black border-3 border-black px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n        onchange=\\\"this.handleOnSourcesSelectChanged(event)\\\"\\r\\n    ></select>\\r\\n</div>\\r\\n\";","import html from \"./gear-list-filter-bar.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { GearFilterChangedEvent } from \"../../../lib/events/gear-filter-changed-event\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { GearItem } from \"../../../features/gear/gear-item\";\r\nimport { GearCategoryChangedEvent } from \"../../../lib/events/gear-category-changed-event\";\r\nimport { AppEvent } from \"../../../lib/events/app-event\";\r\nimport { AppEventListener } from \"../../../lib/events/app-event-listener-interface\";\r\nimport { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { appInjector } from \"../../../lib/infrastructure/app-injector\";\r\nimport { UnitOfWork } from \"../../../lib/data-access/unit-of-work\";\r\nimport { Source } from \"../../../features/sources/source\";\r\n\r\nexport class GearListFilterBarComponent extends BaseComponent {\r\n    private readonly activeButtonCssClass = \"active-filter-button\";\r\n    private readonly inactiveButtonCssClass = \"inactive-filter-button\";\r\n\r\n    private unitOfWork: IUnitOfWork;\r\n\r\n    private activeCategory: string;\r\n    private currentSearch: string;\r\n    private currentSourceId: number;\r\n\r\n    public get sourcesSelectElement(): HTMLSelectElement {\r\n        return this.shadow.querySelector(\"#sourcesFilter\") as HTMLSelectElement;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.unitOfWork = appInjector.injectClass(UnitOfWork);\r\n        this.activeCategory = GearItem.gearCategory;\r\n        this.currentSearch = \"\";\r\n        this.currentSourceId = 0;\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n\r\n        this.populateSourcesFilter();\r\n\r\n        EventBus.instance.register(GearCategoryChangedEvent.name, this.handleGearCategoryChangedEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregister(GearCategoryChangedEvent.name, this.handleGearCategoryChangedEvent);\r\n    }\r\n\r\n    private handleGearCategoryChangedEvent: AppEventListener = (event: AppEvent) => {\r\n        const gearCategoryChangedEvent = event as GearCategoryChangedEvent;\r\n\r\n        this.activeCategory = gearCategoryChangedEvent.category;\r\n\r\n        this.dispatchGearFilterChangedEvent();\r\n    };\r\n\r\n    public handleOnSearchBoxKeyUp(event: KeyboardEvent) {\r\n        // Ignore shift key up events, otherwise two GearFilterChangedEvents are triggered when\r\n        // typing an UPPERCASE character into the search box.\r\n        if (event.shiftKey === true) return;\r\n\r\n        this.currentSearch = (event.target as HTMLInputElement).value;\r\n\r\n        this.dispatchGearFilterChangedEvent();\r\n    }\r\n\r\n    public handleOnSourcesSelectChanged(event: Event) {\r\n        const selectedValue = (event.target as HTMLSelectElement).value;\r\n\r\n        this.currentSourceId = parseInt(selectedValue);\r\n\r\n        this.dispatchGearFilterChangedEvent();\r\n    }\r\n\r\n    private dispatchGearFilterChangedEvent() {\r\n        const appEvent = new GearFilterChangedEvent(this.activeCategory, this.currentSearch, this.currentSourceId);\r\n\r\n        EventBus.instance.dispatch(appEvent);\r\n    }\r\n\r\n    private populateSourcesFilter() {\r\n        const sourcesFilter = this.sourcesSelectElement;\r\n\r\n        if (!sourcesFilter) return;\r\n\r\n        if (sourcesFilter.hasChildNodes()) {\r\n            sourcesFilter.replaceChildren();\r\n        }\r\n\r\n        const sources = this.unitOfWork.repo(Source).list();\r\n\r\n        sourcesFilter.appendChild(this.createSourceFilterOption(\"0\", \"All\"));\r\n\r\n        for (let source of sources) {\r\n            sourcesFilter.appendChild(this.createSourceFilterOption(source.id.toString(), source.name));\r\n        }\r\n    }\r\n\r\n    private createSourceFilterOption(value: string, text: string): HTMLOptionElement {\r\n        const option = document.createElement(\"option\");\r\n\r\n        option.value = value;\r\n        option.text = text;\r\n\r\n        return option;\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-list-filter-bar\", GearListFilterBarComponent);\r\n","export default \"<style>\\r\\n    .icon-chevron {\\r\\n        display: inline-block;\\r\\n        width: 24px;\\r\\n        height: 24px;\\r\\n        background-image: url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"24px\\\" viewBox=\\\"0 -960 960 960\\\" width=\\\"24px\\\" fill=\\\"%23e3e3e3\\\"><path d=\\\"M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z\\\"/></svg>');\\r\\n        background-size: contain;\\r\\n        background-repeat: no-repeat;\\r\\n        background-position: center;\\r\\n    }\\r\\n\\r\\n    .icon-chevron-down {\\r\\n        rotate: 0deg;\\r\\n    }\\r\\n\\r\\n    .icon-chevron-up {\\r\\n        rotate: 180deg;\\r\\n    }\\r\\n</style>\\r\\n<table id=\\\"list-container\\\" class=\\\"w-full mb-18 text-left border-collapse border-3 border-black\\\">\\r\\n    <thead class=\\\"text-white bg-black\\\"></thead>\\r\\n    <tbody></tbody>\\r\\n</table>\\r\\n\\r\\n<gear-item-display-dialog id=\\\"gearItemDisplayDialog\\\"></gear-item-display-dialog>\\r\\n\";","import html from \"./gear-list.html\";\r\nimport { GetAllGearFeature } from \"../../../features/gear/get-all-gear/get-all-gear-feature\";\r\nimport { GearListItem } from \"../../../features/gear/gear-list-item\";\r\nimport { EmptyRequest } from \"../../../lib/common/features/empty-request\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { GearFilterChangedEvent } from \"../../../lib/events/gear-filter-changed-event\";\r\nimport { AppEvent } from \"../../../lib/events/app-event\";\r\nimport { FilterGearListFeature } from \"../../../features/gear/filter-gear-list/filter-gear-list-feature\";\r\nimport { FilterGearListRequest } from \"../../../features/gear/filter-gear-list/filter-gear-list-request\";\r\nimport { SortGearListFeature } from \"../../../features/gear/sort-gear-list/sort-gear-list-feature\";\r\nimport { SortGearListRequest } from \"../../../features/gear/sort-gear-list/sort-gear-list-request\";\r\nimport { AppEventListener } from \"../../../lib/events/app-event-listener-interface\";\r\nimport { BaseListComponent } from \"../../base-list/base-list-component\";\r\nimport { TableHeader } from \"../../../lib/tables/table-header\";\r\nimport { Source } from \"../../../features/sources/source\";\r\nimport { GearItemDisplayDialogComponent } from \"../gear-item-display-dialog/gear-item-display-dialog\";\r\nimport { GearItemDeletedEvent } from \"../../../lib/events/gear-item-deleted-event\";\r\nimport { GearItem } from \"../../../features/gear/gear-item\";\r\nimport { UiReportableErrorClearedEvent } from \"../../../lib/events/ui-reportable-error-cleared-event\";\r\nimport { SourcesService } from \"../../../features/sources/sources-service\";\r\n\r\nexport class GearListComponent extends BaseListComponent {\r\n    private gearList: Array<GearListItem> = [];\r\n    private currentFilters: GearFilterChangedEvent;\r\n\r\n    constructor() {\r\n        super(SortGearListFeature.fieldId, [\r\n            new TableHeader(SortGearListFeature.fieldItem, \"Item\"),\r\n            new TableHeader(SortGearListFeature.fieldCost, \"Cost\"),\r\n            new TableHeader(SortGearListFeature.fieldCategory, \"Category\"),\r\n            new TableHeader(SortGearListFeature.fieldDescription, \"Description\"),\r\n        ]);\r\n        this.currentFilters = new GearFilterChangedEvent(GearItem.gearCategory, \"\", 0);\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n\r\n        const feature = new GetAllGearFeature(this.unitOfWork);\r\n        this.gearList = feature.handle(new EmptyRequest());\r\n\r\n        this.sortItems();\r\n\r\n        this.populateTableHeaderRow();\r\n        this.populateTableRows();\r\n\r\n        EventBus.instance.register(GearFilterChangedEvent.name, this.onGearFilterChangedEvent);\r\n        EventBus.instance.register(GearItemDeletedEvent.name, this.onGearItemDeletedEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregister(GearFilterChangedEvent.name, this.onGearFilterChangedEvent);\r\n        EventBus.instance.unregister(GearItemDeletedEvent.name, this.onGearItemDeletedEvent);\r\n    }\r\n\r\n    protected override createTableRowsElements(tableBody: HTMLTableSectionElement) {\r\n        this.gearList.forEach((item) => {\r\n            tableBody.appendChild(this.createTableRowElement(item));\r\n        });\r\n    }\r\n\r\n    private createTableRowElement(gearItem: GearListItem): HTMLTableRowElement {\r\n        const row = this.createBaseTableRowElement();\r\n\r\n        row.innerHTML = `\r\n            <td class=\"p-2\">${this.getNameTableDataInnerHtml(gearItem)}</td>\r\n            <td class=\"p-2\">${gearItem.abbreviatedCost}</td>\r\n            <td class=\"p-2\">${gearItem.category}</td>\r\n            <td class=\"p-2 truncate max-w-50\">${gearItem.description}</td>\r\n        `;\r\n\r\n        row.addEventListener(\"click\", (event: MouseEvent) => this.onTableDataRowClick(gearItem));\r\n\r\n        return row;\r\n    }\r\n\r\n    private getNameTableDataInnerHtml(gearItem: GearListItem): string {\r\n        let nameInnerHtml = gearItem.name;\r\n\r\n        if (gearItem.sourceId === SourcesService.instance.getCustomItemSourceId(this.unitOfWork)) {\r\n            nameInnerHtml = `${gearItem.name} <sup>(C)</sup>`;\r\n        }\r\n\r\n        return nameInnerHtml;\r\n    }\r\n\r\n    private onGearFilterChangedEvent: AppEventListener = (event: AppEvent) => {\r\n        this.filterGear(event as GearFilterChangedEvent);\r\n    };\r\n\r\n    private filterGear(event: GearFilterChangedEvent) {\r\n        this.currentFilters = event;\r\n\r\n        const feature = new FilterGearListFeature(this.unitOfWork);\r\n        const request = new FilterGearListRequest();\r\n\r\n        request.category = event.category;\r\n        request.search = event.search;\r\n        request.sourceId = event.sourceId;\r\n\r\n        const result = feature.handle(request);\r\n\r\n        if (result.isFailure) {\r\n            this.dispatchErrorEvent(result.error.description);\r\n            return;\r\n        }\r\n\r\n        EventBus.instance.dispatch(new UiReportableErrorClearedEvent());\r\n\r\n        this.gearList = result.value ?? [];\r\n\r\n        this.sortItems();\r\n\r\n        this.populateTableRows(true);\r\n    }\r\n\r\n    public onTableDataRowClick(gearItem: GearListItem) {\r\n        const modal = this.shadow.querySelector(`#gearItemDisplayDialog`) as GearItemDisplayDialogComponent;\r\n\r\n        if (!modal) {\r\n            this.dispatchErrorEvent(`Modal \\\"gearItemDisplayDialog\\\" not found.`);\r\n            return;\r\n        }\r\n\r\n        EventBus.instance.dispatch(new UiReportableErrorClearedEvent());\r\n\r\n        modal.setGearItem(gearItem.id, gearItem.category);\r\n\r\n        modal.openModal();\r\n    }\r\n\r\n    protected override sortItems() {\r\n        this.tableHeaders.forEach((currentHeader) => {\r\n            this.updateSortIcons(currentHeader.field);\r\n        });\r\n\r\n        const feature = new SortGearListFeature();\r\n        const request = new SortGearListRequest();\r\n\r\n        request.gearListItems = this.gearList;\r\n        request.sortState = this.sortState;\r\n\r\n        const result = feature.handle(request);\r\n\r\n        if (result.isFailure) {\r\n            this.dispatchErrorEvent(result.error.description);\r\n            return;\r\n        }\r\n\r\n        this.gearList = result.value ?? [];\r\n    }\r\n\r\n    private onGearItemDeletedEvent: AppEventListener = (event: AppEvent) => {\r\n        this.filterGear(this.currentFilters);\r\n    };\r\n}\r\n\r\ncustomElements.define(\"gear-list\", GearListComponent);\r\n","export default \"<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Name</label>\\r\\n        <p id=\\\"gearName\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Cost</label>\\r\\n        <p id=\\\"gearCost\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<label class=\\\"text-lg font-semibold uppercase\\\">Description</label>\\r\\n<p id=\\\"gearDescription\\\" class=\\\"text-base leading-relaxed text-black mb-4\\\"></p>\\r\\n\\r\\n<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Category</label>\\r\\n        <p id=\\\"gearWeaponCategory\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Range</label>\\r\\n        <p id=\\\"gearRange\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Damage</label>\\r\\n        <p id=\\\"gearDamage\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Shots</label>\\r\\n        <p id=\\\"gearShots\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Wound</label>\\r\\n        <p id=\\\"gearWound\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<label class=\\\"text-lg font-semibold uppercase\\\">Special</label>\\r\\n<p id=\\\"gearSpecial\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n\";","import html from \"./gear-weapon-display.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { WeaponItem } from \"../../../features/gear/weapon-item\";\r\nimport { CreditsAbbreviator } from \"../../../lib/services/credits-abbreviator\";\r\n\r\nexport class GearWeaponDisplayComponent extends BaseComponent {\r\n    private weaponItem: WeaponItem;\r\n\r\n    constructor() {\r\n        super();\r\n        this.weaponItem = new WeaponItem();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    public setEquipmentItem(weaponItem: WeaponItem) {\r\n        this.weaponItem = weaponItem;\r\n\r\n        this.updateGearName();\r\n        this.updateGearDescription();\r\n        this.updateGearCost();\r\n        this.updateWeaponCategory();\r\n        this.updateGearRange();\r\n        this.updateGearDamage();\r\n        this.updateGearShots();\r\n        this.updateGearWound();\r\n        this.updateGearSpecial();\r\n    }\r\n\r\n    private updateGearName() {\r\n        const paragraph = this.shadow.querySelector(\"#gearName\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.name;\r\n    }\r\n\r\n    private updateGearDescription() {\r\n        const paragraph = this.shadow.querySelector(\"#gearDescription\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.description;\r\n    }\r\n\r\n    private updateGearCost() {\r\n        const paragraph = this.shadow.querySelector(\"#gearCost\") as HTMLParagraphElement;\r\n        paragraph.textContent = CreditsAbbreviator.instance.abbreviate(this.weaponItem.cost);\r\n    }\r\n\r\n    private updateWeaponCategory() {\r\n        const paragraph = this.shadow.querySelector(\"#gearWeaponCategory\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.category;\r\n    }\r\n\r\n    private updateGearRange() {\r\n        const paragraph = this.shadow.querySelector(\"#gearRange\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.range;\r\n    }\r\n\r\n    private updateGearDamage() {\r\n        const paragraph = this.shadow.querySelector(\"#gearDamage\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.damage;\r\n    }\r\n\r\n    private updateGearShots() {\r\n        const paragraph = this.shadow.querySelector(\"#gearShots\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.shots.toString();\r\n    }\r\n\r\n    private updateGearWound() {\r\n        const paragraph = this.shadow.querySelector(\"#gearWound\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.wound;\r\n    }\r\n\r\n    private updateGearSpecial() {\r\n        const paragraph = this.shadow.querySelector(\"#gearSpecial\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.weaponItem.special;\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-weapon-display\", GearWeaponDisplayComponent);\r\n","export default \"<div class=\\\"grid grid-cols-2 gap-2 mb-3\\\">\\r\\n    <div>\\r\\n        <label for=\\\"inputWeaponCategory\\\" class=\\\"text-lg font-semibold uppercase\\\">Category</label>\\r\\n        <select\\r\\n            id=\\\"inputWeaponCategory\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            onchange=\\\"this.handleOnWeaponCategorySelectChanged(event)\\\"\\r\\n        >\\r\\n            <option value=\\\"Melee\\\">Melee</option>\\r\\n            <option value=\\\"Firearm\\\">Firearm</option>\\r\\n            <option value=\\\"Industrial Equipment\\\">Industrial Equipment</option>\\r\\n        </select>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"inputRange\\\" class=\\\"text-lg font-semibold uppercase\\\">Range</label>\\r\\n        <select\\r\\n            id=\\\"inputRange\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            onchange=\\\"this.handleOnRangeSelectChanged(event)\\\"\\r\\n        >\\r\\n            <option value=\\\"N/A\\\">N/A</option>\\r\\n            <option value=\\\"Adjacent\\\">Adjacent</option>\\r\\n            <option value=\\\"Close\\\">Close</option>\\r\\n            <option value=\\\"Long\\\">Long</option>\\r\\n            <option value=\\\"Extreme\\\">Extreme</option>\\r\\n        </select>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-2 gap-2 mb-3\\\">\\r\\n    <div>\\r\\n        <label for=\\\"inputDamage\\\" class=\\\"text-lg font-semibold uppercase\\\">Damage</label>\\r\\n        <input\\r\\n            id=\\\"inputDamage\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            placeholder=\\\"Enter the weapon's damage...\\\"\\r\\n            aria-placeholder=\\\"Enter the weapon's damage...\\\"\\r\\n            maxlength=\\\"100\\\"\\r\\n            onchange=\\\"this.handleOnDamageInputChanged(event)\\\"\\r\\n        />\\r\\n    </div>\\r\\n    <div>\\r\\n        <label for=\\\"inputShots\\\" class=\\\"text-lg font-semibold uppercase\\\">Shots</label>\\r\\n        <input\\r\\n            id=\\\"inputShots\\\"\\r\\n            type=\\\"number\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            placeholder=\\\"Enter item's # of shots...\\\"\\r\\n            aria-placeholder=\\\"Enter item's number of shots...\\\"\\r\\n            min=\\\"0\\\"\\r\\n            max=\\\"9000000000000000\\\"\\r\\n            onchange=\\\"this.handleOnShotsInputChanged(event)\\\"\\r\\n        />\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-2 gap-2 mb-3\\\">\\r\\n    <div>\\r\\n        <label for=\\\"inputWound\\\" class=\\\"text-lg font-semibold uppercase\\\">Wound</label>\\r\\n        <input\\r\\n            id=\\\"inputWound\\\"\\r\\n            type=\\\"text\\\"\\r\\n            class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n            placeholder=\\\"Enter the weapon's wound...\\\"\\r\\n            aria-placeholder=\\\"Enter the weapon's wound...\\\"\\r\\n            maxlength=\\\"100\\\"\\r\\n            onchange=\\\"this.handleOnWoundInputChanged(event)\\\"\\r\\n        />\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-1 gap-1 mb-3\\\">\\r\\n    <label for=\\\"inputSpecial\\\" class=\\\"text-lg font-semibold uppercase\\\">Special</label>\\r\\n    <textarea\\r\\n        id=\\\"inputSpecial\\\"\\r\\n        type=\\\"text\\\"\\r\\n        class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n        placeholder=\\\"Enter item's special properties...\\\"\\r\\n        aria-placeholder=\\\"Enter item's special properties...\\\"\\r\\n        rows=\\\"3\\\"\\r\\n        maxlength=\\\"1000\\\"\\r\\n        onchange=\\\"this.handleOnSpecialInputChanged(event)\\\"\\r\\n    ></textarea>\\r\\n</div>\\r\\n\";","import html from \"./gear-weapon-form-fields.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { WeaponItem } from \"../../../features/gear/weapon-item\";\r\nimport { WeaponItemFormFieldsDto } from \"../../../features/gear/weapon-item-form-fields-dto\";\r\n\r\nexport class GearWeaponFormFieldsComponent extends BaseComponent {\r\n    static formAssociated = true;\r\n\r\n    private _internals: ElementInternals;\r\n    private _formFieldsDto: WeaponItemFormFieldsDto;\r\n\r\n    public get weaponCategorySelectElement(): HTMLSelectElement {\r\n        return this.shadow.querySelector(\"#inputWeaponCategory\") as HTMLSelectElement;\r\n    }\r\n\r\n    public get rangeSelectElement(): HTMLSelectElement {\r\n        return this.shadow.querySelector(\"#inputRange\") as HTMLSelectElement;\r\n    }\r\n\r\n    public get damageInputElement(): HTMLInputElement {\r\n        return this.shadow.querySelector(\"#inputDamage\") as HTMLInputElement;\r\n    }\r\n\r\n    public get shotsInputElement(): HTMLInputElement {\r\n        return this.shadow.querySelector(\"#inputShots\") as HTMLInputElement;\r\n    }\r\n\r\n    public get woundInputElement(): HTMLInputElement {\r\n        return this.shadow.querySelector(\"#inputWound\") as HTMLInputElement;\r\n    }\r\n\r\n    public get specialInputElement(): HTMLTextAreaElement {\r\n        return this.shadow.querySelector(\"#inputSpecial\") as HTMLTextAreaElement;\r\n    }\r\n\r\n    public get value(): string {\r\n        return this._formFieldsDto.toJson();\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._internals = this.attachInternals();\r\n        this._formFieldsDto = new WeaponItemFormFieldsDto();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n        this.updateFormValue();\r\n    }\r\n\r\n    private updateFormValue() {\r\n        this._internals.setFormValue(this.value);\r\n    }\r\n\r\n    public setInitialFormValues(item: WeaponItem) {\r\n        this.weaponCategorySelectElement.value = item.category;\r\n        this.rangeSelectElement.value = item.range;\r\n        this.damageInputElement.value = item.damage;\r\n        this.shotsInputElement.value = item.shots.toString();\r\n        this.woundInputElement.value = item.wound;\r\n        this.specialInputElement.value = item.special;\r\n\r\n        this._formFieldsDto.category = item.category;\r\n        this._formFieldsDto.range = item.range;\r\n        this._formFieldsDto.damage = item.damage;\r\n        this._formFieldsDto.shots = item.shots.toString();\r\n        this._formFieldsDto.wound = item.wound;\r\n        this._formFieldsDto.special = item.special;\r\n\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnWeaponCategorySelectChanged(event: Event) {\r\n        this._formFieldsDto.category = this.weaponCategorySelectElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnRangeSelectChanged(event: Event) {\r\n        this._formFieldsDto.range = this.rangeSelectElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnDamageInputChanged(event: Event) {\r\n        this._formFieldsDto.damage = this.damageInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnShotsInputChanged(event: Event) {\r\n        this._formFieldsDto.shots = this.shotsInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnWoundInputChanged(event: Event) {\r\n        this._formFieldsDto.wound = this.woundInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n\r\n    public handleOnSpecialInputChanged(event: Event) {\r\n        this._formFieldsDto.special = this.specialInputElement.value;\r\n        this.updateFormValue();\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-weapon-form-fields\", GearWeaponFormFieldsComponent);\r\n","export default \"<h1 class=\\\"text-5xl font-bold uppercase mb-2\\\">\\r\\n    <slot></slot>\\r\\n</h1>\\r\\n\";","import html from \"./page-heading-1.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\n\r\nexport class PageHeading1Component extends BaseComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"page-heading-1\", PageHeading1Component);","export default \"<style>\\r\\n    .active-nav-button {\\r\\n        color: var(--color-black);\\r\\n        background-color: var(--color-white);\\r\\n    }\\r\\n\\r\\n    .active-nav-button svg {\\r\\n        fill: var(--color-black);\\r\\n    }\\r\\n\\r\\n    .inactive-nav-button {\\r\\n        color: var(--color-white);\\r\\n        background-color: var(--color-black);\\r\\n    }\\r\\n\\r\\n    .inactive-nav-button:hover {\\r\\n        color: var(--color-black);\\r\\n        background-color: var(--color-gray-400);\\r\\n    }\\r\\n\\r\\n    .inactive-nav-button:hover svg {\\r\\n        fill: var(--color-black);\\r\\n    }\\r\\n</style>\\r\\n<footer id=\\\"footerBar\\\" class=\\\"fixed bottom-0 left-0 z-20 px-2 pt-1 w-full h-16 text-white bg-black\\\">\\r\\n    <!-- Primary Navigation Buttons -->\\r\\n    <div class=\\\"flex justify-around items-center\\\">\\r\\n        <button\\r\\n            id=\\\"navCharacters\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"inactive-nav-button flex flex-col justify-center-safe items-center text-sm cursor-pointer min-w-24 h-14 p-1 font-semibold rounded-md transition duration-150 ease-in-out\\\"\\r\\n            onclick=\\\"this.navigateToPage('Characters')\\\"\\r\\n        >\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"30px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"30px\\\"\\r\\n                fill=\\\"#e3e3e3\\\"\\r\\n                class=\\\"transition duration-150 ease-in-out\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"m160-419 101-101-101-101L59-520l101 101Zm540-21 100-160 100 160H700Zm-220-40q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm0-160q-17 0-28.5 11.5T440-600q0 17 11.5 28.5T480-560q17 0 28.5-11.5T520-600q0-17-11.5-28.5T480-640Zm0 40ZM0-240v-63q0-44 44.5-70.5T160-400q13 0 25 .5t23 2.5q-14 20-21 43t-7 49v65H0Zm240 0v-65q0-65 66.5-105T480-450q108 0 174 40t66 105v65H240Zm560-160q72 0 116 26.5t44 70.5v63H780v-65q0-26-6.5-49T754-397q11-2 22.5-2.5t23.5-.5Zm-320 30q-57 0-102 15t-53 35h311q-9-20-53.5-35T480-370Zm0 50Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            Characters\\r\\n        </button>\\r\\n\\r\\n        <button\\r\\n            id=\\\"navNPCs\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"inactive-nav-button flex flex-col justify-center-safe items-center text-sm cursor-pointer min-w-24 h-14 p-1 font-semibold rounded-md transition duration-150 ease-in-out\\\"\\r\\n            onclick=\\\"this.navigateToPage('NPCs')\\\"\\r\\n        >\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"30px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"30px\\\"\\r\\n                fill=\\\"#e3e3e3\\\"\\r\\n                class=\\\"transition duration-150 ease-in-out\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"M0-240v-63q0-43 44-70t116-27q13 0 25 .5t23 2.5q-14 21-21 44t-7 48v65H0Zm240 0v-65q0-32 17.5-58.5T307-410q32-20 76.5-30t96.5-10q53 0 97.5 10t76.5 30q32 20 49 46.5t17 58.5v65H240Zm540 0v-65q0-26-6.5-49T754-397q11-2 22.5-2.5t23.5-.5q72 0 116 26.5t44 70.5v63H780Zm-455-80h311q-10-20-55.5-35T480-370q-55 0-100.5 15T325-320ZM160-440q-33 0-56.5-23.5T80-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T160-440Zm640 0q-33 0-56.5-23.5T720-520q0-34 23.5-57t56.5-23q34 0 57 23t23 57q0 33-23 56.5T800-440Zm-320-40q-50 0-85-35t-35-85q0-51 35-85.5t85-34.5q51 0 85.5 34.5T600-600q0 50-34.5 85T480-480Zm0-80q17 0 28.5-11.5T520-600q0-17-11.5-28.5T480-640q-17 0-28.5 11.5T440-600q0 17 11.5 28.5T480-560Zm1 240Zm-1-280Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            NPCs\\r\\n        </button>\\r\\n\\r\\n        <button\\r\\n            id=\\\"navGear\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"inactive-nav-button flex flex-col justify-center-safe items-center text-sm cursor-pointer min-w-24 h-14 p-1 font-semibold rounded-md transition duration-150 ease-in-out\\\"\\r\\n            onclick=\\\"this.navigateToPage('Gear')\\\"\\r\\n        >\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"30px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"30px\\\"\\r\\n                fill=\\\"#e3e3e3\\\"\\r\\n                class=\\\"transition duration-150 ease-in-out\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"M160-200h80v-320h480v320h80v-426L480-754 160-626v426Zm-80 80v-560l400-160 400 160v560H640v-320H320v320H80Zm280 0v-80h80v80h-80Zm80-120v-80h80v80h-80Zm80 120v-80h80v80h-80ZM240-520h480-480Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            Gear\\r\\n        </button>\\r\\n\\r\\n        <button\\r\\n            id=\\\"navMoreOptions\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"inactive-nav-button flex flex-col justify-center-safe items-center text-sm cursor-pointer min-w-24 h-14 p-1 font-semibold rounded-md transition duration-150 ease-in-out\\\"\\r\\n            onclick=\\\"this.onMoreOptionsButtonClick(event)\\\"\\r\\n        >\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"30px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"30px\\\"\\r\\n                fill=\\\"#e3e3e3\\\"\\r\\n                class=\\\"transition duration-150 ease-in-out\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"M480-160q-33 0-56.5-23.5T400-240q0-33 23.5-56.5T480-320q33 0 56.5 23.5T560-240q0 33-23.5 56.5T480-160Zm0-240q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Zm0-240q-33 0-56.5-23.5T400-720q0-33 23.5-56.5T480-800q33 0 56.5 23.5T560-720q0 33-23.5 56.5T480-640Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n        </button>\\r\\n    </div>\\r\\n\\r\\n    <!-- More Options Menu -->\\r\\n    <div\\r\\n        id=\\\"moreOptionsMenu\\\"\\r\\n        class=\\\"hidden fixed flex flex-col-reverse gap-y-2 items-center w-1/4 bottom-16 right-0 z-20 py-2 text-white bg-black rounded-tl-md\\\"\\r\\n    >\\r\\n        <!-- <button\\r\\n            id=\\\"navCodex\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"inactive-nav-button flex flex-col justify-center-safe items-center text-sm cursor-pointer min-w-24 h-14 p-1 font-semibold rounded-md transition duration-150 ease-in-out\\\"\\r\\n            onclick=\\\"this.navigateToPage('Codex')\\\"\\r\\n        >\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"30px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"30px\\\"\\r\\n                fill=\\\"#e3e3e3\\\"\\r\\n                class=\\\"transition duration-150 ease-in-out\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"m618-358 44-42-84-84q11-17 16.5-36t5.5-40q0-59-41.5-99.5T460-700q-57 0-98.5 40.5T320-560q0 59 41.5 99.5T460-420q21 0 39.5-5.5T536-442l82 84ZM460-480q-33 0-56.5-23.5T380-560q0-33 23.5-56.5T460-640q32 0 56 23.5t24 56.5q0 33-23.5 56.5T460-480ZM160-240q-33 0-56.5-23.5T80-320v-440q0-33 23.5-56.5T160-840h640q33 0 56.5 23.5T880-760v440q0 33-23.5 56.5T800-240H160Zm0-80h640v-440H160v440Zm0 0v-440 440ZM40-120v-80h880v80H40Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            Codex\\r\\n        </button> -->\\r\\n\\r\\n        <button\\r\\n            id=\\\"navAbout\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"inactive-nav-button flex flex-col justify-center-safe items-center text-sm cursor-pointer min-w-24 h-14 p-1 font-semibold rounded-md transition duration-150 ease-in-out\\\"\\r\\n            onclick=\\\"this.navigateToPage('About')\\\"\\r\\n        >\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"30px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"30px\\\"\\r\\n                fill=\\\"#e3e3e3\\\"\\r\\n                class=\\\"transition duration-150 ease-in-out\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            About\\r\\n        </button>\\r\\n\\r\\n        <!-- <button\\r\\n            id=\\\"navSettings\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"inactive-nav-button flex flex-col justify-center-safe items-center text-sm cursor-pointer min-w-24 h-14 p-1 font-semibold rounded-md transition duration-150 ease-in-out\\\"\\r\\n        >\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"30px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"30px\\\"\\r\\n                fill=\\\"#e3e3e3\\\"\\r\\n                class=\\\"transition duration-150 ease-in-out\\\"\\r\\n            >\\r\\n                <path\\r\\n                    d=\\\"m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z\\\"\\r\\n                />\\r\\n            </svg>\\r\\n            Settings\\r\\n        </button> -->\\r\\n    </div>\\r\\n</footer>\\r\\n\";","import html from \"./footer-bar.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { PageRouterService } from \"../../../lib/pages/page-router-service\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { AppEventListener } from \"../../../lib/events/app-event-listener-interface\";\r\nimport { AppEvent } from \"../../../lib/events/app-event\";\r\nimport { PageChangedEvent } from \"../../../lib/events/page-changed-event\";\r\n\r\nexport class FooterBarComponent extends BaseComponent {\r\n    private readonly footerBarId: string = \"footerBar\";\r\n    private readonly moreOptionMenuId: string = \"moreOptionsMenu\";\r\n\r\n    private readonly activeButtonCssClass = \"active-nav-button\";\r\n    private readonly inactiveButtonCssClass = \"inactive-nav-button\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n\r\n        EventBus.instance.register(PageChangedEvent.name, this.onUpdateActiveNavButton);\r\n        EventBus.instance.registerDocumentEvent(\"click\", this.onDocumentMouseClickEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregister(PageChangedEvent.name, this.onUpdateActiveNavButton);\r\n        EventBus.instance.unregisterDocumentEvent(\"click\", this.onDocumentMouseClickEvent);\r\n    }\r\n\r\n    private onUpdateActiveNavButton: AppEventListener = (event: AppEvent) => {\r\n        this.setActiveNavButton((event as PageChangedEvent).currentPage.title);\r\n    };\r\n\r\n    private onDocumentMouseClickEvent = (event: Event) => {\r\n        const footerElement = this.shadow.querySelector(`#${this.footerBarId}`) as HTMLElement;\r\n        const eventPath = event.composedPath();\r\n\r\n        if (!eventPath.includes(footerElement)) {\r\n            this.closeMoreOptionsMenu();\r\n        }\r\n    };\r\n\r\n    private navigateToPage(page: string) {\r\n        PageRouterService.instance.navigateToPage(page);\r\n\r\n        this.setActiveNavButton(page);\r\n\r\n        this.closeMoreOptionsMenu();\r\n    }\r\n\r\n    private setActiveNavButton(page: string) {\r\n        const navButtons = this.shadow.querySelectorAll(\"button\");\r\n\r\n        navButtons.forEach((button) => {\r\n            if (button.id === `nav${page}`) {\r\n                this.setNavButtonActive(button);\r\n            } else {\r\n                this.setNavButtonInactive(button);\r\n            }\r\n        });\r\n    }\r\n\r\n    private setNavButtonActive(button: HTMLButtonElement) {\r\n        button.classList.add(this.activeButtonCssClass);\r\n        button.classList.remove(this.inactiveButtonCssClass);\r\n    }\r\n\r\n    private setNavButtonInactive(button: HTMLButtonElement) {\r\n        button.classList.add(this.inactiveButtonCssClass);\r\n        button.classList.remove(this.activeButtonCssClass);\r\n    }\r\n\r\n    private onMoreOptionsButtonClick(event: MouseEvent) {\r\n        if (this.isMoreOptionsMenuOpen()) {\r\n            this.closeMoreOptionsMenu();\r\n        } else {\r\n            this.openMoreOptionsMenu();\r\n        }\r\n    }\r\n\r\n    private isMoreOptionsMenuOpen(): boolean {\r\n        const moreOptionsMenu = this.getMoreOptionsMenuElement();\r\n\r\n        return !moreOptionsMenu.classList.contains(\"hidden\");\r\n    }\r\n\r\n    private openMoreOptionsMenu() {\r\n        const moreOptionsMenu = this.getMoreOptionsMenuElement();\r\n        moreOptionsMenu.classList.remove(\"hidden\");\r\n    }\r\n\r\n    private closeMoreOptionsMenu() {\r\n        const moreOptionsMenu = this.getMoreOptionsMenuElement();\r\n        moreOptionsMenu.classList.add(\"hidden\");\r\n    }\r\n\r\n    private getMoreOptionsMenuElement(): HTMLDivElement {\r\n        return this.shadow.querySelector(`#${this.moreOptionMenuId}`) as HTMLDivElement;\r\n    }\r\n}\r\n\r\ncustomElements.define(\"footer-bar\", FooterBarComponent);\r\n","export default \"<div class=\\\"flex justify-between items-center px-2 h-16 bg-black\\\">\\r\\n    <!-- <div class=\\\"size-11\\\"></div> -->\\r\\n    <div class=\\\"flex\\\">\\r\\n        <svg\\r\\n            id=\\\"navigateBackButton\\\"\\r\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n            height=\\\"36px\\\"\\r\\n            viewBox=\\\"0 -960 960 960\\\"\\r\\n            width=\\\"36px\\\"\\r\\n            fill=\\\"#e3e3e3\\\"\\r\\n            class=\\\"cursor-pointer mx-1 p-1 fill-white hover:bg-white hover:fill-black rounded-md transition duration-150 ease-in-out hidden\\\"\\r\\n            onclick=\\\"this.navigateBack()\\\"\\r\\n        >\\r\\n            <path d=\\\"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z\\\" />\\r\\n        </svg>\\r\\n    </div>\\r\\n    <h1 id=\\\"pageTitle\\\" class=\\\"text-3xl text-white font-bold uppercase\\\"></h1>\\r\\n    <div class=\\\"flex\\\">\\r\\n        <svg\\r\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n            height=\\\"36px\\\"\\r\\n            viewBox=\\\"0 -960 960 960\\\"\\r\\n            width=\\\"36px\\\"\\r\\n            fill=\\\"#e3e3e3\\\"\\r\\n            class=\\\"cursor-pointer mx-1 p-1 fill-white hover:bg-white hover:fill-black rounded-md transition duration-150 ease-in-out\\\"\\r\\n            onclick=\\\"this.navigateToPage('About')\\\"\\r\\n        >\\r\\n            <path\\r\\n                d=\\\"M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z\\\"\\r\\n            />\\r\\n        </svg>\\r\\n    </div>\\r\\n</div>\\r\\n\";","import html from \"./header-bar.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { AppEvent } from \"../../../lib/events/app-event\";\r\nimport { PageChangedEvent } from \"../../../lib/events/page-changed-event\";\r\nimport { PageRouterService } from \"../../../lib/pages/page-router-service\";\r\nimport { AppEventListener } from \"../../../lib/events/app-event-listener-interface\";\r\n\r\nexport class HeaderBarComponent extends BaseComponent {\r\n    private navigateBackPage: string;\r\n\r\n    constructor() {\r\n        super();\r\n        this.navigateBackPage = \"\";\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n\r\n        EventBus.instance.register(PageChangedEvent.name, this.onPageChangedEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregister(PageChangedEvent.name, this.onPageChangedEvent);\r\n    }\r\n\r\n    private onPageChangedEvent: AppEventListener = (event: AppEvent) => {\r\n        const pageChangedEvent = event as PageChangedEvent;\r\n\r\n        this.updatePageTitle(pageChangedEvent.currentPage.title);\r\n        this.updateNavigateBackButton(pageChangedEvent);\r\n    };\r\n\r\n    private updatePageTitle(updatedTitle: string) {\r\n        const pageTitleElement = this.shadow.querySelector(\"#pageTitle\") as HTMLHeadElement;\r\n        pageTitleElement.textContent = updatedTitle;\r\n    }\r\n\r\n    private updateNavigateBackButton(pageChangedEvent: PageChangedEvent) {\r\n        if (pageChangedEvent.currentPage.canNavigateBackFrom) {\r\n            this.navigateBackPage = pageChangedEvent.previousPage.title;\r\n            this.showNavigateBackButton();\r\n        } else {\r\n            this.navigateBackPage = \"\";\r\n            this.hideNavigateBackButton();\r\n        }\r\n    }\r\n\r\n    private showNavigateBackButton() {\r\n        const backButtonElement = this.getNavigateBackButtonElement();\r\n        backButtonElement?.classList.remove(\"hidden\");\r\n    }\r\n\r\n    private hideNavigateBackButton() {\r\n        const backButtonElement = this.getNavigateBackButtonElement();\r\n        backButtonElement?.classList.add(\"hidden\");\r\n    }\r\n\r\n    private getNavigateBackButtonElement(): Element | null {\r\n        return this.shadow.querySelector(\"#navigateBackButton\");\r\n    }\r\n\r\n    public navigateToPage(page: string) {\r\n        PageRouterService.instance.navigateToPage(page);\r\n    }\r\n\r\n    public navigateBack() {\r\n        this.navigateToPage(this.navigateBackPage);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"header-bar\", HeaderBarComponent);\r\n","export default \"<div\\r\\n    id=\\\"modalDialog\\\"\\r\\n    tabindex=\\\"-1\\\"\\r\\n    aria-hidden=\\\"true\\\"\\r\\n    class=\\\"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full h-screen bg-black/30\\\"\\r\\n    onclick=\\\"this.onCloseModal(event)\\\"\\r\\n>\\r\\n    <div class=\\\"relative p-4 w-full max-w-2xl max-h-full\\\" onclick=\\\"event.stopPropagation()\\\">\\r\\n        <div class=\\\"relative rounded-lg shadow-sm bg-gray-100\\\">\\r\\n            <!-- Modal header -->\\r\\n            <div class=\\\"flex items-center justify-between p-4 bg-black\\\">\\r\\n                <h3 id=\\\"modalHeaderText\\\" class=\\\"text-xl font-bold text-white uppercase\\\">\\r\\n                    <slot name=\\\"modal-header\\\"></slot>\\r\\n                </h3>\\r\\n                <button\\r\\n                    type=\\\"button\\\"\\r\\n                    class=\\\"text-white bg-transparent hover:bg-white hover:text-black rounded-md text-sm w-8 h-8 ms-auto inline-flex justify-center items-center transition duration-150 ease-in-out cursor-pointer\\\"\\r\\n                    onclick=\\\"this.onCloseModal(event)\\\"\\r\\n                >\\r\\n                    <svg\\r\\n                        class=\\\"w-3 h-3\\\"\\r\\n                        aria-hidden=\\\"true\\\"\\r\\n                        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                        fill=\\\"none\\\"\\r\\n                        viewBox=\\\"0 0 14 14\\\"\\r\\n                    >\\r\\n                        <path\\r\\n                            stroke=\\\"currentColor\\\"\\r\\n                            stroke-linecap=\\\"round\\\"\\r\\n                            stroke-linejoin=\\\"round\\\"\\r\\n                            stroke-width=\\\"2\\\"\\r\\n                            d=\\\"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6\\\"\\r\\n                        />\\r\\n                    </svg>\\r\\n                    <span class=\\\"sr-only\\\">Close modal</span>\\r\\n                </button>\\r\\n            </div>\\r\\n\\r\\n            <!-- Modal body -->\\r\\n            <div id=\\\"modalBody\\\" class=\\\"p-4 max-h-128 overflow-y-auto\\\">\\r\\n                <slot name=\\\"modal-body\\\"></slot>\\r\\n            </div>\\r\\n\\r\\n            <!-- Modal footer -->\\r\\n            <hr class=\\\"mx-3 bg-gray-900 border-1\\\" />\\r\\n            <div class=\\\"flex items-center justify-center p-2\\\">\\r\\n                <primary-button onclick=\\\"this.onCloseModal(event)\\\">Close</primary-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";","import html from \"./modal-dialog.html\";\r\nimport { BaseComponent } from \"../base.component\";\r\nimport { EventBus } from \"../../lib/events/event-bus\";\r\n\r\nexport class ModalDialogComponent extends BaseComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    public openModal() {\r\n        EventBus.instance.registerBrowserEvent(\"keyup\", this.onKeyupEvent);\r\n\r\n        this.showModal();\r\n        this.resetScrollbarToTop();\r\n    }\r\n\r\n    private showModal() {\r\n        const dialog = this.shadow.querySelector(\"#modalDialog\") as HTMLDivElement;\r\n\r\n        dialog.classList.remove(\"hidden\");\r\n        dialog.classList.add(\"flex\");\r\n    }\r\n\r\n    private resetScrollbarToTop() {\r\n        const dialog = this.shadow.querySelector(\"#modalBody\") as HTMLDivElement;\r\n\r\n        dialog.scrollTop = 0;\r\n    }\r\n\r\n    public closeModal() {\r\n        this.hideModal();\r\n\r\n        EventBus.instance.unregisterBrowserEvent(\"keyup\", this.onKeyupEvent);\r\n    }\r\n\r\n    private hideModal() {\r\n        const dialog = this.shadow.querySelector(\"#modalDialog\") as HTMLDivElement;\r\n\r\n        dialog.classList.add(\"hidden\");\r\n        dialog.classList.remove(\"flex\");\r\n    }\r\n\r\n    public onCloseModal(event: MouseEvent) {\r\n        this.closeModal();\r\n    }\r\n\r\n    private onKeyupEvent = (event: Event) => {\r\n        if (event instanceof KeyboardEvent && event.key === \"Escape\") {\r\n            this.closeModal();\r\n        }\r\n    };\r\n}\r\n\r\ncustomElements.define(\"modal-dialog\", ModalDialogComponent);\r\n","export default \"<div class=\\\"mb-4\\\">\\r\\n    <label class=\\\"text-lg font-semibold uppercase\\\">Name</label>\\r\\n    <p id=\\\"npcName\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Combat</label>\\r\\n        <p id=\\\"npcCombat\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Instinct</label>\\r\\n        <p id=\\\"npcInstinct\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"grid grid-cols-2 gap-2 mb-4\\\">\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Health</label>\\r\\n        <p id=\\\"npcHealth\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n    <div>\\r\\n        <label class=\\\"text-lg font-semibold uppercase\\\">Maximum Wounds</label>\\r\\n        <p id=\\\"npcMaximumWounds\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"mb-4\\\">\\r\\n    <label class=\\\"text-lg font-semibold uppercase\\\">Armor Points</label>\\r\\n    <p id=\\\"npcArmorPoints\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"mb-4\\\">\\r\\n    <label class=\\\"text-lg font-semibold uppercase\\\">Attacks</label>\\r\\n    <div id=\\\"npcAttacksContainer\\\"></div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"mb-4\\\">\\r\\n    <label class=\\\"text-lg font-semibold uppercase\\\">Special Abilities</label>\\r\\n    <div id=\\\"npcSpecialAbilitiesContainer\\\"></div>\\r\\n</div>\\r\\n\\r\\n<div>\\r\\n    <label class=\\\"text-lg font-semibold uppercase\\\">Description</label>\\r\\n    <p id=\\\"npcDescription\\\" class=\\\"text-base leading-relaxed text-black\\\"></p>\\r\\n</div>\\r\\n\";","import html from \"./npc-form.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { Npc } from \"../../../features/npcs/npc\";\r\n\r\nexport class NpcFormComponent extends BaseComponent {\r\n    private npc: Npc;\r\n\r\n    constructor() {\r\n        super();\r\n        this.npc = new Npc();\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    public setNpc(npc: Npc) {\r\n        this.npc = npc;\r\n\r\n        this.updateNpcName();\r\n        this.updateNpcCombat();\r\n        this.updateInstinct();\r\n        this.updateHealth();\r\n        this.updateMaximumWounds();\r\n        this.updateArmorPoints();\r\n        this.updateAttacks();\r\n        this.updateSpecialAbilities();\r\n        this.updateDescription();\r\n    }\r\n\r\n    private updateNpcName() {\r\n        const paragraph = this.shadow.querySelector(\"#npcName\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.npc.name;\r\n    }\r\n\r\n    private updateNpcCombat() {\r\n        const paragraph = this.shadow.querySelector(\"#npcCombat\") as HTMLParagraphElement;\r\n\r\n        this.setNumericParagraphElement(paragraph, this.npc.combat);\r\n    }\r\n\r\n    private updateInstinct() {\r\n        const paragraph = this.shadow.querySelector(\"#npcInstinct\") as HTMLParagraphElement;\r\n\r\n        this.setNumericParagraphElement(paragraph, this.npc.instinct);\r\n    }\r\n\r\n    private updateHealth() {\r\n        const paragraph = this.shadow.querySelector(\"#npcHealth\") as HTMLParagraphElement;\r\n\r\n        this.setNumericParagraphElement(paragraph, this.npc.health);\r\n    }\r\n\r\n    private updateMaximumWounds() {\r\n        const paragraph = this.shadow.querySelector(\"#npcMaximumWounds\") as HTMLParagraphElement;\r\n\r\n        this.setNumericParagraphElement(paragraph, this.npc.maximumWounds);\r\n    }\r\n\r\n    private updateArmorPoints() {\r\n        const paragraph = this.shadow.querySelector(\"#npcArmorPoints\") as HTMLParagraphElement;\r\n\r\n        this.setNumericParagraphElement(paragraph, this.npc.armorPoints);\r\n    }\r\n\r\n    private updateAttacks() {\r\n        const container = this.shadow.querySelector(\"#npcAttacksContainer\") as HTMLDivElement;\r\n\r\n        container.innerHTML = \"\";\r\n\r\n        if (this.npc.attacks.length == 0) {\r\n            this.populateNoAttacksElement(container);\r\n        } else {\r\n            this.populateAttacks(container);\r\n        }\r\n    }\r\n\r\n    private populateNoAttacksElement(container: HTMLDivElement) {\r\n        const paragraph = this.createParagraphElement();\r\n\r\n        paragraph.textContent = \"<this NPC has no attacks>\";\r\n\r\n        container.appendChild(paragraph);\r\n    }\r\n\r\n    private populateAttacks(container: HTMLDivElement) {\r\n        for (var attack of this.npc.attacks) {\r\n            const paragraph = this.createParagraphElement();\r\n\r\n            paragraph.textContent = `${attack.name}: ${attack.effect}`;\r\n\r\n            container.appendChild(paragraph);\r\n        }\r\n    }\r\n\r\n    private updateSpecialAbilities() {\r\n        const container = this.shadow.querySelector(\"#npcSpecialAbilitiesContainer\") as HTMLDivElement;\r\n\r\n        container.innerHTML = \"\";\r\n\r\n        if (this.npc.specialAbilities.length == 0) {\r\n            this.populateNoSpecialAbilitiesElement(container);\r\n        } else {\r\n            this.populateSpecialAbilities(container);\r\n        }\r\n    }\r\n\r\n    private populateNoSpecialAbilitiesElement(container: HTMLDivElement) {\r\n        const paragraph = this.createParagraphElement();\r\n\r\n        paragraph.textContent = \"<this NPC has no special abilities>\";\r\n\r\n        container.appendChild(paragraph);\r\n    }\r\n\r\n    private populateSpecialAbilities(container: HTMLDivElement) {\r\n        for (var ability of this.npc.specialAbilities) {\r\n            const paragraph = this.createParagraphElement();\r\n\r\n            paragraph.textContent = ability.description;\r\n\r\n            container.appendChild(paragraph);\r\n        }\r\n    }\r\n\r\n    private updateDescription() {\r\n        const paragraph = this.shadow.querySelector(\"#npcDescription\") as HTMLParagraphElement;\r\n        paragraph.textContent = this.npc.description;\r\n    }\r\n\r\n    private setNumericParagraphElement(paragraph: HTMLParagraphElement, value: number) {\r\n        if (value == 0) {\r\n            paragraph.textContent = \"-\";\r\n        } else {\r\n            paragraph.textContent = value.toString();\r\n        }\r\n    }\r\n\r\n    private createParagraphElement() {\r\n        const paragraph = document.createElement(\"p\");\r\n\r\n        paragraph.className = \"text-base leading-relaxed text-black\";\r\n\r\n        return paragraph;\r\n    }\r\n}\r\n\r\ncustomElements.define(\"npc-form\", NpcFormComponent);\r\n","export default \"<div class=\\\"flex\\\">\\r\\n    <input\\r\\n        id=\\\"searchBox\\\"\\r\\n        placeholder=\\\"Search for NPC by name . . .\\\"\\r\\n        class=\\\"grow border-3 border-black my-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n        onkeyup=\\\"this.onSearchBoxKeyUp(event)\\\"\\r\\n    />\\r\\n</div>\\r\\n\";","import html from \"./npc-list-filter-bar.html\";\r\nimport { BaseComponent } from \"../../base.component\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { NpcFilterChangedEvent } from \"../../../lib/events/npc-filter-changed-event\";\r\n\r\nexport class NpcListFilterBarComponent extends BaseComponent {\r\n    private currentSearch: string;\r\n\r\n    constructor() {\r\n        super();\r\n        this.currentSearch = \"\";\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n    }\r\n\r\n    private onSearchBoxKeyUp(event: KeyboardEvent) {\r\n        // Ignore shift key up events, otherwise two GearFilterChangedEvents are triggered when\r\n        // typing an UPPERCASE character into the search box.\r\n        if (event.shiftKey === true) return;\r\n\r\n        this.currentSearch = (event.target as HTMLInputElement).value;\r\n\r\n        const appEvent = new NpcFilterChangedEvent(this.currentSearch);\r\n\r\n        EventBus.instance.dispatch(appEvent);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"npc-list-filter-bar\", NpcListFilterBarComponent);\r\n","export default \"<table id=\\\"list-container\\\" class=\\\"w-full mb-18 text-left border-collapse border-3 border-black\\\">\\r\\n    <thead class=\\\"text-white bg-black\\\"></thead>\\r\\n    <tbody></tbody>\\r\\n</table>\\r\\n\\r\\n<modal-dialog id=\\\"npcModal\\\">\\r\\n    <span slot=\\\"modal-header\\\">NPC Details</span>\\r\\n    <npc-form id=\\\"npcForm\\\" slot=\\\"modal-body\\\"></npc-form>\\r\\n</modal-dialog>\\r\\n\";","import html from \"./npc-list.html\";\r\nimport { GetAllNpcsFeature } from \"../../../features/npcs/get-all-npcs/get-all-npcs-feature\";\r\nimport { NpcListItem } from \"../../../features/npcs/npc-list-item\";\r\nimport { EmptyRequest } from \"../../../lib/common/features/empty-request\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { AppEvent } from \"../../../lib/events/app-event\";\r\nimport { ModalDialogComponent } from \"../../modal-dialog/modal-dialog\";\r\nimport { NpcFormComponent } from \"../npc-form/npc-form\";\r\nimport { Npc } from \"../../../features/npcs/npc\";\r\nimport { GetNpcByIdFeature } from \"../../../features/npcs/get-npc-by-id/get-npc-by-id-feature\";\r\nimport { GetNpcByIdRequest } from \"../../../features/npcs/get-npc-by-id/get-npc-by-id-request\";\r\nimport { SortNpcsListFeature } from \"../../../features/npcs/sort-npcs-list/sort-npcs-list-feature\";\r\nimport { SortNpcsListRequest } from \"../../../features/npcs/sort-npcs-list/sort-npcs-list-request\";\r\nimport { TableHeader } from \"../../../lib/tables/table-header\";\r\nimport { NpcFilterChangedEvent } from \"../../../lib/events/npc-filter-changed-event\";\r\nimport { AppEventListener } from \"../../../lib/events/app-event-listener-interface\";\r\nimport { FilterNpcsListFeature } from \"../../../features/npcs/filter-npcs-list/filter-npcs-list-feature\";\r\nimport { FilterNpcsListRequest } from \"../../../features/npcs/filter-npcs-list/filter-npcs-list-request\";\r\nimport { BaseListComponent } from \"../../base-list/base-list-component\";\r\nimport { UiReportableErrorClearedEvent } from \"../../../lib/events/ui-reportable-error-cleared-event\";\r\n\r\nexport class NpcListComponent extends BaseListComponent {\r\n    private npcsList: Array<NpcListItem>;\r\n\r\n    constructor() {\r\n        super(SortNpcsListFeature.fieldId, [\r\n            new TableHeader(SortNpcsListFeature.fieldName, \"Name\"),\r\n            new TableHeader(SortNpcsListFeature.fieldCombat, \"Combat\"),\r\n            new TableHeader(SortNpcsListFeature.fieldInstinct, \"Instinct\"),\r\n            new TableHeader(SortNpcsListFeature.fieldArmorPoints, \"Armor Points\"),\r\n            new TableHeader(SortNpcsListFeature.fieldWoundsHealth, \"Max Wounds (Health)\"),\r\n        ]);\r\n        this.npcsList = [];\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.render(html);\r\n\r\n        const feature = new GetAllNpcsFeature(this.unitOfWork);\r\n        this.npcsList = feature.handle(new EmptyRequest());\r\n\r\n        this.sortItems();\r\n\r\n        this.populateTableHeaderRow();\r\n        this.populateTableRows();\r\n\r\n        EventBus.instance.register(NpcFilterChangedEvent.name, this.onNpcFilterChangedEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregister(NpcFilterChangedEvent.name, this.onNpcFilterChangedEvent);\r\n    }\r\n\r\n    protected override createTableRowsElements(tableBody: HTMLTableSectionElement) {\r\n        this.npcsList.forEach((item) => {\r\n            tableBody.appendChild(this.createTableRowElement(item));\r\n        });\r\n    }\r\n\r\n    private createTableRowElement(npcListItem: NpcListItem): HTMLTableRowElement {\r\n        const row = this.createBaseTableRowElement();\r\n\r\n        row.innerHTML = `\r\n                <td class=\"p-2\">${npcListItem.name}</td>\r\n                <td class=\"p-2\">${this.convertNumberFieldToString(npcListItem.combat)}</td>\r\n                <td class=\"p-2\">${this.convertNumberFieldToString(npcListItem.instinct)}</td>\r\n                <td class=\"p-2\">${this.convertNumberFieldToString(npcListItem.armorPoints)}</td>\r\n                <td class=\"p-2\">${this.convertNumberFieldToString(\r\n                    npcListItem.maximumWounds\r\n                )} (${this.convertNumberFieldToString(npcListItem.health)})</td>\r\n            `;\r\n\r\n        row.addEventListener(\"click\", (event: MouseEvent) => this.onTableDataRowClick(npcListItem));\r\n\r\n        return row;\r\n    }\r\n\r\n    private convertNumberFieldToString(value: number): string {\r\n        if (value == 0) {\r\n            return \"-\";\r\n        }\r\n\r\n        return value.toString();\r\n    }\r\n\r\n    protected override sortItems() {\r\n        this.tableHeaders.forEach((currentHeader) => {\r\n            this.updateSortIcons(currentHeader.field);\r\n        });\r\n\r\n        const feature = new SortNpcsListFeature();\r\n        const request = new SortNpcsListRequest();\r\n\r\n        request.npcListItems = this.npcsList;\r\n        request.sortState = this.sortState;\r\n\r\n        const result = feature.handle(request);\r\n\r\n        if (result.isFailure) {\r\n            this.dispatchErrorEvent(result.error.description);\r\n            return;\r\n        }\r\n\r\n        this.npcsList = result.value ?? [];\r\n    }\r\n\r\n    public onTableDataRowClick(npcListItem: NpcListItem) {\r\n        const modal = this.shadow.querySelector(\"#npcModal\");\r\n\r\n        if (!modal) {\r\n            this.dispatchErrorEvent('Modal \"npcModal\" not found.');\r\n            return;\r\n        }\r\n\r\n        EventBus.instance.dispatch(new UiReportableErrorClearedEvent());\r\n\r\n        this.populateNpcForm(npcListItem);\r\n\r\n        (modal as ModalDialogComponent).openModal();\r\n    }\r\n\r\n    private populateNpcForm(npcListItem: NpcListItem) {\r\n        const npcForm = this.shadow.querySelector(`#npcForm`) as NpcFormComponent;\r\n        npcForm.setNpc(this.getSelectedNpc(npcListItem.id));\r\n    }\r\n\r\n    private getSelectedNpc(id: number): Npc {\r\n        const feature = new GetNpcByIdFeature(this.unitOfWork);\r\n        const request = new GetNpcByIdRequest(id);\r\n\r\n        return feature.handle(request);\r\n    }\r\n\r\n    private onNpcFilterChangedEvent: AppEventListener = (event: AppEvent) => {\r\n        this.filterNpcs(event as NpcFilterChangedEvent);\r\n    };\r\n\r\n    private filterNpcs(event: NpcFilterChangedEvent) {\r\n        const feature = new FilterNpcsListFeature(this.unitOfWork);\r\n        const request = new FilterNpcsListRequest();\r\n\r\n        request.search = event.search;\r\n\r\n        const result = feature.handle(request);\r\n\r\n        if (result.isFailure) {\r\n            this.dispatchErrorEvent(result.error.description);\r\n            return;\r\n        }\r\n\r\n        EventBus.instance.dispatch(new UiReportableErrorClearedEvent());\r\n\r\n        this.npcsList = result.value ?? [];\r\n\r\n        this.sortItems();\r\n\r\n        this.populateTableRows(true);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"npc-list\", NpcListComponent);\r\n","import html from \"./page-router.html\";\r\nimport { BaseComponent } from \"../base.component\";\r\nimport { PageRouteData } from \"../../lib/pages/page-route-data\";\r\nimport { PageRouterService } from \"../../lib/pages/page-router-service\";\r\nimport { EventBus } from \"../../lib/events/event-bus\";\r\nimport { PageChangeInitiatedEvent } from \"../../lib/events/page-change-initiated-event\";\r\nimport { AppEvent } from \"../../lib/events/app-event\";\r\nimport { PageChangedEvent } from \"../../lib/events/page-changed-event\";\r\nimport { AppEventListener } from \"../../lib/events/app-event-listener-interface\";\r\n\r\nexport class PageRouterComponent extends BaseComponent {\r\n    private _currentPage: PageRouteData = new PageRouteData(\"\", \"\", \"\");\r\n\r\n    private get currentPage(): PageRouteData {\r\n        return this._currentPage;\r\n    }\r\n\r\n    private set currentPage(value: PageRouteData) {\r\n        const previousPage = this._currentPage;\r\n        this._currentPage = value;\r\n\r\n        EventBus.instance.dispatch(new PageChangedEvent(this.currentPage, previousPage));\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.currentPage = PageRouterService.instance.getPageByTitle(PageRouterService.charactersPage);\r\n    }\r\n\r\n    public connectedCallback() {\r\n        this.currentPage = this.getCurrentPageFromUrl();\r\n        this.renderCorrectPage();\r\n\r\n        EventBus.instance.registerBrowserEvent(\"popstate\", this.onPopStateEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregisterBrowserEvent(\"popstate\", this.onPopStateEvent);\r\n        EventBus.instance.unregister(PageChangeInitiatedEvent.name, this.onPageChangeInitiatedEvent);\r\n    }\r\n\r\n    private onPopStateEvent = (event: Event) => {\r\n        // popstate is fired when the user hits the browser's \"forward\" and \"back\" buttons\r\n        const popStateEvent = event as PopStateEvent;\r\n\r\n        if (popStateEvent.state) {\r\n            this.currentPage = popStateEvent.state;\r\n        } else {\r\n            this.currentPage = PageRouterService.instance.getPageByTitle(PageRouterService.charactersPage);\r\n        }\r\n\r\n        this.renderCorrectPage();\r\n    };\r\n\r\n    private getCurrentPageFromUrl(): PageRouteData {\r\n        return PageRouterService.instance.getPageByPath(window.location.pathname);\r\n    }\r\n\r\n    private renderCorrectPage() {\r\n        const elementId = \"currentPage\";\r\n        const previousPage = this.shadow.getElementById(elementId);\r\n\r\n        if (previousPage) {\r\n            EventBus.instance.unregister(PageChangeInitiatedEvent.name, this.onPageChangeInitiatedEvent);\r\n            this.shadow.removeChild(previousPage);\r\n        }\r\n\r\n        const newPage = document.createElement(this.currentPage.component);\r\n        newPage.id = elementId;\r\n\r\n        EventBus.instance.register(PageChangeInitiatedEvent.name, this.onPageChangeInitiatedEvent);\r\n\r\n        this.shadow.appendChild(newPage);\r\n\r\n        document.title = `${this.currentPage.title} - TaleSpire Mothership 1e Toolset`;\r\n    }\r\n\r\n    private onPageChangeInitiatedEvent: AppEventListener = (event: AppEvent) => {\r\n        this.gotoNewPage(event as PageChangeInitiatedEvent);\r\n    };\r\n\r\n    private gotoNewPage(event: PageChangeInitiatedEvent) {\r\n        this.currentPage = event.page;\r\n        this.addCurrentPageToHistory(event);\r\n        this.renderCorrectPage();\r\n    }\r\n\r\n    private addCurrentPageToHistory(event: PageChangeInitiatedEvent) {\r\n        let url = `${window.location.origin}${this.currentPage.path}`;\r\n\r\n        if (event.id !== \"\") {\r\n            url = url.replace(\"#\", event.id);\r\n        }\r\n\r\n        if (event.params.toString().length > 0) {\r\n            url = url + `?${event.params.toString()}`;\r\n        }\r\n\r\n        history.pushState(this.currentPage, this.currentPage.title, url);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"page-router\", PageRouterComponent);\r\n","export default \"<p>This is the about page!</p>\\r\\n<p>Welcome to the TaleSpire Mothership 1e Toolset!</p>\\r\\n\";","import html from \"./about.component.html\";\r\nimport { BasePageComponent } from \"../base-page.component\";\r\n\r\nexport class AboutComponent extends BasePageComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await super.connectedCallback();\r\n\r\n        this.render(html);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"about-page\", AboutComponent);\r\n","import { appInjector } from \"../../lib/infrastructure/app-injector\";\r\nimport { BaseComponent } from \"../base.component\";\r\n\r\nexport abstract class BasePageComponent extends BaseComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await this.waitForAppToBeInitialized();\r\n    }\r\n\r\n    private async waitForAppToBeInitialized() {\r\n        const startup = appInjector.resolve(\"startup\");\r\n\r\n        while (!startup.isConfigured) {\r\n            // Add a small delay to avoid locking up the browser\r\n            await new Promise((resolve) => setTimeout(resolve, 10));\r\n        }\r\n    }\r\n}\r\n","export default \"<style></style>\\r\\n<p>This is the Characters page!</p>\\r\\n<p>!!!UNDER CONSTRUCTION!!!</p>\\r\\n<p id=\\\"tempElement\\\"></p>\\r\\n\\r\\n<select\\r\\n    id=\\\"normalSelect\\\"\\r\\n    class=\\\"block w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0\\\"\\r\\n    onchange=\\\"this.handleOnSelectChanged(event)\\\"\\r\\n>\\r\\n    <option value=\\\"1\\\">Alpha</option>\\r\\n    <option value=\\\"2\\\">Beta</option>\\r\\n    <option value=\\\"3\\\">Charlie</option>\\r\\n</select>\\r\\n\\r\\n<div id=\\\"customSelectContainer\\\" class=\\\"relative\\\">\\r\\n    <div\\r\\n        id=\\\"customSelectButton\\\"\\r\\n        class=\\\"flex justify-between items-center w-full bg-white text-base text-black border-3 border-black mb-2 px-2 py-1 hover:bg-gray-200 transition duration-150 ease-in-out focus:outline-0 cursor-pointer\\\"\\r\\n        onclick=\\\"this.handleCustomSelectButtonClicked(event)\\\"\\r\\n    >\\r\\n        <span id=\\\"selectedItem\\\">Select item...</span>\\r\\n        <span class=\\\"text-black\\\">\\r\\n            <svg\\r\\n                xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n                height=\\\"24px\\\"\\r\\n                viewBox=\\\"0 -960 960 960\\\"\\r\\n                width=\\\"24px\\\"\\r\\n                fill=\\\"currentColor\\\"\\r\\n                class=\\\"inline\\\"\\r\\n            >\\r\\n                <path d=\\\"M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z\\\" />\\r\\n            </svg>\\r\\n        </span>\\r\\n        <input type=\\\"hidden\\\" name=\\\"inputSelectedItem\\\" id=\\\"inputSelectedItem\\\" value=\\\"\\\" />\\r\\n    </div>\\r\\n\\r\\n    <div\\r\\n        id=\\\"customSelectMenu\\\"\\r\\n        class=\\\"absolute top-10 w-full bg-white text-base text-black px-2 py-1 border-x-3 border-b-3 border-t-1 border-black opacity-20 scale-0\\\"\\r\\n    >\\r\\n        <div\\r\\n            class=\\\"flex justify-start items-center hover:bg-gray-200 transition duration-150 ease-in-out cursor-pointer\\\"\\r\\n            data-value=\\\"4\\\"\\r\\n            onclick=\\\"this.handleCustomSelectItemClicked(event)\\\"\\r\\n        >\\r\\n            Delta\\r\\n        </div>\\r\\n        <div\\r\\n            class=\\\"flex justify-start items-center hover:bg-gray-200 transition duration-150 ease-in-out cursor-pointer\\\"\\r\\n            data-value=\\\"5\\\"\\r\\n            onclick=\\\"this.handleCustomSelectItemClicked(event)\\\"\\r\\n        >\\r\\n            Echo\\r\\n        </div>\\r\\n        <div\\r\\n            class=\\\"flex justify-start items-center hover:bg-gray-200 transition duration-150 ease-in-out cursor-pointer\\\"\\r\\n            data-value=\\\"6\\\"\\r\\n            onclick=\\\"this.handleCustomSelectItemClicked(event)\\\"\\r\\n        >\\r\\n            Foxtrot\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div>\\r\\n    <label>Selected Value:</label>\\r\\n    <p id=\\\"selectedValue\\\"></p>\\r\\n</div>\\r\\n\";","import html from \"./characters.html\";\r\nimport { BasePageComponent } from \"../base-page.component\";\r\nimport { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { appInjector } from \"../../../lib/infrastructure/app-injector\";\r\nimport { UnitOfWork } from \"../../../lib/data-access/unit-of-work\";\r\nimport { DatabaseVersion } from \"../../../features/database-versions/database-version\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\n\r\nexport class CharactersComponent extends BasePageComponent {\r\n    protected unitOfWork: IUnitOfWork;\r\n\r\n    constructor() {\r\n        super();\r\n        this.unitOfWork = appInjector.injectClass(UnitOfWork);\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await super.connectedCallback();\r\n\r\n        this.render(html);\r\n\r\n        const element = this.shadow.querySelector(\"#tempElement\");\r\n\r\n        if (element) {\r\n            let dbVersion = this.unitOfWork.repo(DatabaseVersion).first() ?? new DatabaseVersion(0, \"0\");\r\n            element.textContent = `Database Version: ${dbVersion?.version}`;\r\n        }\r\n\r\n        EventBus.instance.registerDocumentEvent(\"click\", this.onDocumentMouseClickEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregisterDocumentEvent(\"click\", this.onDocumentMouseClickEvent);\r\n    }\r\n\r\n    private onDocumentMouseClickEvent = (event: Event) => {\r\n        const menuElement = this.shadow.querySelector(\"#customSelectMenu\") as HTMLDivElement;\r\n        const eventPath = event.composedPath();\r\n\r\n        if (!eventPath.includes(menuElement)) {\r\n            console.log(\"onDocumentMouseClickEvent().closeMenu()\");\r\n            this.closeMenu();\r\n        }\r\n    };\r\n\r\n    public handleOnSelectChanged(event: Event) {\r\n        const selectedValue = (event.target as HTMLSelectElement).value;\r\n\r\n        (this.shadow.querySelector(\"#selectedValue\") as HTMLParagraphElement).textContent = selectedValue;\r\n    }\r\n\r\n    public handleCustomSelectButtonClicked(event: MouseEvent) {\r\n        event.stopPropagation();\r\n\r\n        this.toggleMenu();\r\n    }\r\n\r\n    private toggleMenu() {\r\n        const menuElement = this.shadow.querySelector(\"#customSelectMenu\") as HTMLDivElement;\r\n        menuElement.classList.toggle(\"opacity-100\");\r\n        menuElement.classList.toggle(\"scale-100\");\r\n    }\r\n\r\n    public handleCustomSelectItemClicked(event: MouseEvent) {\r\n        event.stopPropagation();\r\n\r\n        this.updateSelectedItem(event.target as HTMLDivElement);\r\n        this.updateActiveItem(event.target as HTMLDivElement);\r\n        this.closeMenu();\r\n    }\r\n\r\n    private updateSelectedItem(clickedElement: HTMLDivElement) {\r\n        const selectedItemElement = this.shadow.querySelector(\"#selectedItem\") as HTMLSpanElement;\r\n        const selectedItemInputElement = this.shadow.querySelector(\"#inputSelectedItem\") as HTMLInputElement;\r\n\r\n        selectedItemElement.innerText = clickedElement.innerText;\r\n        selectedItemInputElement.value = clickedElement.getAttribute(\"data-value\") ?? \"\";\r\n\r\n        (this.shadow.querySelector(\"#selectedValue\") as HTMLParagraphElement).textContent =\r\n            clickedElement.getAttribute(\"data-value\") ?? \"\";\r\n    }\r\n\r\n    private updateActiveItem(clickedElement: HTMLDivElement) {\r\n        const menuElement = this.shadow.querySelector(\"#customSelectMenu\") as HTMLDivElement;\r\n        const itemElements = menuElement.children;\r\n\r\n        for (const item of itemElements) {\r\n            item.classList.remove(\"font-bold\");\r\n        }\r\n\r\n        clickedElement.classList.add(\"font-bold\");\r\n    }\r\n\r\n    private closeMenu() {\r\n        const menuElement = this.shadow.querySelector(\"#customSelectMenu\") as HTMLDivElement;\r\n        menuElement.classList.remove(\"opacity-100\");\r\n        menuElement.classList.remove(\"scale-100\");\r\n    }\r\n}\r\n\r\ncustomElements.define(\"characters-page\", CharactersComponent);\r\n","export default \"<p>This is the Codex page!</p>\\r\\n<p>!!!UNDER CONSTRUCTION!!!</p>\\r\\n\";","import html from \"./codex.html\";\r\nimport { BasePageComponent } from \"../base-page.component\";\r\n\r\nexport class CodexComponent extends BasePageComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await super.connectedCallback();\r\n\r\n        this.render(html);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"codex-page\", CodexComponent);\r\n","export default \"<gear-categories-pill-bar id=\\\"gearCategories\\\" hide-all-category></gear-categories-pill-bar>\\r\\n\\r\\n<error-panel></error-panel>\\r\\n\\r\\n<form id=\\\"gearItemForm\\\" onsubmit=\\\"this.handleFormSubmit(event)\\\">\\r\\n    <gear-equipment-form-fields id=\\\"equipmentFields\\\" name=\\\"equipmentFields\\\"></gear-equipment-form-fields>\\r\\n    <gear-armor-form-fields id=\\\"armorFields\\\" name=\\\"armorFields\\\" class=\\\"hidden\\\"></gear-armor-form-fields>\\r\\n    <gear-weapon-form-fields id=\\\"weaponFields\\\" name=\\\"weaponFields\\\" class=\\\"hidden\\\"></gear-weapon-form-fields>\\r\\n\\r\\n    <div class=\\\"flex justify-center-safe\\\">\\r\\n        <button\\r\\n            type=\\\"submit\\\"\\r\\n            class=\\\"text-white bg-black hover:bg-gray-900 active:bg-gray-700 font-bold min-w-32 px-4 py-1 my-2 mr-2 rounded-full transition duration-150 ease-in-out cursor-pointer uppercase\\\"\\r\\n        >\\r\\n            Save\\r\\n        </button>\\r\\n        <secondary-button onclick=\\\"this.handleCancelButtonClick(event)\\\">Cancel</secondary-button>\\r\\n    </div>\\r\\n</form>\\r\\n\";","import html from \"./gear-item.html\";\r\nimport { BasePageComponent } from \"../base-page.component\";\r\nimport { EventBus } from \"../../../lib/events/event-bus\";\r\nimport { PageRouterService } from \"../../../lib/pages/page-router-service\";\r\nimport { GearCategoryChangedEvent } from \"../../../lib/events/gear-category-changed-event\";\r\nimport { AppEvent } from \"../../../lib/events/app-event\";\r\nimport { ArmorItem } from \"../../../features/gear/armor-item\";\r\nimport { WeaponItem } from \"../../../features/gear/weapon-item\";\r\nimport { AppEventListener } from \"../../../lib/events/app-event-listener-interface\";\r\nimport { EquipmentItem } from \"../../../features/gear/equipment-item\";\r\nimport { EquipmentItemFormFieldsDto } from \"../../../features/gear/equipment-item-form-fields-dto\";\r\nimport { SaveCustomEquipmentItemRequest } from \"../../../features/gear/save-custom-equipment-item/save-custom-equipment-item-request\";\r\nimport { SaveCustomEquipmentItemFeature } from \"../../../features/gear/save-custom-equipment-item/save-custom-equipment-item-feature\";\r\nimport { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { appInjector } from \"../../../lib/infrastructure/app-injector\";\r\nimport { UnitOfWork } from \"../../../lib/data-access/unit-of-work\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { SaveCustomArmorItemRequest } from \"../../../features/gear/save-custom-armor-item/save-custom-armor-item-request\";\r\nimport { SaveCustomArmorItemFeature } from \"../../../features/gear/save-custom-armor-item/save-custom-armor-item-feature\";\r\nimport { ArmorItemFormFieldsDto } from \"../../../features/gear/armor-item-form-fields-dto\";\r\nimport { IAsyncFeature } from \"../../../lib/common/features/async-feature-interface\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { SaveCustomWeaponItemRequest } from \"../../../features/gear/save-custom-weapon-item/save-custom-weapon-item-request\";\r\nimport { SaveCustomWeaponItemFeature } from \"../../../features/gear/save-custom-weapon-item/save-custom-weapon-item-feature\";\r\nimport { WeaponItemFormFieldsDto } from \"../../../features/gear/weapon-item-form-fields-dto\";\r\nimport { UiReportableErrorOccurredEvent } from \"../../../lib/events/ui-reportable-error-occurred-event\";\r\nimport { UiReportableErrorClearedEvent } from \"../../../lib/events/ui-reportable-error-cleared-event\";\r\nimport { GearItem } from \"../../../features/gear/gear-item\";\r\nimport { GetGearByIdFeature } from \"../../../features/gear/get-gear-by-id/get-gear-by-id-feature\";\r\nimport { GetGearByIdRequest } from \"../../../features/gear/get-gear-by-id/get-gear-by-id-request\";\r\nimport { AppLogger } from \"../../../lib/logging/app-logger\";\r\nimport { GearArmorFormFieldsComponent } from \"../../gear/gear-armor-form-fields/gear-armor-form-fields\";\r\nimport { GearWeaponFormFieldsComponent } from \"../../gear/gear-weapon-form-fields/gear-weapon-form-fields\";\r\nimport { GearEquipmentFormFieldsComponent } from \"../../gear/gear-equipment-form-fields/gear-equipment-form-fields\";\r\n\r\nexport class GearItemComponent extends BasePageComponent {\r\n    private unitOfWork: IUnitOfWork;\r\n    private gearItemIdFromUrl: number;\r\n    private selectedCategory: string;\r\n\r\n    private get armorFormFieldsComponent(): GearArmorFormFieldsComponent {\r\n        return this.shadow.querySelector(\"#armorFields\") as GearArmorFormFieldsComponent;\r\n    }\r\n\r\n    private get weaponFormFieldsComponent(): GearWeaponFormFieldsComponent {\r\n        return this.shadow.querySelector(\"#weaponFields\") as GearWeaponFormFieldsComponent;\r\n    }\r\n\r\n    private get equipmentFormFieldsComponent(): GearEquipmentFormFieldsComponent {\r\n        return this.shadow.querySelector(\"#equipmentFields\") as GearEquipmentFormFieldsComponent;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.unitOfWork = appInjector.injectClass(UnitOfWork);\r\n        this.gearItemIdFromUrl = 0;\r\n        this.selectedCategory = EquipmentItem.gearCategory;\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await super.connectedCallback();\r\n\r\n        this.render(html);\r\n\r\n        this.gearItemIdFromUrl = this.getIdFromUrl();\r\n\r\n        if (this.gearItemIdFromUrl > 0) {\r\n            this.configurePageForEditing();\r\n        }\r\n\r\n        EventBus.instance.register(GearCategoryChangedEvent.name, this.handleGearCategoryChangedEvent);\r\n    }\r\n\r\n    public disconnectedCallback() {\r\n        EventBus.instance.unregister(GearCategoryChangedEvent.name, this.handleGearCategoryChangedEvent);\r\n    }\r\n\r\n    private getIdFromUrl(): number {\r\n        const urlComponents = window.location.pathname.split(\"/\");\r\n        const idComponent = urlComponents[urlComponents.length - 1].trim();\r\n\r\n        if (this.isValidId(idComponent) === false) {\r\n            return 0;\r\n        }\r\n\r\n        return Number(idComponent);\r\n    }\r\n\r\n    private getCategoryFromUrl(): string {\r\n        const url = new URL(window.location.href);\r\n        const params = new URLSearchParams(url.search);\r\n\r\n        return params.get(\"category\") ?? EquipmentItem.gearCategory;\r\n    }\r\n\r\n    private isValidId(id: string): boolean {\r\n        return !isNaN(Number(id)) && Number.isInteger(Number(id));\r\n    }\r\n\r\n    private configurePageForEditing() {\r\n        this.hideGearCategoriesElement();\r\n        this.handleGearCategoryChangedEvent(new GearCategoryChangedEvent(this.getCategoryFromUrl()));\r\n        this.setInitialFormValues();\r\n    }\r\n\r\n    private hideGearCategoriesElement() {\r\n        this.shadow.querySelector(\"#gearCategories\")?.classList.add(\"hidden\");\r\n    }\r\n\r\n    private setInitialFormValues() {\r\n        const gearItem = this.getSelectedGearItem(this.gearItemIdFromUrl, this.selectedCategory);\r\n\r\n        this.equipmentFormFieldsComponent.setInitialFormValues(gearItem as EquipmentItem);\r\n\r\n        if (this.selectedCategory == ArmorItem.gearCategory) {\r\n            this.armorFormFieldsComponent.setInitialFormValues(gearItem as ArmorItem);\r\n        } else if (this.selectedCategory == WeaponItem.gearCategory) {\r\n            this.weaponFormFieldsComponent.setInitialFormValues(gearItem as WeaponItem);\r\n        }\r\n    }\r\n\r\n    private getSelectedGearItem(id: number, category: string): GearItem {\r\n        const feature = new GetGearByIdFeature(this.unitOfWork);\r\n        const request = new GetGearByIdRequest(id, category);\r\n\r\n        return feature.handle(request);\r\n    }\r\n\r\n    private handleGearCategoryChangedEvent: AppEventListener = (event: AppEvent) => {\r\n        const gearCategoryChangedEvent = event as GearCategoryChangedEvent;\r\n\r\n        this.selectedCategory = gearCategoryChangedEvent.category;\r\n\r\n        this.updateFieldDivVisiblities();\r\n    };\r\n\r\n    private updateFieldDivVisiblities(): void {\r\n        if (this.selectedCategory == ArmorItem.gearCategory) {\r\n            this.armorFormFieldsComponent.classList.remove(\"hidden\");\r\n            this.weaponFormFieldsComponent.classList.add(\"hidden\");\r\n        } else if (this.selectedCategory == WeaponItem.gearCategory) {\r\n            this.armorFormFieldsComponent.classList.add(\"hidden\");\r\n            this.weaponFormFieldsComponent.classList.remove(\"hidden\");\r\n        } else {\r\n            this.armorFormFieldsComponent.classList.add(\"hidden\");\r\n            this.weaponFormFieldsComponent.classList.add(\"hidden\");\r\n        }\r\n    }\r\n\r\n    public handleCancelButtonClick(event: MouseEvent) {\r\n        this.navigateToGearPage();\r\n    }\r\n\r\n    public async handleFormSubmit(event: SubmitEvent): Promise<void> {\r\n        event.preventDefault();\r\n\r\n        EventBus.instance.dispatch(new UiReportableErrorClearedEvent());\r\n\r\n        const form = event.target as HTMLFormElement;\r\n        const formData = new FormData(form);\r\n\r\n        await this.saveGearItem(formData);\r\n    }\r\n\r\n    private async saveGearItem(formData: FormData): Promise<void> {\r\n        if (this.selectedCategory == ArmorItem.gearCategory) {\r\n            this.saveArmorItem(formData);\r\n        } else if (this.selectedCategory == WeaponItem.gearCategory) {\r\n            this.saveWeaponItem(formData);\r\n        } else {\r\n            this.saveEquipmentItem(formData);\r\n        }\r\n    }\r\n\r\n    private async saveEquipmentItem(formData: FormData): Promise<void> {\r\n        const request = new SaveCustomEquipmentItemRequest();\r\n        const feature = new SaveCustomEquipmentItemFeature(this.unitOfWork);\r\n\r\n        request.formFields = this.getEquipmentItemFormFields(formData);\r\n        request.id = this.gearItemIdFromUrl;\r\n\r\n        await this.handleFeature(request, feature);\r\n    }\r\n\r\n    private async saveArmorItem(formData: FormData): Promise<void> {\r\n        const request = new SaveCustomArmorItemRequest();\r\n        const feature = new SaveCustomArmorItemFeature(this.unitOfWork);\r\n        const equipmentItemFormFields = this.getEquipmentItemFormFields(formData);\r\n        const armorItemFormFields = this.getArmorItemFormFields(formData);\r\n\r\n        armorItemFormFields.name = equipmentItemFormFields.name;\r\n        armorItemFormFields.cost = equipmentItemFormFields.cost;\r\n        armorItemFormFields.description = equipmentItemFormFields.description;\r\n\r\n        request.formFields = armorItemFormFields;\r\n        request.id = this.gearItemIdFromUrl;\r\n\r\n        await this.handleFeature(request, feature);\r\n    }\r\n\r\n    private async saveWeaponItem(formData: FormData): Promise<void> {\r\n        const request = new SaveCustomWeaponItemRequest();\r\n        const feature = new SaveCustomWeaponItemFeature(this.unitOfWork);\r\n        const equipmentItemFormFields = this.getEquipmentItemFormFields(formData);\r\n        const weaponItemFormFields = this.getWeaponItemFormFields(formData);\r\n\r\n        weaponItemFormFields.name = equipmentItemFormFields.name;\r\n        weaponItemFormFields.cost = equipmentItemFormFields.cost;\r\n        weaponItemFormFields.description = equipmentItemFormFields.description;\r\n\r\n        request.formFields = weaponItemFormFields;\r\n        request.id = this.gearItemIdFromUrl;\r\n\r\n        await this.handleFeature(request, feature);\r\n    }\r\n\r\n    private async handleFeature<TRequest, TResponse>(\r\n        request: TRequest,\r\n        feature: IAsyncFeature<TRequest, Result<TResponse>>\r\n    ): Promise<void> {\r\n        const result = await feature.handleAsync(request);\r\n\r\n        if (result.isSuccess) {\r\n            this.handleSaveSuccess();\r\n        } else {\r\n            this.handleSaveFailure(result.error);\r\n        }\r\n    }\r\n\r\n    private handleSaveSuccess() {\r\n        this.navigateToGearPage();\r\n    }\r\n\r\n    private handleSaveFailure(error: ResultError) {\r\n        EventBus.instance.dispatch(new UiReportableErrorOccurredEvent(error.description, error.details));\r\n    }\r\n\r\n    private navigateToGearPage() {\r\n        PageRouterService.instance.navigateToPage(PageRouterService.gearPage);\r\n    }\r\n\r\n    private getEquipmentItemFormFields(formData: FormData): EquipmentItemFormFieldsDto {\r\n        return EquipmentItemFormFieldsDto.createFromJson(\r\n            formData.get(\"equipmentFields\")?.toString() ?? new EquipmentItemFormFieldsDto().toJson()\r\n        );\r\n    }\r\n\r\n    private getArmorItemFormFields(formData: FormData): ArmorItemFormFieldsDto {\r\n        return ArmorItemFormFieldsDto.createFromJson(\r\n            formData.get(\"armorFields\")?.toString() ?? new ArmorItemFormFieldsDto().toJson()\r\n        );\r\n    }\r\n\r\n    private getWeaponItemFormFields(formData: FormData): WeaponItemFormFieldsDto {\r\n        return WeaponItemFormFieldsDto.createFromJson(\r\n            formData.get(\"weaponFields\")?.toString() ?? new WeaponItemFormFieldsDto().toJson()\r\n        );\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-item-page\", GearItemComponent);\r\n","export default \"<error-panel></error-panel>\\r\\n<gear-list-filter-bar></gear-list-filter-bar>\\r\\n<gear-list></gear-list>\\r\\n<add-new-gear-item-button class=\\\"fixed bottom-20 right-5\\\"></add-new-gear-item-button>\\r\\n\";","import html from \"./gear.component.html\";\r\nimport { BasePageComponent } from \"../base-page.component\";\r\n\r\nexport class GearComponent extends BasePageComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await super.connectedCallback();\r\n\r\n        this.render(html);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"gear-page\", GearComponent);\r\n","export default \"<error-panel></error-panel>\\r\\n<npc-list-filter-bar></npc-list-filter-bar>\\r\\n<npc-list></npc-list>\\r\\n\";","import html from \"./npcs.html\";\r\nimport { BasePageComponent } from \"../base-page.component\";\r\n\r\nexport class NpcsComponent extends BasePageComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    public async connectedCallback() {\r\n        await super.connectedCallback();\r\n\r\n        this.render(html);\r\n    }\r\n}\r\n\r\ncustomElements.define(\"npcs-page\", NpcsComponent);\r\n","export class DatabaseVersion {\r\n    public id: number;\r\n    public version: string;\r\n\r\n    constructor(id?: number, version?: string) {\r\n        this.id = id ?? 0;\r\n        this.version = version ?? \"\";\r\n    }\r\n}\r\n","import { EquipmentItemFormFieldsDto } from \"./equipment-item-form-fields-dto\";\r\n\r\nexport class ArmorItemFormFieldsDto extends EquipmentItemFormFieldsDto {\r\n    public armorPoints: string;\r\n    public oxygen: string;\r\n    public speed: string;\r\n    public special: string;\r\n\r\n    constructor(\r\n        name?: string,\r\n        description?: string,\r\n        cost?: string,\r\n        armorPoints?: string,\r\n        oxygen?: string,\r\n        speed?: string,\r\n        special?: string\r\n    ) {\r\n        super(name, description, cost);\r\n        this.armorPoints = armorPoints ?? \"0\";\r\n        this.oxygen = oxygen ?? \"0\";\r\n        this.speed = speed ?? \"\";\r\n        this.special = special ?? \"\";\r\n    }\r\n\r\n    public toJson(): string {\r\n        return JSON.stringify(this);\r\n    }\r\n\r\n    static createFromJson(jsonStr: string): ArmorItemFormFieldsDto {\r\n        const json = JSON.parse(jsonStr);\r\n\r\n        return new ArmorItemFormFieldsDto(\r\n            json.name ?? \"\",\r\n            json.description ?? \"\",\r\n            json.cost ?? \"0\",\r\n            json.armorPoints ?? \"0\",\r\n            json.oxygen ?? \"0\",\r\n            json.speed ?? \"\",\r\n            json.special ?? \"\"\r\n        );\r\n    }\r\n}\r\n","import { ArmorItem } from \"./armor-item\";\r\nimport { ArmorItemFormFieldsDto } from \"./armor-item-form-fields-dto\";\r\n\r\nexport class ArmorItemMap {\r\n    static fromFormFields(formFields: ArmorItemFormFieldsDto): ArmorItem {\r\n        return new ArmorItem(\r\n            0,\r\n            0,\r\n            formFields.name,\r\n            formFields.description,\r\n            !isNaN(Number(formFields.cost)) ? parseInt(formFields.cost) : -1,\r\n            !isNaN(Number(formFields.armorPoints)) ? parseInt(formFields.armorPoints) : -1,\r\n            !isNaN(Number(formFields.oxygen)) ? parseInt(formFields.oxygen) : -1,\r\n            formFields.speed,\r\n            formFields.special\r\n        );\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../lib/common/data-access/unit-of-work-interface\";\r\nimport { SourcesService } from \"../sources/sources-service\";\r\nimport { ArmorSpeed } from \"./armor-speed\";\r\nimport { EquipmentItem } from \"./equipment-item\";\r\n\r\nexport class ArmorItem extends EquipmentItem {\r\n    public static gearCategory: string = \"Armor\";\r\n\r\n    public armorPoints: number;\r\n    public oxygen: number;\r\n    public speed: string;\r\n    public special: string;\r\n\r\n    constructor(\r\n        id?: number,\r\n        sourceId?: number,\r\n        name?: string,\r\n        description?: string,\r\n        cost?: number,\r\n        armorPoints?: number,\r\n        oxygen?: number,\r\n        speed?: string,\r\n        special?: string\r\n    ) {\r\n        super(id, sourceId, name, description, cost);\r\n        this.armorPoints = armorPoints ?? 0;\r\n        this.oxygen = oxygen ?? 0;\r\n        this.speed = speed ?? \"\";\r\n        this.special = special ?? \"\";\r\n    }\r\n\r\n    protected override validateItemDoesNotAlreadyExist(unitOfWork: IUnitOfWork): ArmorItem {\r\n        const existingItem = unitOfWork.repo(ArmorItem).first((item) => item.name === this.name);\r\n\r\n        if (existingItem && existingItem.id !== this.id) {\r\n            this.validationResults.push(this.getItemAlreadyExistsValidationMessage(ArmorItem.gearCategory));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public validate(unitOfWork: IUnitOfWork): string[] {\r\n        super.validate(unitOfWork);\r\n\r\n        this.validateArmorPoints().validateOxygen().validateSpeed().validateSpecial();\r\n\r\n        return this.validationResults;\r\n    }\r\n\r\n    private validateArmorPoints(): ArmorItem {\r\n        if (this.armorPoints < 0) {\r\n            this.validationResults.push(\r\n                `The armor points \\\"${this.armorPoints}\\\" is invalid. The armor points must be greater than or equal to zero, and it must only contain digits (no decimals or other special characters).`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateOxygen(): ArmorItem {\r\n        if (this.oxygen < 0) {\r\n            this.validationResults.push(\r\n                `The oxygen \\\"${this.oxygen}\\\" is invalid. The oxygen must be greater than or equal to zero, and it must only contain digits (no decimals or other special characters).`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateSpeed(): ArmorItem {\r\n        const validSpeeds: string[] = [ArmorSpeed.Normal, ArmorSpeed.Advantage, ArmorSpeed.Disadvantage];\r\n\r\n        if (!validSpeeds.find((speed) => speed === this.speed)) {\r\n            this.validationResults.push(\r\n                `The speed \\\"${this.speed}\\\" is invalid. The speed must be one of the following values: ${ArmorSpeed.Normal}, ${ArmorSpeed.Advantage}, ${ArmorSpeed.Disadvantage}`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateSpecial(): EquipmentItem {\r\n        if (this.special.trim().length > 1000) {\r\n            this.validationResults.push(\r\n                `The special \\\"${this.special}\\\" is invalid. The special must be 1,000 characters or less.`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    protected override addToDatabase(unitOfWork: IUnitOfWork): void {\r\n        this.id = this.generateId(unitOfWork);\r\n        this.sourceId = SourcesService.instance.getCustomItemSourceId(unitOfWork);\r\n\r\n        unitOfWork.repo(ArmorItem).add(this);\r\n    }\r\n\r\n    protected override updateInDatabase(unitOfWork: IUnitOfWork): void {\r\n        const repository = unitOfWork.repo(ArmorItem);\r\n        const existingItem = repository.first((item) => item.id === this.id) ?? new ArmorItem();\r\n\r\n        if (existingItem.id === 0) {\r\n            this.addToDatabase(unitOfWork);\r\n        } else {\r\n            this.sourceId = existingItem.sourceId;\r\n\r\n            repository.update(existingItem, this);\r\n        }\r\n    }\r\n\r\n    public override deleteFromDatabase(unitOfWork: IUnitOfWork): void {\r\n        unitOfWork.repo(ArmorItem).remove(this);\r\n    }\r\n\r\n    protected override getLargestItemIdInDatabase(unitOfWork: IUnitOfWork): number {\r\n        const sortedItems = unitOfWork\r\n            .repo(ArmorItem)\r\n            .list()\r\n            .sort((a, b) => a.id - b.id);\r\n\r\n        return sortedItems[sortedItems.length - 1].id;\r\n    }\r\n}\r\n","export enum ArmorSpeed {\r\n    Normal = \"Normal\",\r\n    Advantage = \"[+]\",\r\n    Disadvantage = \"[-]\",\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { IAsyncFeature } from \"../../../lib/common/features/async-feature-interface\";\r\nimport { ErrorCode } from \"../../../lib/errors/error-code\";\r\nimport { LocalizationService } from \"../../../lib/localization/localization-service\";\r\nimport { MessageKeys } from \"../../../lib/localization/message-keys\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { ArmorItem } from \"../armor-item\";\r\nimport { EquipmentItem } from \"../equipment-item\";\r\nimport { GearItem } from \"../gear-item\";\r\nimport { WeaponItem } from \"../weapon-item\";\r\nimport { DeleteCustomGearItemRequest } from \"./delete-custom-gear-item-request\";\r\n\r\nexport class DeleteCustomGearItemFeature implements IAsyncFeature<DeleteCustomGearItemRequest, Result<number>> {\r\n    private readonly unitOfWork: IUnitOfWork;\r\n    private readonly baseFailureMessage: string;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n        this.baseFailureMessage = LocalizationService.instance.translate(MessageKeys.deleteCustomGearItemFailed);\r\n    }\r\n\r\n    public async handleAsync(request: DeleteCustomGearItemRequest): Promise<Result<number>> {\r\n        const gearItem = this.getGearItem(request);\r\n\r\n        if (gearItem.id === 0) {\r\n            return Result.success(request.id);\r\n        }\r\n\r\n        if (gearItem.canBeDelete(this.unitOfWork) === false) {\r\n            const msg = LocalizationService.instance\r\n                .translate(MessageKeys.deleteCustomGearItemFailed)\r\n                .replace(\"{category}\", request.category);\r\n\r\n            return Result.failure(\r\n                new ResultError(ErrorCode.DeleteError, msg, [`\"${gearItem.name}\" is not a custom item.`])\r\n            );\r\n        }\r\n\r\n        gearItem.deleteFromDatabase(this.unitOfWork);\r\n\r\n        await this.unitOfWork.saveChanges();\r\n\r\n        return Result.success(request.id);\r\n    }\r\n\r\n    private getGearItem(request: DeleteCustomGearItemRequest): GearItem {\r\n        if (request.category === ArmorItem.gearCategory) {\r\n            return this.unitOfWork.repo(ArmorItem).first((item) => item.id === request.id) ?? new ArmorItem();\r\n        } else if (request.category === WeaponItem.gearCategory) {\r\n            return this.unitOfWork.repo(WeaponItem).first((item) => item.id === request.id) ?? new WeaponItem();\r\n        } else {\r\n            return this.unitOfWork.repo(EquipmentItem).first((item) => item.id === request.id) ?? new EquipmentItem();\r\n        }\r\n    }\r\n}\r\n","export class DeleteCustomGearItemRequest {\r\n    public id: number = 0;\r\n    public category: string = \"\";\r\n}\r\n","export class EquipmentItemFormFieldsDto {\r\n    public name: string;\r\n    public description: string;\r\n    public cost: string;\r\n\r\n    constructor(name?: string, description?: string, cost?: string) {\r\n        this.name = name ?? \"\";\r\n        this.description = description ?? \"\";\r\n        this.cost = cost ?? \"0\";\r\n    }\r\n\r\n    public toJson(): string {\r\n        return JSON.stringify(this);\r\n    }\r\n\r\n    static createFromJson(jsonStr: string): EquipmentItemFormFieldsDto {\r\n        const json = JSON.parse(jsonStr);\r\n\r\n        return new EquipmentItemFormFieldsDto(json.name ?? \"\", json.description ?? \"\", json.cost ?? \"0\");\r\n    }\r\n}\r\n","import { EquipmentItem } from \"./equipment-item\";\r\nimport { EquipmentItemFormFieldsDto } from \"./equipment-item-form-fields-dto\";\r\n\r\nexport class EquipmentItemMap {\r\n    static fromFormFields(formFields: EquipmentItemFormFieldsDto): EquipmentItem {\r\n        return new EquipmentItem(\r\n            0,\r\n            0,\r\n            formFields.name,\r\n            formFields.description,\r\n            !isNaN(Number(formFields.cost)) ? parseInt(formFields.cost) : -1\r\n        );\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../lib/common/data-access/unit-of-work-interface\";\r\nimport { SourcesService } from \"../sources/sources-service\";\r\nimport { GearItem } from \"./gear-item\";\r\n\r\nexport class EquipmentItem extends GearItem {\r\n    public static gearCategory: string = \"Equipment\";\r\n\r\n    public description: string;\r\n    public cost: number;\r\n\r\n    constructor(id?: number, sourceId?: number, name?: string, description?: string, cost?: number) {\r\n        super(id, sourceId, name);\r\n        this.description = description ?? \"\";\r\n        this.cost = cost ?? 0;\r\n    }\r\n\r\n    protected override validateItemDoesNotAlreadyExist(unitOfWork: IUnitOfWork): EquipmentItem {\r\n        const existingItem = unitOfWork.repo(EquipmentItem).first((item) => item.name === this.name);\r\n\r\n        if (existingItem && existingItem.id !== this.id) {\r\n            this.validationResults.push(this.getItemAlreadyExistsValidationMessage(EquipmentItem.gearCategory));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public validate(unitOfWork: IUnitOfWork): string[] {\r\n        super.validate(unitOfWork);\r\n\r\n        this.validateDescription().validateCost();\r\n\r\n        return this.validationResults;\r\n    }\r\n\r\n    private validateDescription(): EquipmentItem {\r\n        if (this.description.trim().length > 1000) {\r\n            this.validationResults.push(\r\n                `The description \\\"${this.description}\\\" is invalid. The description must be 1,000 characters or less.`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateCost(): EquipmentItem {\r\n        if (this.cost < 0) {\r\n            this.validationResults.push(\r\n                `The cost \\\"${this.cost}\\\" is invalid. The cost must be greater than or equal to zero, and it must only contain digits (no decimals or other special characters).`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    protected override addToDatabase(unitOfWork: IUnitOfWork): void {\r\n        this.id = this.generateId(unitOfWork);\r\n        this.sourceId = SourcesService.instance.getCustomItemSourceId(unitOfWork);\r\n\r\n        unitOfWork.repo(EquipmentItem).add(this);\r\n    }\r\n\r\n    protected override updateInDatabase(unitOfWork: IUnitOfWork): void {\r\n        const repository = unitOfWork.repo(EquipmentItem);\r\n        const existingItem = repository.first((item) => item.id === this.id) ?? new EquipmentItem();\r\n\r\n        if (existingItem.id === 0) {\r\n            this.addToDatabase(unitOfWork);\r\n        } else {\r\n            this.sourceId = existingItem.sourceId;\r\n\r\n            repository.update(existingItem, this);\r\n        }\r\n    }\r\n\r\n    public override deleteFromDatabase(unitOfWork: IUnitOfWork): void {\r\n        unitOfWork.repo(EquipmentItem).remove(this);\r\n    }\r\n\r\n    protected override getLargestItemIdInDatabase(unitOfWork: IUnitOfWork): number {\r\n        const sortedItems = unitOfWork\r\n            .repo(EquipmentItem)\r\n            .list()\r\n            .sort((a, b) => a.id - b.id);\r\n\r\n        return sortedItems[sortedItems.length - 1].id;\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { EmptyRequest } from \"../../../lib/common/features/empty-request\";\r\nimport { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { FilterListFeature } from \"../../../lib/common/features/filter-list-feature\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { Source } from \"../../sources/source\";\r\nimport { ArmorItem } from \"../armor-item\";\r\nimport { EquipmentItem } from \"../equipment-item\";\r\nimport { GearListItem } from \"../gear-list-item\";\r\nimport { GetAllGearFeature } from \"../get-all-gear/get-all-gear-feature\";\r\nimport { WeaponItem } from \"../weapon-item\";\r\nimport { FilterGearListRequest } from \"./filter-gear-list-request\";\r\n\r\nexport class FilterGearListFeature\r\n    extends FilterListFeature\r\n    implements IFeature<FilterGearListRequest, Result<GearListItem[]>>\r\n{\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        super(unitOfWork);\r\n    }\r\n\r\n    public handle(request: FilterGearListRequest): Result<GearListItem[]> {\r\n        try {\r\n            let filteredItems: GearListItem[] = this.applyCategoryFilter(request.category);\r\n\r\n            filteredItems = this.applySearchFilter<GearListItem>(filteredItems, request.search, this.getSearchField);\r\n            filteredItems = this.applySourceFilter(filteredItems, request.sourceId);\r\n\r\n            return Result.success(filteredItems);\r\n        } catch (error) {\r\n            return this.returnErrorResult<GearListItem[]>(error as Error, \"gear\");\r\n        }\r\n    }\r\n\r\n    private applyCategoryFilter(category: string): GearListItem[] {\r\n        const getAllGearListItemsFeature = new GetAllGearFeature(this.unitOfWork);\r\n        const allGearListItems = getAllGearListItemsFeature.handle(new EmptyRequest());\r\n\r\n        if (this.isValidGearCategory(category)) {\r\n            return allGearListItems.filter((item) => item.category === category);\r\n        }\r\n\r\n        return allGearListItems;\r\n    }\r\n\r\n    private isValidGearCategory(category: string) {\r\n        const categories: string[] = [ArmorItem.gearCategory, EquipmentItem.gearCategory, WeaponItem.gearCategory];\r\n\r\n        return categories.includes(category);\r\n    }\r\n\r\n    private getSearchField(item: GearListItem): string {\r\n        return item.name;\r\n    }\r\n\r\n    private applySourceFilter(listItems: GearListItem[], sourceId: number): GearListItem[] {\r\n        if (this.isValidSource(sourceId) === false) {\r\n            return listItems;\r\n        }\r\n\r\n        return listItems.filter((item) => item.sourceId === sourceId);\r\n    }\r\n\r\n    private isValidSource(sourceId: number): boolean {\r\n        return sourceId > 0 && Number.isInteger(sourceId) && this.doesSourceExist(sourceId);\r\n    }\r\n\r\n    private doesSourceExist(sourceId: number): boolean {\r\n        const source = this.unitOfWork.repo(Source).first((source) => source.id === sourceId);\r\n\r\n        if (!source) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n","import { GearItem } from \"../gear-item\";\r\n\r\nexport class FilterGearListRequest {\r\n    public category: string = GearItem.gearCategory;\r\n    public search: string = \"\";\r\n    public sourceId: number = 0;\r\n}\r\n","import { IUnitOfWork } from \"../../lib/common/data-access/unit-of-work-interface\";\r\nimport { Source } from \"../sources/source\";\r\nimport { SourcesService } from \"../sources/sources-service\";\r\n\r\nexport abstract class GearItem {\r\n    public static gearCategory: string = \"All\";\r\n\r\n    public id: number;\r\n    public sourceId: number;\r\n    public name: string;\r\n\r\n    protected validationResults: string[];\r\n\r\n    constructor(id?: number, sourceId?: number, name?: string) {\r\n        this.id = id ?? 0;\r\n        this.sourceId = sourceId ?? 0;\r\n        this.name = name ?? \"\";\r\n        this.validationResults = [];\r\n    }\r\n\r\n    public canBeDelete(unitOfWork: IUnitOfWork): boolean {\r\n        const customSourceId = SourcesService.instance.getCustomItemSourceId(unitOfWork);\r\n\r\n        return this.sourceId === customSourceId;\r\n    }\r\n\r\n    public validate(unitOfWork: IUnitOfWork): string[] {\r\n        this.validationResults.length = 0;\r\n\r\n        this.validateName().validateItemDoesNotAlreadyExist(unitOfWork);\r\n\r\n        return this.validationResults;\r\n    }\r\n\r\n    protected validateName(): GearItem {\r\n        if (this.name.trim() == \"\") {\r\n            this.validationResults.push(`The name \\\"${this.name}\\\" is invalid. The name cannot be empty.`);\r\n        } else if (this.name.trim().length > 100) {\r\n            this.validationResults.push(\r\n                `The name \\\"${this.name}\\\" is invalid. The name must be 100 characters or less.`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    protected getItemAlreadyExistsValidationMessage(gearCategory: string) {\r\n        let prefix = \"An\";\r\n\r\n        if (gearCategory === \"Weapon\") {\r\n            prefix = \"A\";\r\n        }\r\n\r\n        return `${prefix} ${gearCategory} item with the name \\\"${this.name}\\\" already exists. The name must be unique.`;\r\n    }\r\n\r\n    protected generateId(unitOfWork: IUnitOfWork): number {\r\n        return this.getLargestItemIdInDatabase(unitOfWork) + 1;\r\n    }\r\n\r\n    public saveToDatabase(unitOfWork: IUnitOfWork): void {\r\n        if (this.id == 0) {\r\n            this.addToDatabase(unitOfWork);\r\n        } else {\r\n            this.updateInDatabase(unitOfWork);\r\n        }\r\n    }\r\n\r\n    public abstract deleteFromDatabase(unitOfWork: IUnitOfWork): void;\r\n    protected abstract addToDatabase(unitOfWork: IUnitOfWork): void;\r\n    protected abstract updateInDatabase(unitOfWork: IUnitOfWork): void;\r\n    protected abstract validateItemDoesNotAlreadyExist(unitOfWork: IUnitOfWork): GearItem;\r\n    protected abstract getLargestItemIdInDatabase(unitOfWork: IUnitOfWork): number;\r\n}\r\n","import { ArmorItem } from \"./armor-item\";\r\nimport { EquipmentItem } from \"./equipment-item\";\r\nimport { GearListItem } from \"./gear-list-item\";\r\nimport { WeaponItem } from \"./weapon-item\";\r\n\r\nexport class GearListItemMap {\r\n    static fromArmorItem(item: ArmorItem): GearListItem {\r\n        return new GearListItem(item.id, item.sourceId, item.name, item.description, item.cost, ArmorItem.gearCategory);\r\n    }\r\n\r\n    static fromEquipmentItem(item: EquipmentItem): GearListItem {\r\n        return new GearListItem(\r\n            item.id,\r\n            item.sourceId,\r\n            item.name,\r\n            item.description,\r\n            item.cost,\r\n            EquipmentItem.gearCategory\r\n        );\r\n    }\r\n\r\n    static fromWeaponItem(item: WeaponItem): GearListItem {\r\n        return new GearListItem(\r\n            item.id,\r\n            item.sourceId,\r\n            item.name,\r\n            item.description,\r\n            item.cost,\r\n            WeaponItem.gearCategory\r\n        );\r\n    }\r\n}\r\n","import { CreditsAbbreviator } from \"../../lib/services/credits-abbreviator\";\r\n\r\nexport class GearListItem {\r\n    public id: number;\r\n    public sourceId: number;\r\n    public name: string;\r\n    public description: string;\r\n    public cost: number;\r\n    public category: string;\r\n\r\n    public get abbreviatedCost(): string {\r\n        return CreditsAbbreviator.instance.abbreviate(this.cost);\r\n    }\r\n\r\n    constructor(id: number, sourceId: number, name: string, description: string, cost: number, category: string) {\r\n        this.id = id;\r\n        this.sourceId = sourceId;\r\n        this.name = name;\r\n        this.description = description;\r\n        this.cost = cost;\r\n        this.category = category;\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { EmptyRequest } from \"../../../lib/common/features/empty-request\";\r\nimport { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { ArmorItem } from \"../armor-item\";\r\nimport { EquipmentItem } from \"../equipment-item\";\r\nimport { GearListItem } from \"../gear-list-item\";\r\nimport { GearListItemMap } from \"../gear-list-item-map\";\r\nimport { WeaponItem } from \"../weapon-item\";\r\n\r\nexport class GetAllGearFeature implements IFeature<EmptyRequest, GearListItem[]> {\r\n    private readonly unitOfWork: IUnitOfWork;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n    }\r\n\r\n    public handle(request: EmptyRequest): GearListItem[] {\r\n        let gearListItems: GearListItem[] = [];\r\n\r\n        gearListItems = gearListItems.concat(\r\n            this.unitOfWork.repo(EquipmentItem).list().map(GearListItemMap.fromEquipmentItem)\r\n        );\r\n\r\n        gearListItems = gearListItems.concat(this.unitOfWork.repo(ArmorItem).list().map(GearListItemMap.fromArmorItem));\r\n        gearListItems = gearListItems.concat(\r\n            this.unitOfWork.repo(WeaponItem).list().map(GearListItemMap.fromWeaponItem)\r\n        );\r\n\r\n        return gearListItems;\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { ArmorItem } from \"../armor-item\";\r\nimport { EquipmentItem } from \"../equipment-item\";\r\nimport { GearItem } from \"../gear-item\";\r\nimport { WeaponItem } from \"../weapon-item\";\r\nimport { GetGearByIdRequest } from \"./get-gear-by-id-request\";\r\n\r\nexport class GetGearByIdFeature implements IFeature<GetGearByIdRequest, GearItem> {\r\n    private readonly unitOfWork: IUnitOfWork;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n    }\r\n\r\n    public handle(request: GetGearByIdRequest): GearItem {\r\n        let foundItem: GearItem | undefined;\r\n\r\n        if (request.category === ArmorItem.gearCategory) {\r\n            foundItem = this.unitOfWork.repo(ArmorItem).first((item) => item.id === request.id);\r\n        } else if (request.category === EquipmentItem.gearCategory) {\r\n            foundItem = this.unitOfWork.repo(EquipmentItem).first((item) => item.id === request.id);\r\n        } else if (request.category === WeaponItem.gearCategory) {\r\n            foundItem = this.unitOfWork.repo(WeaponItem).first((item) => item.id === request.id);\r\n        }\r\n\r\n        return foundItem ?? new EquipmentItem();\r\n    }\r\n}\r\n","export class GetGearByIdRequest {\r\n    private readonly _id: number;\r\n    private readonly _category: string;\r\n\r\n    public get id(): number {\r\n        return this._id;\r\n    }\r\n\r\n    public get category(): string {\r\n        return this._category;\r\n    }\r\n\r\n    constructor(id: number, category: string) {\r\n        this._id = id;\r\n        this._category = category;\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { IAsyncFeature } from \"../../../lib/common/features/async-feature-interface\";\r\nimport { SaveDbEntityFeature } from \"../../../lib/common/features/save-db-entity-feature\";\r\nimport { MessageKeys } from \"../../../lib/localization/message-keys\";\r\nimport { AppLogger } from \"../../../lib/logging/app-logger\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { ArmorItem } from \"../armor-item\";\r\nimport { ArmorItemMap } from \"../armor-item-map\";\r\nimport { SaveCustomArmorItemRequest } from \"./save-custom-armor-item-request\";\r\n\r\nexport class SaveCustomArmorItemFeature\r\n    extends SaveDbEntityFeature\r\n    implements IAsyncFeature<SaveCustomArmorItemRequest, Result<ArmorItem>>\r\n{\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        super(unitOfWork);\r\n    }\r\n\r\n    public async handleAsync(request: SaveCustomArmorItemRequest): Promise<Result<ArmorItem>> {\r\n        try {\r\n            this.setErrorResultFields(\r\n                request.id,\r\n                MessageKeys.createCustomArmorItemFailed,\r\n                MessageKeys.editCustomArmorItemFailed\r\n            );\r\n\r\n            const armorItem = ArmorItemMap.fromFormFields(request.formFields);\r\n            armorItem.id = request.id;\r\n\r\n            const validationResults: string[] = armorItem.validate(this.unitOfWork);\r\n\r\n            if (validationResults.length > 0) {\r\n                return Result.failure(new ResultError(this.errorCode, this.baseFailureMessage, validationResults));\r\n            }\r\n\r\n            armorItem.saveToDatabase(this.unitOfWork);\r\n\r\n            await this.unitOfWork.saveChanges();\r\n\r\n            return Result.success(armorItem);\r\n        } catch (error) {\r\n            const ex = error as Error;\r\n\r\n            AppLogger.instance.error(`Error while creating a new armor item`, ex);\r\n\r\n            return this.createExceptionResult<ArmorItem>(ex);\r\n        }\r\n    }\r\n}\r\n","import { SaveDbEntityRequest } from \"../../../lib/common/features/save-db-entity-request\";\r\nimport { ArmorItemFormFieldsDto } from \"../armor-item-form-fields-dto\";\r\n\r\nexport class SaveCustomArmorItemRequest extends SaveDbEntityRequest {\r\n    private _formFields: ArmorItemFormFieldsDto;\r\n\r\n    public get formFields(): ArmorItemFormFieldsDto {\r\n        return this._formFields;\r\n    }\r\n\r\n    public set formFields(value: ArmorItemFormFieldsDto) {\r\n        this._formFields = value;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._formFields = new ArmorItemFormFieldsDto();\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { IAsyncFeature } from \"../../../lib/common/features/async-feature-interface\";\r\nimport { SaveDbEntityFeature } from \"../../../lib/common/features/save-db-entity-feature\";\r\nimport { MessageKeys } from \"../../../lib/localization/message-keys\";\r\nimport { AppLogger } from \"../../../lib/logging/app-logger\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { EquipmentItem } from \"../equipment-item\";\r\nimport { EquipmentItemMap } from \"../equipment-item-map\";\r\nimport { SaveCustomEquipmentItemRequest } from \"./save-custom-equipment-item-request\";\r\n\r\nexport class SaveCustomEquipmentItemFeature\r\n    extends SaveDbEntityFeature\r\n    implements IAsyncFeature<SaveCustomEquipmentItemRequest, Result<EquipmentItem>>\r\n{\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        super(unitOfWork);\r\n    }\r\n\r\n    public async handleAsync(request: SaveCustomEquipmentItemRequest): Promise<Result<EquipmentItem>> {\r\n        try {\r\n            this.setErrorResultFields(\r\n                request.id,\r\n                MessageKeys.createCustomEquipmentItemFailed,\r\n                MessageKeys.editCustomEquipmentItemFailed\r\n            );\r\n\r\n            const equipmentItem = EquipmentItemMap.fromFormFields(request.formFields);\r\n            equipmentItem.id = request.id;\r\n\r\n            const validationResults: string[] = equipmentItem.validate(this.unitOfWork);\r\n\r\n            if (validationResults.length > 0) {\r\n                return Result.failure(new ResultError(this.errorCode, this.baseFailureMessage, validationResults));\r\n            }\r\n\r\n            equipmentItem.saveToDatabase(this.unitOfWork);\r\n\r\n            await this.unitOfWork.saveChanges();\r\n\r\n            return Result.success(equipmentItem);\r\n        } catch (error) {\r\n            const ex = error as Error;\r\n\r\n            AppLogger.instance.error(`Error while creating a new equipment item`, ex);\r\n\r\n            return this.createExceptionResult<EquipmentItem>(ex);\r\n        }\r\n    }\r\n}\r\n","import { SaveDbEntityRequest } from \"../../../lib/common/features/save-db-entity-request\";\r\nimport { EquipmentItemFormFieldsDto } from \"../equipment-item-form-fields-dto\";\r\n\r\nexport class SaveCustomEquipmentItemRequest extends SaveDbEntityRequest {\r\n    private _formFields: EquipmentItemFormFieldsDto;\r\n\r\n    public get formFields(): EquipmentItemFormFieldsDto {\r\n        return this._formFields;\r\n    }\r\n\r\n    public set formFields(value: EquipmentItemFormFieldsDto) {\r\n        this._formFields = value;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._formFields = new EquipmentItemFormFieldsDto();\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { IAsyncFeature } from \"../../../lib/common/features/async-feature-interface\";\r\nimport { SaveDbEntityFeature } from \"../../../lib/common/features/save-db-entity-feature\";\r\nimport { ErrorCode } from \"../../../lib/errors/error-code\";\r\nimport { LocalizationService } from \"../../../lib/localization/localization-service\";\r\nimport { MessageKeys } from \"../../../lib/localization/message-keys\";\r\nimport { AppLogger } from \"../../../lib/logging/app-logger\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { WeaponItem } from \"../weapon-item\";\r\nimport { WeaponItemMap } from \"../weapon-item-map\";\r\nimport { SaveCustomWeaponItemRequest } from \"./save-custom-weapon-item-request\";\r\n\r\nexport class SaveCustomWeaponItemFeature\r\n    extends SaveDbEntityFeature\r\n    implements IAsyncFeature<SaveCustomWeaponItemRequest, Result<WeaponItem>>\r\n{\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        super(unitOfWork);\r\n    }\r\n\r\n    public async handleAsync(request: SaveCustomWeaponItemRequest): Promise<Result<WeaponItem>> {\r\n        try {\r\n            this.setErrorResultFields(\r\n                request.id,\r\n                MessageKeys.createCustomWeaponItemFailed,\r\n                MessageKeys.editCustomWeaponItemFailed\r\n            );\r\n\r\n            const weaponItem = WeaponItemMap.fromFormFields(request.formFields);\r\n            weaponItem.id = request.id;\r\n\r\n            const validationResults: string[] = weaponItem.validate(this.unitOfWork);\r\n\r\n            if (validationResults.length > 0) {\r\n                return Result.failure(new ResultError(this.errorCode, this.baseFailureMessage, validationResults));\r\n            }\r\n\r\n            weaponItem.saveToDatabase(this.unitOfWork);\r\n\r\n            await this.unitOfWork.saveChanges();\r\n\r\n            return Result.success(weaponItem);\r\n        } catch (error) {\r\n            const ex = error as Error;\r\n\r\n            AppLogger.instance.error(`Error while creating a new weapon item`, ex);\r\n\r\n            return this.createExceptionResult<WeaponItem>(ex);\r\n        }\r\n    }\r\n}\r\n","import { SaveDbEntityRequest } from \"../../../lib/common/features/save-db-entity-request\";\r\nimport { WeaponItemFormFieldsDto } from \"../weapon-item-form-fields-dto\";\r\n\r\nexport class SaveCustomWeaponItemRequest extends SaveDbEntityRequest {\r\n    private _formFields: WeaponItemFormFieldsDto;\r\n\r\n    public get formFields(): WeaponItemFormFieldsDto {\r\n        return this._formFields;\r\n    }\r\n\r\n    public set formFields(value: WeaponItemFormFieldsDto) {\r\n        this._formFields = value;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this._formFields = new WeaponItemFormFieldsDto();\r\n    }\r\n}\r\n","import { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { SortListFeature } from \"../../../lib/common/features/sort-list-feature\";\r\nimport { ErrorCode } from \"../../../lib/errors/error-code\";\r\nimport { AppLogger } from \"../../../lib/logging/app-logger\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { SortDirection } from \"../../../lib/sorting/sort-direction\";\r\nimport { GearListItem } from \"../gear-list-item\";\r\nimport { SortGearListRequest } from \"./sort-gear-list-request\";\r\n\r\nexport class SortGearListFeature\r\n    extends SortListFeature\r\n    implements IFeature<SortGearListRequest, Result<GearListItem[]>>\r\n{\r\n    static fieldId: string = \"id\";\r\n    static fieldItem: string = \"item\";\r\n    static fieldCost: string = \"cost\";\r\n    static fieldCategory: string = \"category\";\r\n    static fieldDescription: string = \"description\";\r\n\r\n    constructor() {\r\n        super([\r\n            SortGearListFeature.fieldId,\r\n            SortGearListFeature.fieldItem,\r\n            SortGearListFeature.fieldCost,\r\n            SortGearListFeature.fieldCategory,\r\n            SortGearListFeature.fieldDescription,\r\n        ]);\r\n    }\r\n\r\n    public handle(request: SortGearListRequest): Result<GearListItem[]> {\r\n        try {\r\n            if (!this.isValidField(request.sortState.field)) return Result.success(request.gearListItems);\r\n\r\n            const sortedResults = this.sortGearListItems(request);\r\n\r\n            return Result.success(sortedResults);\r\n        } catch (error) {\r\n            const ex = error as Error;\r\n\r\n            AppLogger.instance.error(\"Error while sorting gear list\", ex);\r\n\r\n            return Result.failure(\r\n                new ResultError(\r\n                    ErrorCode.QueryError,\r\n                    `Failed to sort gear item list due to the follow error: ${ex.message}`\r\n                )\r\n            );\r\n        }\r\n    }\r\n\r\n    public sortGearListItems(request: SortGearListRequest): GearListItem[] {\r\n        return [...request.gearListItems].sort((a, b) => {\r\n            if (request.sortState.direction === SortDirection.None) {\r\n                return a.id - b.id;\r\n            } else if (request.sortState.field === SortGearListFeature.fieldItem) {\r\n                return this.sortByStringField(a.name, b.name, request.sortState);\r\n            } else if (request.sortState.field === SortGearListFeature.fieldCost) {\r\n                return this.sortByNumberField(a.cost, b.cost, request.sortState);\r\n            } else if (request.sortState.field === SortGearListFeature.fieldCategory) {\r\n                return this.sortByStringField(a.category, b.category, request.sortState);\r\n            } else if (request.sortState.field === SortGearListFeature.fieldDescription) {\r\n                return this.sortByStringField(a.description, b.description, request.sortState);\r\n            } else {\r\n                return this.sortByNumberField(a.id, b.id, request.sortState);\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { SortState } from \"../../../lib/sorting/sort-state\";\r\nimport { GearListItem } from \"../gear-list-item\";\r\n\r\nexport class SortGearListRequest {\r\n    public gearListItems: GearListItem[] = [];\r\n    public sortState: SortState = new SortState();\r\n}\r\n","export enum WeaponCategory {\r\n    Melee = \"Melee\",\r\n    Firearm = \"Firearm\",\r\n    IndustrialEquipment = \"Industrial Equipment\",\r\n}\r\n","import { EquipmentItemFormFieldsDto } from \"./equipment-item-form-fields-dto\";\r\n\r\nexport class WeaponItemFormFieldsDto extends EquipmentItemFormFieldsDto {\r\n    public category: string;\r\n    public range: string;\r\n    public damage: string;\r\n    public shots: string;\r\n    public wound: string;\r\n    public special: string;\r\n\r\n    constructor(\r\n        name?: string,\r\n        description?: string,\r\n        cost?: string,\r\n        category?: string,\r\n        range?: string,\r\n        damage?: string,\r\n        shots?: string,\r\n        wound?: string,\r\n        special?: string\r\n    ) {\r\n        super(name, description, cost);\r\n        this.category = category ?? \"\";\r\n        this.range = range ?? \"\";\r\n        this.damage = damage ?? \"\";\r\n        this.shots = shots ?? \"\";\r\n        this.wound = wound ?? \"\";\r\n        this.special = special ?? \"\";\r\n    }\r\n\r\n    public toJson(): string {\r\n        return JSON.stringify(this);\r\n    }\r\n\r\n    static createFromJson(jsonStr: string): WeaponItemFormFieldsDto {\r\n        const json = JSON.parse(jsonStr);\r\n\r\n        return new WeaponItemFormFieldsDto(\r\n            json.name ?? \"\",\r\n            json.description ?? \"\",\r\n            json.cost ?? \"0\",\r\n            json.category ?? \"0\",\r\n            json.range ?? \"0\",\r\n            json.damage ?? \"\",\r\n            json.shots ?? \"\",\r\n            json.wound ?? \"\",\r\n            json.special ?? \"\"\r\n        );\r\n    }\r\n}\r\n","import { WeaponItem } from \"./weapon-item\";\r\nimport { WeaponItemFormFieldsDto } from \"./weapon-item-form-fields-dto\";\r\n\r\nexport class WeaponItemMap {\r\n    static fromFormFields(formFields: WeaponItemFormFieldsDto): WeaponItem {\r\n        return new WeaponItem(\r\n            0,\r\n            0,\r\n            formFields.name,\r\n            formFields.description,\r\n            !isNaN(Number(formFields.cost)) ? parseInt(formFields.cost) : -1,\r\n            formFields.category,\r\n            formFields.range,\r\n            formFields.damage,\r\n            !isNaN(Number(formFields.shots)) ? parseInt(formFields.shots) : -1,\r\n            formFields.wound,\r\n            formFields.special\r\n        );\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../lib/common/data-access/unit-of-work-interface\";\r\nimport { SourcesService } from \"../sources/sources-service\";\r\nimport { EquipmentItem } from \"./equipment-item\";\r\nimport { WeaponCategory } from \"./weapon-category\";\r\nimport { WeaponRange } from \"./weapon-range\";\r\n\r\nexport class WeaponItem extends EquipmentItem {\r\n    public static gearCategory: string = \"Weapon\";\r\n\r\n    public category: string;\r\n    public range: string;\r\n    public damage: string;\r\n    public shots: number;\r\n    public wound: string;\r\n    public special: string;\r\n\r\n    constructor(\r\n        id?: number,\r\n        sourceId?: number,\r\n        name?: string,\r\n        description?: string,\r\n        cost?: number,\r\n        category?: string,\r\n        range?: string,\r\n        damage?: string,\r\n        shots?: number,\r\n        wound?: string,\r\n        special?: string\r\n    ) {\r\n        super(id, sourceId, name, description, cost);\r\n        this.category = category ?? WeaponCategory.Melee;\r\n        this.range = range ?? WeaponRange.Adjacent;\r\n        this.damage = damage ?? \"\";\r\n        this.shots = shots ?? 0;\r\n        this.wound = wound ?? \"\";\r\n        this.special = special ?? \"\";\r\n    }\r\n\r\n    protected override validateItemDoesNotAlreadyExist(unitOfWork: IUnitOfWork): WeaponItem {\r\n        const existingItem = unitOfWork.repo(WeaponItem).first((item) => item.name === this.name);\r\n\r\n        if (existingItem && existingItem.id !== this.id) {\r\n            this.validationResults.push(this.getItemAlreadyExistsValidationMessage(WeaponItem.gearCategory));\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public validate(unitOfWork: IUnitOfWork): string[] {\r\n        super.validate(unitOfWork);\r\n\r\n        this.validateCategory().validateRange().validateDamage().validateShots().validateWound().validateSpecial();\r\n\r\n        return this.validationResults;\r\n    }\r\n\r\n    private validateCategory(): WeaponItem {\r\n        const validCategories: string[] = [\r\n            WeaponCategory.Melee,\r\n            WeaponCategory.Firearm,\r\n            WeaponCategory.IndustrialEquipment,\r\n        ];\r\n\r\n        if (!validCategories.find((category) => category === this.category)) {\r\n            this.validationResults.push(\r\n                `The weapon category \\\"${this.category}\\\" is invalid. The weapon category must be one of the following values: ${WeaponCategory.Melee}, ${WeaponCategory.Firearm}, ${WeaponCategory.IndustrialEquipment}`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateRange(): WeaponItem {\r\n        const validCategories: string[] = [\r\n            WeaponRange.Adjacent,\r\n            WeaponRange.Close,\r\n            WeaponRange.Long,\r\n            WeaponRange.Extreme,\r\n        ];\r\n\r\n        if (!validCategories.find((range) => range === this.range)) {\r\n            this.validationResults.push(\r\n                `The range \\\"${this.range}\\\" is invalid. The range must be one of the following values: ${WeaponRange.Adjacent}, ${WeaponRange.Close}, ${WeaponRange.Long}, ${WeaponRange.Extreme}`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateDamage(): WeaponItem {\r\n        if (this.damage.trim().length > 100) {\r\n            this.validationResults.push(\r\n                `The damage \\\"${this.damage}\\\" is invalid. The damage must be 100 characters or less.`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateShots(): WeaponItem {\r\n        if (this.shots < 0) {\r\n            this.validationResults.push(\r\n                `The shots \\\"${this.shots}\\\" is invalid. The shots must be greater than or equal to zero, and it must only contain digits (no decimals or other special characters).`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateWound(): WeaponItem {\r\n        if (this.wound.trim().length > 100) {\r\n            this.validationResults.push(\r\n                `The wound \\\"${this.wound}\\\" is invalid. The wound must be 100 characters or less.`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    private validateSpecial(): EquipmentItem {\r\n        if (this.special.trim().length > 1000) {\r\n            this.validationResults.push(\r\n                `The special \\\"${this.special}\\\" is invalid. The special must be 1,000 characters or less.`\r\n            );\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    protected override addToDatabase(unitOfWork: IUnitOfWork): void {\r\n        this.id = this.generateId(unitOfWork);\r\n        this.sourceId = SourcesService.instance.getCustomItemSourceId(unitOfWork);\r\n\r\n        unitOfWork.repo(WeaponItem).add(this);\r\n    }\r\n\r\n    protected override updateInDatabase(unitOfWork: IUnitOfWork): void {\r\n        const repository = unitOfWork.repo(WeaponItem);\r\n        const existingItem = repository.first((item) => item.id === this.id) ?? new WeaponItem();\r\n\r\n        if (existingItem.id === 0) {\r\n            this.addToDatabase(unitOfWork);\r\n        } else {\r\n            this.sourceId = existingItem.sourceId;\r\n\r\n            repository.update(existingItem, this);\r\n        }\r\n    }\r\n\r\n    public override deleteFromDatabase(unitOfWork: IUnitOfWork): void {\r\n        unitOfWork.repo(WeaponItem).remove(this);\r\n    }\r\n\r\n    protected override getLargestItemIdInDatabase(unitOfWork: IUnitOfWork): number {\r\n        const sortedItems = unitOfWork\r\n            .repo(WeaponItem)\r\n            .list()\r\n            .sort((a, b) => a.id - b.id);\r\n\r\n        return sortedItems[sortedItems.length - 1].id;\r\n    }\r\n}\r\n","export enum WeaponRange {\r\n    Adjacent = \"Adjacent\",\r\n    Close = \"Close\",\r\n    Long = \"Long\",\r\n    Extreme = \"Extreme\",\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { ErrorCode } from \"../../../lib/errors/error-code\";\r\nimport { LocalizationService } from \"../../../lib/localization/localization-service\";\r\nimport { MessageKeys } from \"../../../lib/localization/message-keys\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { Npc } from \"../npc\";\r\nimport { CreateCustomNpcRequest } from \"./create-custom-npc-request\";\r\n\r\nexport class CreateCustomNpcFeature implements IFeature<CreateCustomNpcRequest, Result<Npc>> {\r\n    private readonly unitOfWork: IUnitOfWork;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n    }\r\n\r\n    public handle(request: CreateCustomNpcRequest): Result<Npc> {\r\n        const validationResults: string[] = request.npc.validate();\r\n        const message = LocalizationService.instance.translate(MessageKeys.createCustomNpcFailed);\r\n\r\n        return Result.failure(new ResultError(ErrorCode.CreateError, message, validationResults));\r\n    }\r\n}\r\n","import { Npc } from \"../npc\";\r\n\r\nexport class CreateCustomNpcRequest {\r\n    public npc: Npc = new Npc();\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { EmptyRequest } from \"../../../lib/common/features/empty-request\";\r\nimport { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { FilterListFeature } from \"../../../lib/common/features/filter-list-feature\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { GetAllNpcsFeature } from \"../get-all-npcs/get-all-npcs-feature\";\r\nimport { NpcListItem } from \"../npc-list-item\";\r\nimport { FilterNpcsListRequest } from \"./filter-npcs-list-request\";\r\n\r\nexport class FilterNpcsListFeature\r\n    extends FilterListFeature\r\n    implements IFeature<FilterNpcsListRequest, Result<NpcListItem[]>>\r\n{\r\n    private readonly getAllItemsFeature: GetAllNpcsFeature;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        super(unitOfWork);\r\n        this.getAllItemsFeature = new GetAllNpcsFeature(this.unitOfWork);\r\n    }\r\n\r\n    public handle(request: FilterNpcsListRequest): Result<NpcListItem[]> {\r\n        try {\r\n            let filteredItems: NpcListItem[] = this.getAllItemsFeature.handle(new EmptyRequest());\r\n\r\n            filteredItems = this.applySearchFilter<NpcListItem>(filteredItems, request.search, this.getSearchField);\r\n\r\n            return Result.success(filteredItems);\r\n        } catch (error) {\r\n            return this.returnErrorResult<NpcListItem[]>(error as Error, \"NPCs\");\r\n        }\r\n    }\r\n\r\n    private getSearchField(item: NpcListItem): string {\r\n        return item.name;\r\n    }\r\n}\r\n","export class FilterNpcsListRequest {\r\n    public search: string = \"\";\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { EmptyRequest } from \"../../../lib/common/features/empty-request\";\r\nimport { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { Npc } from \"../npc\";\r\nimport { NpcListItem } from \"../npc-list-item\";\r\nimport { NpcListItemMap } from \"../npc-list-item-map\";\r\n\r\nexport class GetAllNpcsFeature implements IFeature<EmptyRequest, NpcListItem[]> {\r\n    private readonly unitOfWork: IUnitOfWork;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n    }\r\n\r\n    public handle(request: EmptyRequest): NpcListItem[] {\r\n        return this.unitOfWork.repo(Npc).list().map(NpcListItemMap.fromNpc);\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../../lib/common/data-access/unit-of-work-interface\";\r\nimport { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { Npc } from \"../npc\";\r\nimport { GetNpcByIdRequest } from \"./get-npc-by-id-request\";\r\n\r\nexport class GetNpcByIdFeature implements IFeature<GetNpcByIdRequest, Npc> {\r\n    private readonly unitOfWork: IUnitOfWork;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n    }\r\n\r\n    public handle(request: GetNpcByIdRequest): Npc {\r\n        return this.unitOfWork.repo(Npc).first((npc) => npc.id === request.id) ?? new Npc();\r\n    }\r\n}\r\n","export class GetNpcByIdRequest {\r\n    private readonly _id: number;\r\n\r\n    public get id(): number {\r\n        return this._id;\r\n    }\r\n\r\n    constructor(id: number) {\r\n        this._id = id;\r\n    }\r\n}\r\n","export class NpcAttack {\r\n    public name: string;\r\n    public effect: string;\r\n\r\n    constructor(name?: string, effect?: string) {\r\n        this.name = name ?? \"\";\r\n        this.effect = effect ?? \"\";\r\n    }\r\n}\r\n","import { Npc } from \"./npc\";\r\nimport { NpcListItem } from \"./npc-list-item\";\r\n\r\nexport class NpcListItemMap {\r\n    static fromNpc(npc: Npc): NpcListItem {\r\n        return new NpcListItem(\r\n            npc.id,\r\n            npc.name,\r\n            npc.combat,\r\n            npc.instinct,\r\n            npc.armorPoints,\r\n            npc.health,\r\n            npc.maximumWounds\r\n        );\r\n    }\r\n}\r\n","export class NpcListItem {\r\n    public id: number;\r\n    public name: string;\r\n    public combat: number;\r\n    public instinct: number;\r\n    public armorPoints: number;\r\n    public health: number;\r\n    public maximumWounds: number;\r\n\r\n    constructor(\r\n        id: number,\r\n        name: string,\r\n        combat: number,\r\n        instinct: number,\r\n        armorPoints: number,\r\n        health: number,\r\n        maximumWounds: number\r\n    ) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.combat = combat;\r\n        this.instinct = instinct;\r\n        this.armorPoints = armorPoints;\r\n        this.health = health;\r\n        this.maximumWounds = maximumWounds;\r\n    }\r\n}\r\n","export class NpcSpecialAbility {\r\n    public description: string;\r\n\r\n    constructor(description?: string) {\r\n        this.description = description ?? \"\";\r\n    }\r\n}\r\n","import { NpcAttack } from \"./npc-attack\";\r\nimport { NpcSpecialAbility } from \"./npc-special-ability\";\r\n\r\nexport class Npc {\r\n    public id: number;\r\n    public sourceId: number;\r\n    public name: string;\r\n    public combat: number;\r\n    public instinct: number;\r\n    public armorPoints: number;\r\n    public health: number;\r\n    public maximumWounds: number;\r\n    public description: string;\r\n    public attacks: NpcAttack[];\r\n    public specialAbilities: NpcSpecialAbility[];\r\n\r\n    constructor(\r\n        id?: number,\r\n        sourceId?: number,\r\n        name?: string,\r\n        combat?: number,\r\n        instinct?: number,\r\n        armorPoints?: number,\r\n        health?: number,\r\n        maximumWounds?: number,\r\n        description?: string,\r\n        attacks?: NpcAttack[],\r\n        specialAbilities?: NpcSpecialAbility[]\r\n    ) {\r\n        this.id = id ?? 0;\r\n        this.sourceId = sourceId ?? 0;\r\n        this.name = name ?? \"\";\r\n        this.combat = combat ?? 0;\r\n        this.instinct = instinct ?? 0;\r\n        this.armorPoints = armorPoints ?? 0;\r\n        this.health = health ?? 0;\r\n        this.maximumWounds = maximumWounds ?? 0;\r\n        this.description = description ?? \"\";\r\n        this.attacks = attacks ?? [];\r\n        this.specialAbilities = specialAbilities ?? [];\r\n    }\r\n\r\n    public validate(): string[] {\r\n        let validationResults: string[] = [];\r\n\r\n        if (this.name.trim() == \"\") {\r\n            validationResults.push(`The name \\\"${this.name}\\\" is invalid. The name cannot be empty.`);\r\n        } else if (this.name.trim().length > 50) {\r\n            validationResults.push(`The name \\\"${this.name}\\\" is invalid. The name must be 50 characters or less.`);\r\n        }\r\n\r\n        return validationResults;\r\n    }\r\n}\r\n","import { IFeature } from \"../../../lib/common/features/feature-interface\";\r\nimport { SortListFeature } from \"../../../lib/common/features/sort-list-feature\";\r\nimport { ErrorCode } from \"../../../lib/errors/error-code\";\r\nimport { AppLogger } from \"../../../lib/logging/app-logger\";\r\nimport { Result } from \"../../../lib/result/result\";\r\nimport { ResultError } from \"../../../lib/result/result-error\";\r\nimport { SortDirection } from \"../../../lib/sorting/sort-direction\";\r\nimport { NpcListItem } from \"../npc-list-item\";\r\nimport { SortNpcsListRequest } from \"./sort-npcs-list-request\";\r\n\r\nexport class SortNpcsListFeature\r\n    extends SortListFeature\r\n    implements IFeature<SortNpcsListRequest, Result<NpcListItem[]>>\r\n{\r\n    static fieldId: string = \"id\";\r\n    static fieldName: string = \"name\";\r\n    static fieldCombat: string = \"combat\";\r\n    static fieldInstinct: string = \"instinct\";\r\n    static fieldArmorPoints: string = \"armorPoints\";\r\n    static fieldWoundsHealth: string = \"maxWoundsAndHealth\";\r\n\r\n    constructor() {\r\n        super([\r\n            SortNpcsListFeature.fieldId,\r\n            SortNpcsListFeature.fieldName,\r\n            SortNpcsListFeature.fieldCombat,\r\n            SortNpcsListFeature.fieldInstinct,\r\n            SortNpcsListFeature.fieldArmorPoints,\r\n            SortNpcsListFeature.fieldWoundsHealth,\r\n        ]);\r\n    }\r\n\r\n    public handle(request: SortNpcsListRequest): Result<NpcListItem[]> {\r\n        try {\r\n            if (!this.isValidField(request.sortState.field)) return Result.success(request.npcListItems);\r\n\r\n            const sortedResults = this.sortNpcListItems(request);\r\n\r\n            return Result.success(sortedResults);\r\n        } catch (error) {\r\n            const ex = error as Error;\r\n\r\n            AppLogger.instance.error(\"Error while sorting NPCs list\", ex);\r\n\r\n            return Result.failure(\r\n                new ResultError(ErrorCode.QueryError, `Failed to sort NPC list due to the follow error: ${ex.message}`)\r\n            );\r\n        }\r\n    }\r\n\r\n    public sortNpcListItems(request: SortNpcsListRequest): NpcListItem[] {\r\n        return [...request.npcListItems].sort((a, b) => {\r\n            if (request.sortState.direction === SortDirection.None) {\r\n                return a.id - b.id;\r\n            } else if (request.sortState.field === SortNpcsListFeature.fieldName) {\r\n                return this.sortByStringField(a.name, b.name, request.sortState);\r\n            } else if (request.sortState.field === SortNpcsListFeature.fieldCombat) {\r\n                return this.sortByNumberField(a.combat, b.combat, request.sortState);\r\n            } else if (request.sortState.field === SortNpcsListFeature.fieldInstinct) {\r\n                return this.sortByNumberField(a.instinct, b.instinct, request.sortState);\r\n            } else if (request.sortState.field === SortNpcsListFeature.fieldArmorPoints) {\r\n                return this.sortByNumberField(a.armorPoints, b.armorPoints, request.sortState);\r\n            } else if (request.sortState.field === SortNpcsListFeature.fieldWoundsHealth) {\r\n                return this.sortByNumberField(a.health, b.health, request.sortState);\r\n            } else {\r\n                return this.sortByNumberField(a.id, b.id, request.sortState);\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { SortState } from \"../../../lib/sorting/sort-state\";\r\nimport { NpcListItem } from \"../npc-list-item\";\r\n\r\nexport class SortNpcsListRequest {\r\n    public npcListItems: NpcListItem[] = [];\r\n    public sortState: SortState = new SortState();\r\n}\r\n","export class Source {\r\n    public id: number;\r\n    public name: string;\r\n\r\n    constructor(id?: number, name?: string) {\r\n        this.id = id ?? 0;\r\n        this.name = name ?? \"\";\r\n    }\r\n}\r\n","import { IUnitOfWork } from \"../../lib/common/data-access/unit-of-work-interface\";\r\nimport { Source } from \"./source\";\r\n\r\nexport class SourcesService {\r\n    private static _instance: SourcesService;\r\n\r\n    private constructor() {}\r\n\r\n    public static get instance(): SourcesService {\r\n        if (!SourcesService._instance) {\r\n            SourcesService._instance = new SourcesService();\r\n        }\r\n\r\n        return SourcesService._instance;\r\n    }\r\n\r\n    public getCustomItemSourceId(unitOfWork: IUnitOfWork): number {\r\n        const source = unitOfWork.repo(Source).first((item) => item.name == \"Custom\");\r\n\r\n        if (!source) {\r\n            throw new Error('\"Custom\" source not found in the database.');\r\n        }\r\n\r\n        return source.id;\r\n    }\r\n}\r\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!../node_modules/postcss-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/**\r\n * This file serves as the entry point for dynamically importing all TypeScript files\r\n * within the `src` directory and its subdirectories.\r\n *\r\n * The `importAll` function utilizes Webpack's `require.context` to locate and require\r\n * all `.ts` files in the specified directory structure. This approach ensures that\r\n * all relevant modules are automatically included without the need for manual imports.\r\n *\r\n * Key functionality:\r\n * - `importAll`: Iterates over all matched files and requires them.\r\n * - `require.context`: A Webpack-specific feature that creates a context for dynamic imports.\r\n *\r\n * Usage:\r\n * This file is typically used in environments where all modules in a directory need to\r\n * be loaded dynamically, such as in a plugin-based architecture or when initializing\r\n * a set of related scripts.\r\n */\r\nimport \"./index.css\"; // Import the main CSS file for the application\r\nimport { Startup } from \"./lib/infrastructure/startup\";\r\n\r\nfunction importAll(requireContext: __WebpackModuleApi.RequireContext) {\r\n    requireContext.keys().forEach(requireContext);\r\n}\r\n\r\n// Dynamically require all .ts files in the src directory and subdirectories\r\nimportAll(require.context(\"./\", true, /^(?!.*\\.d\\.ts$).*\\.ts$/));\r\n","export class DbSet<T> {\r\n    private collection: T[];\r\n\r\n    constructor(collection: T[]) {\r\n        this.collection = collection;\r\n    }\r\n\r\n    public toArray(): T[] {\r\n        return [...this.collection];\r\n    }\r\n\r\n    public add(entity: T): void {\r\n        this.collection.push(entity);\r\n    }\r\n\r\n    public update(existingEntity: T, updatedEntity: T): void {\r\n        const index = this.collection.findIndex((entity) => entity === existingEntity);\r\n\r\n        if (index === -1) return;\r\n\r\n        this.collection[index] = updatedEntity;\r\n    }\r\n\r\n    public remove(entity: T): void {\r\n        const index = this.collection.indexOf(entity);\r\n\r\n        if (index !== -1) {\r\n            this.collection.splice(index, 1);\r\n        }\r\n    }\r\n}\r\n","export class EmptyRequest {}\r\n","import { ErrorCode } from \"../../errors/error-code\";\r\nimport { AppLogger } from \"../../logging/app-logger\";\r\nimport { Result } from \"../../result/result\";\r\nimport { ResultError } from \"../../result/result-error\";\r\nimport { IUnitOfWork } from \"../data-access/unit-of-work-interface\";\r\n\r\nexport class FilterListFeature {\r\n    protected readonly unitOfWork: IUnitOfWork;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n    }\r\n\r\n    protected returnErrorResult<T>(ex: Error, itemNameForLogs: string): Result<T> {\r\n        AppLogger.instance.error(`Error while filtering ${itemNameForLogs} list`, ex);\r\n\r\n        return Result.failure(\r\n            new ResultError(\r\n                ErrorCode.QueryError,\r\n                `Failed to filter ${itemNameForLogs} list due to the follow error: ${ex.message}`\r\n            )\r\n        );\r\n    }\r\n\r\n    protected applySearchFilter<T>(listItems: T[], search: string, searchFieldGetter: (item: T) => string): T[] {\r\n        const filter: string = search.trim().toLowerCase();\r\n\r\n        if (filter === \"\") return listItems;\r\n\r\n        const escapedFilter = this.escapeRegExpCharacters(filter);\r\n        const searchRegEx = new RegExp(`^.*(${escapedFilter})+.*$`);\r\n\r\n        return listItems.filter((item) => searchFieldGetter(item).trim().toLowerCase().match(searchRegEx));\r\n    }\r\n\r\n    private escapeRegExpCharacters(input: string): string {\r\n        return input.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\"); // Escapes special regex characters\r\n    }\r\n}\r\n","import { ErrorCode } from \"../../errors/error-code\";\r\nimport { LocalizationService } from \"../../localization/localization-service\";\r\nimport { MessageKeys } from \"../../localization/message-keys\";\r\nimport { Result } from \"../../result/result\";\r\nimport { ResultError } from \"../../result/result-error\";\r\nimport { IUnitOfWork } from \"../data-access/unit-of-work-interface\";\r\n\r\nexport abstract class SaveDbEntityFeature {\r\n    protected readonly unitOfWork: IUnitOfWork;\r\n    protected baseFailureMessage: string;\r\n    protected errorCode: string;\r\n\r\n    constructor(unitOfWork: IUnitOfWork) {\r\n        this.unitOfWork = unitOfWork;\r\n        this.baseFailureMessage = LocalizationService.instance.translate(MessageKeys.saveCustomGearItemFailed);\r\n        this.errorCode = ErrorCode.UnexpectedError;\r\n    }\r\n\r\n    protected createExceptionResult<T>(ex: Error): Result<T> {\r\n        return Result.failure(new ResultError(this.errorCode, this.baseFailureMessage, [ex.message]));\r\n    }\r\n\r\n    protected setErrorResultFields(id: number, createMessageKey: string, editMessageKey: string) {\r\n        if (id === 0) {\r\n            this.errorCode = ErrorCode.CreateError;\r\n            this.baseFailureMessage = LocalizationService.instance.translate(createMessageKey);\r\n        } else {\r\n            this.errorCode = ErrorCode.EditError;\r\n            this.baseFailureMessage = LocalizationService.instance.translate(editMessageKey);\r\n        }\r\n    }\r\n}\r\n","export abstract class SaveDbEntityRequest {\r\n    private _id: number;\r\n\r\n    public get id(): number {\r\n        return this._id;\r\n    }\r\n\r\n    public set id(value: number) {\r\n        this._id = value;\r\n    }\r\n\r\n    constructor() {\r\n        this._id = 0;\r\n    }\r\n}\r\n","import { SortDirection } from \"../../sorting/sort-direction\";\r\nimport { SortState } from \"../../sorting/sort-state\";\r\n\r\nexport class SortListFeature {\r\n    private readonly validFields: string[];\r\n\r\n    constructor(validFields: string[]) {\r\n        this.validFields = validFields;\r\n    }\r\n\r\n    protected isValidField(field: string): boolean {\r\n        if (field === \"\") return false;\r\n\r\n        return this.validFields.find((validField) => validField === field) !== undefined;\r\n    }\r\n\r\n    protected sortByStringField(a: string, b: string, sortState: SortState): number {\r\n        if (sortState.direction === SortDirection.Ascending) return a.toLowerCase().localeCompare(b.toLowerCase());\r\n\r\n        return b.toLowerCase().localeCompare(a.toLowerCase());\r\n    }\r\n\r\n    protected sortByNumberField(a: number, b: number, sortState: SortState): number {\r\n        if (sortState.direction === SortDirection.Ascending) return a - b;\r\n\r\n        return b - a;\r\n    }\r\n}\r\n","import { Constructor } from \"../common/types/constructor-type\";\r\nimport { ArmorItem } from \"../../features/gear/armor-item\";\r\nimport { EquipmentItem } from \"../../features/gear/equipment-item\";\r\nimport { IDatabaseContext } from \"../common/data-access/database-context-interface\";\r\nimport { DbSet } from \"../common/data-access/db-set\";\r\nimport { WeaponItem } from \"../../features/gear/weapon-item\";\r\nimport { Npc } from \"../../features/npcs/npc\";\r\nimport { IDatabase } from \"../common/data-access/database-interface\";\r\nimport { AppSettings } from \"../settings/app-settings\";\r\nimport { DatabaseVersion } from \"../../features/database-versions/database-version\";\r\nimport { DatabaseCollectionNames } from \"./database-collection-names\";\r\nimport { Source } from \"../../features/sources/source\";\r\n\r\nexport class AppDatabaseContext implements IDatabaseContext {\r\n    public static inject = [\"database\", \"appSettings\"] as const;\r\n\r\n    private readonly _appSettings: AppSettings;\r\n    private readonly _db: IDatabase;\r\n    private readonly _entityKeyToDbKeyMap: Map<string, string>;\r\n    private readonly _dbSets: Map<string, DbSet<any>>;\r\n\r\n    private _isInitialized: boolean;\r\n\r\n    constructor(db: IDatabase, appSettings: AppSettings) {\r\n        this._appSettings = appSettings;\r\n        this._db = db;\r\n        this._entityKeyToDbKeyMap = new Map<string, string>();\r\n        this._dbSets = new Map<string, DbSet<any>>();\r\n        this._isInitialized = false;\r\n        this.initializeEntityKeyToDbKeyMap();\r\n        this.initializeDbSetsWithEmptyCollections();\r\n    }\r\n\r\n    public async initialize(): Promise<void> {\r\n        if (this._isInitialized) {\r\n            return;\r\n        }\r\n\r\n        await this._db.connect(this._appSettings.connectionString);\r\n\r\n        await this.initializeDbSets();\r\n\r\n        this._isInitialized = true;\r\n    }\r\n\r\n    private initializeEntityKeyToDbKeyMap(): void {\r\n        this._entityKeyToDbKeyMap.set(DatabaseVersion.name, DatabaseCollectionNames.databaseVersions);\r\n        this._entityKeyToDbKeyMap.set(Source.name, DatabaseCollectionNames.sources);\r\n        this._entityKeyToDbKeyMap.set(ArmorItem.name, DatabaseCollectionNames.armor);\r\n        this._entityKeyToDbKeyMap.set(EquipmentItem.name, DatabaseCollectionNames.equipment);\r\n        this._entityKeyToDbKeyMap.set(WeaponItem.name, DatabaseCollectionNames.weapons);\r\n        this._entityKeyToDbKeyMap.set(Npc.name, DatabaseCollectionNames.npcs);\r\n    }\r\n\r\n    private initializeDbSetsWithEmptyCollections() {\r\n        this._dbSets.set(DatabaseVersion.name, new DbSet<DatabaseVersion>([]));\r\n        this._dbSets.set(Source.name, new DbSet<Source>([]));\r\n        this._dbSets.set(ArmorItem.name, new DbSet<ArmorItem>([]));\r\n        this._dbSets.set(EquipmentItem.name, new DbSet<EquipmentItem>([]));\r\n        this._dbSets.set(WeaponItem.name, new DbSet<WeaponItem>([]));\r\n        this._dbSets.set(Npc.name, new DbSet<Npc>([]));\r\n    }\r\n\r\n    private async initializeDbSets(): Promise<void> {\r\n        this._dbSets.clear();\r\n\r\n        this._dbSets.set(\r\n            DatabaseVersion.name,\r\n            new DbSet<DatabaseVersion>(\r\n                (await this._db.getCollection(DatabaseCollectionNames.databaseVersions)).map((obj) =>\r\n                    Object.assign(new DatabaseVersion(), obj)\r\n                )\r\n            )\r\n        );\r\n\r\n        this._dbSets.set(\r\n            Source.name,\r\n            new DbSet<Source>(\r\n                (await this._db.getCollection(DatabaseCollectionNames.sources)).map((obj) =>\r\n                    Object.assign(new Source(), obj)\r\n                )\r\n            )\r\n        );\r\n\r\n        this._dbSets.set(\r\n            ArmorItem.name,\r\n            new DbSet<ArmorItem>(\r\n                (await this._db.getCollection(DatabaseCollectionNames.armor)).map((obj) =>\r\n                    Object.assign(new ArmorItem(), obj)\r\n                )\r\n            )\r\n        );\r\n\r\n        this._dbSets.set(\r\n            EquipmentItem.name,\r\n            new DbSet<EquipmentItem>(\r\n                (await this._db.getCollection(DatabaseCollectionNames.equipment)).map((obj) =>\r\n                    Object.assign(new EquipmentItem(), obj)\r\n                )\r\n            )\r\n        );\r\n\r\n        this._dbSets.set(\r\n            WeaponItem.name,\r\n            new DbSet<WeaponItem>(\r\n                (await this._db.getCollection(DatabaseCollectionNames.weapons)).map((obj) =>\r\n                    Object.assign(new WeaponItem(), obj)\r\n                )\r\n            )\r\n        );\r\n\r\n        this._dbSets.set(\r\n            Npc.name,\r\n            new DbSet<Npc>(\r\n                (await this._db.getCollection(DatabaseCollectionNames.npcs)).map((obj) => Object.assign(new Npc(), obj))\r\n            )\r\n        );\r\n    }\r\n\r\n    public getSet<T>(type: Constructor<T>): DbSet<T> {\r\n        const typeName = type.name;\r\n        const dbSet = this._dbSets.get(typeName);\r\n\r\n        if (dbSet) {\r\n            return dbSet as DbSet<T>;\r\n        }\r\n\r\n        throw new Error(`DbSet of type ${typeName} not found.`);\r\n    }\r\n\r\n    public async saveChanges(): Promise<void> {\r\n        const collections = new Map<string, any[]>();\r\n\r\n        for (const [key, dbSet] of this._dbSets) {\r\n            const dbKey = this._entityKeyToDbKeyMap.get(key) ?? \"ERROR\";\r\n            collections.set(dbKey, dbSet.toArray());\r\n        }\r\n\r\n        await this._db.save(collections);\r\n    }\r\n}\r\n","import { Constructor } from \"../common/types/constructor-type\";\r\nimport { IDatabaseContext } from \"../common/data-access/database-context-interface\";\r\nimport { IRepository } from \"../common/data-access/repository-interface\";\r\nimport { DbSet } from \"../common/data-access/db-set\";\r\n\r\nexport abstract class BaseRepository<T> implements IRepository<T> {\r\n    private type: Constructor<T>;\r\n    private dbContext: IDatabaseContext;\r\n\r\n    constructor(type: Constructor<T>, dbContext: IDatabaseContext) {\r\n        this.type = type;\r\n        this.dbContext = dbContext;\r\n    }\r\n\r\n    private getSet(): DbSet<T> {\r\n        return this.dbContext.getSet<T>(this.type);\r\n    }\r\n\r\n    public first(predicate?: ((entity: T) => boolean) | undefined): T | undefined {\r\n        const entities = this.list();\r\n\r\n        if (predicate) {\r\n            return entities.find(predicate);\r\n        }\r\n\r\n        if (entities.length > 0) {\r\n            return entities[0];\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    public list(): T[] {\r\n        return this.getSet().toArray();\r\n    }\r\n\r\n    public add(entity: T): void {\r\n        this.getSet().add(entity);\r\n    }\r\n\r\n    public update(existingEntity: T, updatedEntity: T): void {\r\n        this.getSet().update(existingEntity, updatedEntity);\r\n    }\r\n\r\n    public remove(entity: T): void {\r\n        this.getSet().remove(entity);\r\n    }\r\n}\r\n","import { IBlobStorage } from \"../common/data-access/blob-storage-interface\";\r\n\r\nexport class BrowserBlobStorage implements IBlobStorage {\r\n    public static inject = [\"webStorage\"] as const;\r\n\r\n    private webStorage: Storage;\r\n\r\n    constructor(webStorage: Storage) {\r\n        this.webStorage = webStorage;\r\n    }\r\n\r\n    public async getBlobAsync(key: string): Promise<string> {\r\n        return this.webStorage.getItem(key) ?? \"\";\r\n    }\r\n\r\n    public async setBlobAsync(key: string, value: string): Promise<void> {\r\n        this.webStorage.setItem(key, value);\r\n    }\r\n}\r\n","export class DatabaseCollectionNames {\r\n    static databaseVersions: string = \"databaseVersions\";\r\n    static sources: string = \"sources\";\r\n    static armor: string = \"armor\";\r\n    static equipment: string = \"equipment\";\r\n    static weapons: string = \"weapons\";\r\n    static npcs: string = \"npcs\";\r\n}\r\n","import { Constructor } from \"../common/types/constructor-type\";\r\nimport { BaseRepository } from \"./base-repository\";\r\nimport { IDatabaseContext } from \"../common/data-access/database-context-interface\";\r\n\r\nexport class Repository<T> extends BaseRepository<T> {\r\n    constructor(type: Constructor<T>, dbContext: IDatabaseContext) {\r\n        super(type, dbContext);\r\n    }\r\n}\r\n","import { IBlobStorage } from \"../common/data-access/blob-storage-interface\";\r\nimport { IDatabase } from \"../common/data-access/database-interface\";\r\nimport { ErrorCode } from \"../errors/error-code\";\r\nimport { LocalizationService } from \"../localization/localization-service\";\r\nimport { MessageKeys } from \"../localization/message-keys\";\r\nimport { AppLogger } from \"../logging/app-logger\";\r\nimport { Result } from \"../result/result\";\r\nimport { ResultError } from \"../result/result-error\";\r\n\r\nexport class SeedableJsonDatabase implements IDatabase {\r\n    public static inject = [\"blobStorage\", \"seedJson\"] as const;\r\n\r\n    private blobStorage: IBlobStorage;\r\n    private seedJson: any;\r\n    private storageKey: string;\r\n\r\n    constructor(blobStorage: IBlobStorage, seedJson: any) {\r\n        this.blobStorage = blobStorage;\r\n        this.seedJson = seedJson;\r\n        this.storageKey = \"\";\r\n    }\r\n\r\n    private isConnectedToDatabase(): boolean {\r\n        return this.storageKey.trim() !== \"\";\r\n    }\r\n\r\n    private async getJsonDb(): Promise<any> {\r\n        return JSON.parse(await this.blobStorage.getBlobAsync(this.storageKey));\r\n    }\r\n\r\n    public async connect(storageKey: string): Promise<Result<string>> {\r\n        if (storageKey.trim() === \"\") {\r\n            return this.createCouldNotConnectFailureResult();\r\n        }\r\n\r\n        this.storageKey = storageKey;\r\n\r\n        await this.seedDatabase(storageKey);\r\n\r\n        return Result.success(storageKey);\r\n    }\r\n\r\n    private createCouldNotConnectFailureResult(): Result<string> {\r\n        return Result.failure(\r\n            new ResultError(\r\n                ErrorCode.DatabaseConnectionError,\r\n                LocalizationService.instance.translate(MessageKeys.couldNotConnectToDatabase),\r\n                [LocalizationService.instance.translate(MessageKeys.storageKeyEmpty)]\r\n            )\r\n        );\r\n    }\r\n\r\n    private async seedDatabase(storageKey: string): Promise<void> {\r\n        const blob = await this.blobStorage.getBlobAsync(storageKey);\r\n\r\n        if (blob.trim() === \"\") {\r\n            await this.blobStorage.setBlobAsync(storageKey, JSON.stringify(this.seedJson));\r\n        }\r\n    }\r\n\r\n    public async save(collections: Map<string, any[]>): Promise<void> {\r\n        const dbJson = await this.getJsonDb();\r\n\r\n        for (const [key, value] of collections) {\r\n            if (key in dbJson) {\r\n                dbJson[key] = value;\r\n            }\r\n        }\r\n\r\n        await this.blobStorage.setBlobAsync(this.storageKey, JSON.stringify(dbJson));\r\n    }\r\n\r\n    public async getCollection(collectionName: string): Promise<any[]> {\r\n        if (!this.isConnectedToDatabase()) {\r\n            throw new Error(LocalizationService.instance.translate(MessageKeys.notConnectedToDatabase));\r\n        }\r\n\r\n        if (collectionName.trim() === \"\") {\r\n            return [];\r\n        }\r\n\r\n        const dbJson = await this.getJsonDb();\r\n\r\n        if (!(collectionName in dbJson)) {\r\n            AppLogger.instance.warn(`Could not find the collection \"${collectionName}\" in the database.`);\r\n            return [];\r\n        }\r\n\r\n        return dbJson[collectionName];\r\n    }\r\n}\r\n","import { IBlobStorage } from \"../common/data-access/blob-storage-interface\";\r\nimport { ITaleSpireApi } from \"../talespire/talespire-api-interface\";\r\n\r\ndeclare const TS: ITaleSpireApi;\r\n\r\nexport class TaleSpireBlobStorage implements IBlobStorage {\r\n    public async getBlobAsync(key: string): Promise<string> {\r\n        if (!TS) {\r\n            return \"\";\r\n        }\r\n\r\n        const blob = await TS.localStorage.global.getBlob();\r\n\r\n        if (!blob) {\r\n            return \"\";\r\n        }\r\n\r\n        return blob;\r\n    }\r\n\r\n    public async setBlobAsync(key: string, value: string): Promise<void> {\r\n        if (!TS) {\r\n            return;\r\n        }\r\n\r\n        await TS.localStorage.global.setBlob(value);\r\n    }\r\n}\r\n","import { Constructor } from \"../common/types/constructor-type\";\r\nimport { IDatabaseContext } from \"../common/data-access/database-context-interface\";\r\nimport { Repository } from \"./repository\";\r\nimport { IRepository } from \"../common/data-access/repository-interface\";\r\nimport { IUnitOfWork } from \"../common/data-access/unit-of-work-interface\";\r\n\r\nexport class UnitOfWork implements IUnitOfWork {\r\n    public static inject = [\"appDatabaseContext\"] as const;\r\n\r\n    private dbContext: IDatabaseContext;\r\n\r\n    constructor(dbContext: IDatabaseContext) {\r\n        this.dbContext = dbContext;\r\n    }\r\n\r\n    public repo<T>(type: Constructor<T>): IRepository<T> {\r\n        return new Repository<T>(type, this.dbContext);\r\n    }\r\n\r\n    public async saveChanges(): Promise<void> {\r\n        await this.dbContext.saveChanges();\r\n    }\r\n}\r\n","export enum ErrorCode {\r\n    UnexpectedError = \"UnexpectedError\",\r\n    DatabaseConnectionError = \"DatabaseConnectionError\",\r\n    QueryError = \"QueryError\",\r\n    CreateError = \"CreateError\",\r\n    EditError = \"EditError\",\r\n    DeleteError = \"DeleteError\",\r\n}\r\n","import { AppEvent } from \"./app-event\";\r\n\r\nexport class AppErrorEvent extends AppEvent {\r\n    private readonly _error: string;\r\n    private readonly _details: string[];\r\n\r\n    public get error(): string {\r\n        return this._error;\r\n    }\r\n\r\n    public get details(): string[] {\r\n        return [...this._details];\r\n    }\r\n\r\n    constructor(type: string, error: string, details?: string[]) {\r\n        super(type);\r\n\r\n        if (error.trim() === \"\") {\r\n            this._error = \"UNKNOWN ERROR\";\r\n        } else {\r\n            this._error = error;\r\n        }\r\n\r\n        this._details = details ?? [];\r\n    }\r\n}\r\n","export class AppEvent {\r\n    private _type: string;\r\n\r\n    public get type(): string {\r\n        return this._type;\r\n    }\r\n\r\n    constructor(type: string) {\r\n        this._type = type;\r\n    }\r\n}\r\n","import { AppEvent } from \"./app-event\";\r\nimport { AppEventListener } from \"./app-event-listener-interface\";\r\n\r\n/**\r\n * A singleton class that acts as a global event bus for dispatching and listening to application events.\r\n *\r\n * The `EventBus` uses the `EventTarget` API to manage custom events, allowing components to communicate\r\n * with each other in a decoupled manner. Events are dispatched as `CustomEvent` objects, and listeners\r\n * can register callbacks for specific event types.\r\n */\r\nexport class EventBus {\r\n    private static _instance: EventBus;\r\n\r\n    private _eventBus: EventTarget;\r\n    private _callbackMap: Map<string, Map<AppEventListener, EventListenerOrEventListenerObject>>;\r\n\r\n    private constructor() {\r\n        this._eventBus = new EventTarget();\r\n        this._callbackMap = new Map();\r\n    }\r\n\r\n    /**\r\n     * Gets the singleton instance of the `EventBus`.\r\n     *\r\n     * @returns {EventBus} The singleton instance of the `EventBus`.\r\n     */\r\n    public static get instance(): EventBus {\r\n        if (!EventBus._instance) {\r\n            EventBus._instance = new EventBus();\r\n        }\r\n\r\n        return EventBus._instance;\r\n    }\r\n\r\n    /**\r\n     * Dispatches an application event.\r\n     *\r\n     * The event is wrapped in a `CustomEvent` object and dispatched on the internal `EventTarget`.\r\n     * The event can bubble and pass through shadow DOM boundaries.\r\n     *\r\n     * @param {AppEvent} event - The application event to dispatch.\r\n     */\r\n    public dispatch(event: AppEvent) {\r\n        const customEvent = new CustomEvent<AppEvent>(event.type, {\r\n            detail: event,\r\n            bubbles: true, // Allow the event to bubble up\r\n            composed: true, // Allow the event to pass through shadow DOM boundaries\r\n        });\r\n\r\n        this._eventBus.dispatchEvent(customEvent);\r\n    }\r\n\r\n    /**\r\n     * Registers a listener for a specific event type.\r\n     *\r\n     * The listener is called whenever an event of the specified type is dispatched.\r\n     *\r\n     * @param {string} type - The type of the event to listen for.\r\n     * @param {AppEventListener} callback - The callback function to invoke when the event is dispatched.\r\n     * The callback receives the `AppEvent` object as its argument.\r\n     *\r\n     * @remarks\r\n     * - The `callback` must be a valid `AppEventListener` function.\r\n     * - Ensure that the listener is unregistered using `unregister` to avoid memory leaks.\r\n     * - If the same `callback` is registered multiple times for the same `type`, it will be invoked multiple times\r\n     *   when the event is dispatched.\r\n     *\r\n     * @example\r\n     * // Registering an event listener\r\n     * const onCustomEvent: AppEventListener = (event: AppEvent) => {\r\n     *     console.log(\"Custom event received:\", event);\r\n     * };\r\n     * EventBus.instance.register(\"customEvent\", onCustomEvent);\r\n     *\r\n     * // Dispatching the event\r\n     * const customEvent = { type: \"customEvent\", data: { message: \"Hello, world!\" } };\r\n     * EventBus.instance.dispatch(customEvent);\r\n     *\r\n     * // Unregistering the event listener\r\n     * EventBus.instance.unregister(\"customEvent\", onCustomEvent);\r\n     */\r\n    public register(type: string, callback: AppEventListener) {\r\n        const wrappedCallback: EventListenerOrEventListenerObject = (event: Event) => {\r\n            const customEvent = event as CustomEvent<AppEvent>;\r\n            callback(customEvent.detail);\r\n        };\r\n\r\n        if (!this._callbackMap.has(type)) {\r\n            this._callbackMap.set(type, new Map());\r\n        }\r\n\r\n        this._callbackMap.get(type)!.set(callback, wrappedCallback);\r\n\r\n        this._eventBus.addEventListener(type, wrappedCallback);\r\n    }\r\n\r\n    /**\r\n     * Unregisters a listener for a specific event type.\r\n     *\r\n     * This method removes a previously registered event listener for custom application events.\r\n     * It ensures that the listener is no longer invoked when the specified event type is dispatched.\r\n     *\r\n     * @param {string} type - The type of the event to stop listening for.\r\n     * @param {AppEventListener} callback - The callback function that was previously registered with `register`.\r\n     * This must be the same reference as the one used during registration.\r\n     *\r\n     * @remarks\r\n     * - If the `type` or `callback` does not match a previously registered listener, the method will have no effect.\r\n     * - This ensures that only the intended listener is removed.\r\n     * - If all listeners for a specific event type are removed, the internal mapping for that type is also cleaned up.\r\n     *\r\n     * @example\r\n     * // Registering an event listener\r\n     * const onCustomEvent: AppEventListener = (event: AppEvent) => {\r\n     *     console.log(\"Custom event received:\", event);\r\n     * };\r\n     * EventBus.instance.register(\"customEvent\", onCustomEvent);\r\n     *\r\n     * // Unregistering the event listener\r\n     * EventBus.instance.unregister(\"customEvent\", onCustomEvent);\r\n     */\r\n    public unregister(type: string, callback: AppEventListener) {\r\n        const typeMap = this._callbackMap.get(type);\r\n\r\n        if (!typeMap) return;\r\n\r\n        const wrappedCallback = typeMap.get(callback);\r\n\r\n        if (!wrappedCallback) return;\r\n\r\n        this._eventBus.removeEventListener(type, wrappedCallback);\r\n\r\n        typeMap.delete(callback);\r\n\r\n        if (typeMap.size === 0) {\r\n            this._callbackMap.delete(type);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers a listener for a specific document-level event type.\r\n     *\r\n     * This method allows components to listen for standard DOM events (e.g., \"click\", \"keydown\")\r\n     * or custom events dispatched on the `document` object.\r\n     *\r\n     * @param {string} type - The type of the document event to listen for.\r\n     * @param {EventListenerOrEventListenerObject} callback - The callback function or event listener object\r\n     * to invoke when the event is triggered. The callback receives the `Event` object as its argument.\r\n     *\r\n     * @example\r\n     * // Registering a document-level click event listener\r\n     * const onDocumentClick = (event: MouseEvent) => {\r\n     *     console.log(\"Document clicked:\", event.target);\r\n     * };\r\n     * EventBus.instance.registerDocumentEvent(\"click\", onDocumentClick);\r\n     *\r\n     * @remarks\r\n     * - The `callback` must be a valid `EventListener` or `EventListenerObject`.\r\n     * - Ensure that the listener is unregistered using `unregisterDocumentEvent` to avoid memory leaks.\r\n     */\r\n    public registerDocumentEvent(type: string, callback: EventListenerOrEventListenerObject) {\r\n        document.addEventListener(type, callback);\r\n    }\r\n\r\n    /**\r\n     * Unregisters a listener for a specific document-level event type.\r\n     *\r\n     * This method removes a previously registered event listener for standard DOM events (e.g., \"click\", \"keydown\")\r\n     * or custom events dispatched on the `document` object.\r\n     *\r\n     * @param {string} type - The type of the document event to stop listening for.\r\n     * @param {EventListenerOrEventListenerObject} callback - The callback function or event listener object\r\n     * that was previously registered with `registerDocumentEvent`. This must be the same reference as the one\r\n     * used during registration.\r\n     *\r\n     * @example\r\n     * // Registering a document-level click event listener\r\n     * const onDocumentClick = (event: MouseEvent) => {\r\n     *     console.log(\"Document clicked:\", event.target);\r\n     * };\r\n     * EventBus.instance.registerDocumentEvent(\"click\", onDocumentClick);\r\n     *\r\n     * // Unregistering the document-level click event listener\r\n     * EventBus.instance.unregisterDocumentEvent(\"click\", onDocumentClick);\r\n     *\r\n     * @remarks\r\n     * - If the `callback` provided does not match a previously registered listener, the method will have no effect.\r\n     * - Ensure that all document-level event listeners are properly unregistered to avoid memory leaks.\r\n     */\r\n    public unregisterDocumentEvent(type: string, callback: EventListenerOrEventListenerObject) {\r\n        document.removeEventListener(type, callback);\r\n    }\r\n\r\n    /**\r\n     * Registers a listener for a browser event type.\r\n     *\r\n     * This method allows components to listen for standard browser events (e.g., \"click\", \"popstate\")\r\n     * or custom events dispatched on the `window` global oject.\r\n     *\r\n     * @param {string} type - The type of the browser event to listen for.\r\n     * @param {EventListenerOrEventListenerObject} callback - The callback function or event listener object\r\n     * to invoke when the event is triggered. The callback receives the `Event` object as its argument.\r\n     */\r\n    public registerBrowserEvent(type: string, callback: EventListenerOrEventListenerObject) {\r\n        window.addEventListener(type, callback);\r\n    }\r\n\r\n    /**\r\n     * Unregisters a listener for a specific browser event type.\r\n     *\r\n     * This method removes a previously registered event listener for standard browser events\r\n     * (e.g., \"click\", \"keyup\") or custom events dispatched on the `window` global object.\r\n     *\r\n     * @param {string} type - The type of the browser event to stop listening for.\r\n     * @param {EventListenerOrEventListenerObject} callback - The callback function or event listener object\r\n     * that was previously registered with `registerBrowserEvent`. This must be the same reference as the one\r\n     * used during registration.\r\n     *\r\n     * @example\r\n     * // Registering an event listener\r\n     * const onKeyUp = (event: KeyboardEvent) => {\r\n     *     if (event.key === \"Escape\") {\r\n     *         console.log(\"Escape key pressed\");\r\n     *     }\r\n     * };\r\n     * EventBus.instance.registerBrowserEvent(\"keyup\", onKeyUp);\r\n     *\r\n     * // Unregistering the event listener\r\n     * EventBus.instance.unregisterBrowserEvent(\"keyup\", onKeyUp);\r\n     *\r\n     * @remarks\r\n     * If the callback provided does not match a previously registered listener, the method will have no effect.\r\n     * This ensures that only the intended listener is removed.\r\n     */\r\n    public unregisterBrowserEvent(type: string, callback: EventListenerOrEventListenerObject) {\r\n        window.removeEventListener(type, callback);\r\n    }\r\n}\r\n","import { AppEvent } from \"./app-event\";\r\n\r\nexport class GearCategoryChangedEvent extends AppEvent {\r\n    private _category: string;\r\n\r\n    public get category(): string {\r\n        return this._category;\r\n    }\r\n\r\n    constructor(category: string) {\r\n        super(GearCategoryChangedEvent.name);\r\n        this._category = category;\r\n    }\r\n}\r\n","import { AppEvent } from \"./app-event\";\r\n\r\nexport class GearFilterChangedEvent extends AppEvent {\r\n    private readonly _category: string;\r\n    private readonly _search: string;\r\n    private readonly _sourceId: number;\r\n\r\n    public get category(): string {\r\n        return this._category;\r\n    }\r\n\r\n    public get search(): string {\r\n        return this._search;\r\n    }\r\n\r\n    public get sourceId(): number {\r\n        return this._sourceId;\r\n    }\r\n\r\n    constructor(category: string, search: string, sourceId: number) {\r\n        super(GearFilterChangedEvent.name);\r\n        this._category = category;\r\n        this._search = search;\r\n        this._sourceId = sourceId;\r\n    }\r\n}\r\n","import { AppEvent } from \"./app-event\";\r\n\r\nexport class GearItemDeletedEvent extends AppEvent {\r\n    constructor() {\r\n        super(GearItemDeletedEvent.name);\r\n    }\r\n}\r\n","import { AppEvent } from \"./app-event\";\r\n\r\nexport class NpcFilterChangedEvent extends AppEvent {\r\n    private readonly _search: string;\r\n\r\n    public get search(): string {\r\n        return this._search;\r\n    }\r\n\r\n    constructor(search: string) {\r\n        super(NpcFilterChangedEvent.name);\r\n        this._search = search;\r\n    }\r\n}\r\n","import { PageRouteData } from \"../pages/page-route-data\";\r\nimport { AppEvent } from \"./app-event\";\r\n\r\nexport class PageChangeInitiatedEvent extends AppEvent {\r\n    public page: PageRouteData;\r\n    public id: string;\r\n    public params: URLSearchParams;\r\n\r\n    constructor(\r\n        page: PageRouteData,\r\n        id?: string,\r\n        params?: string | URLSearchParams | string[][] | Record<string, string> | undefined\r\n    ) {\r\n        super(PageChangeInitiatedEvent.name);\r\n        this.page = page;\r\n        this.id = id ?? \"\";\r\n        this.params = new URLSearchParams(params);\r\n    }\r\n}\r\n","import { PageRouteData } from \"../pages/page-route-data\";\r\nimport { AppEvent } from \"./app-event\";\r\n\r\nexport class PageChangedEvent extends AppEvent {\r\n    public currentPage: PageRouteData;\r\n    public previousPage: PageRouteData;\r\n\r\n    constructor(currentPage: PageRouteData, previousPage: PageRouteData) {\r\n        super(PageChangedEvent.name);\r\n        this.currentPage = currentPage;\r\n        this.previousPage = previousPage;\r\n    }\r\n}\r\n","import { AppEvent } from \"./app-event\";\r\n\r\nexport class UiReportableErrorClearedEvent extends AppEvent {\r\n    constructor() {\r\n        super(UiReportableErrorClearedEvent.name);\r\n    }\r\n}\r\n","import { AppErrorEvent } from \"./app-error-event\";\r\n\r\nexport class UiReportableErrorOccurredEvent extends AppErrorEvent {\r\n    constructor(error: string, details?: string[]) {\r\n        super(UiReportableErrorOccurredEvent.name, error, details);\r\n    }\r\n}\r\n","import appSettingsJson from \"../../appsettings.json\";\r\nimport seedDatabaseJson from \"../../database/json/database.json\";\r\nimport { Scope, createInjector } from \"typed-inject\";\r\nimport { AppDatabaseContext } from \"../data-access/app-database-context\";\r\nimport { UnitOfWork } from \"../data-access/unit-of-work\";\r\nimport { AppSettings } from \"../settings/app-settings\";\r\nimport { TaleSpireBlobStorage } from \"../data-access/talespire-blob-storage\";\r\nimport { BrowserBlobStorage } from \"../data-access/browser-blob-storage\";\r\nimport { SeedableJsonDatabase } from \"../data-access/seedable-json-database\";\r\nimport { Startup } from \"./startup\";\r\n\r\nconst blobStorageClass = appSettingsJson.environment === \"production\" ? TaleSpireBlobStorage : BrowserBlobStorage;\r\n\r\nexport const appInjector = createInjector()\r\n    .provideValue(\"seedJson\", seedDatabaseJson)\r\n    .provideValue(\"webStorage\", window.localStorage)\r\n    .provideClass(\"appSettings\", AppSettings, Scope.Singleton)\r\n    .provideClass(\"blobStorage\", blobStorageClass, Scope.Singleton)\r\n    .provideClass(\"database\", SeedableJsonDatabase, Scope.Singleton)\r\n    .provideClass(\"appDatabaseContext\", AppDatabaseContext, Scope.Singleton)\r\n    .provideClass(\"unitOfWork\", UnitOfWork, Scope.Transient)\r\n    .provideClass(\"startup\", Startup, Scope.Singleton);\r\n","import { AppLogger } from \"../logging/app-logger\";\r\nimport { ConsoleLogger } from \"../logging/console-logger\";\r\nimport { AppSettings } from \"../settings/app-settings\";\r\nimport { appInjector } from \"./app-injector\";\r\n\r\nexport class Startup {\r\n    public static inject = [\"appSettings\"] as const;\r\n\r\n    private readonly environmentProduction: string = \"production\";\r\n\r\n    private readonly appSettings: AppSettings;\r\n\r\n    private _isConfigured: boolean;\r\n    private _isTaleSpireInitialized: boolean;\r\n\r\n    public get isConfigured(): boolean {\r\n        return this._isConfigured;\r\n    }\r\n\r\n    constructor(appSettings: AppSettings) {\r\n        this._isConfigured = false;\r\n        this._isTaleSpireInitialized = false;\r\n        this.appSettings = appSettings;\r\n\r\n        if (this.appSettings.environment !== this.environmentProduction) {\r\n            this._isTaleSpireInitialized = true;\r\n        }\r\n    }\r\n\r\n    public setTaleSpireApiInitialized() {\r\n        this._isTaleSpireInitialized = true;\r\n    }\r\n\r\n    public async configure(): Promise<void> {\r\n        this.configureLogging();\r\n\r\n        await this.waitForTaleSpireApiToBeInitialized();\r\n\r\n        await this.configureDatabaseContext();\r\n\r\n        this._isConfigured = true;\r\n    }\r\n\r\n    private configureLogging(): void {\r\n        AppLogger.instance.addLogger(new ConsoleLogger());\r\n    }\r\n\r\n    private async waitForTaleSpireApiToBeInitialized(): Promise<void> {\r\n        AppLogger.instance.info(\"Waiting for TaleSpire API to be initialized...\");\r\n\r\n        while (!this._isTaleSpireInitialized) {\r\n            // Add a small delay to avoid locking up the browser\r\n            await new Promise((resolve) => setTimeout(resolve, 10));\r\n        }\r\n\r\n        AppLogger.instance.info(\"TaleSpire API initialized!\");\r\n    }\r\n\r\n    private async configureDatabaseContext(): Promise<void> {\r\n        const dbContext = appInjector.resolve(\"appDatabaseContext\");\r\n\r\n        await dbContext.initialize();\r\n    }\r\n}\r\n","import enJson from \"./en.json\";\r\n\r\nexport class LocalizationService {\r\n    private static _instance: LocalizationService;\r\n\r\n    private readonly _jsonMessage: any;\r\n\r\n    private constructor() {\r\n        this._jsonMessage = JSON.parse(JSON.stringify(enJson));\r\n    }\r\n\r\n    public static get instance(): LocalizationService {\r\n        if (!LocalizationService._instance) {\r\n            LocalizationService._instance = new LocalizationService();\r\n        }\r\n\r\n        return LocalizationService._instance;\r\n    }\r\n\r\n    public translate(key: string): string {\r\n        if (!(key in this._jsonMessage)) return \"\";\r\n\r\n        return String(this._jsonMessage[key]);\r\n    }\r\n}\r\n","export class MessageKeys {\r\n    static couldNotConnectToDatabase: string = \"couldNotConnectToDatabase\";\r\n    static notConnectedToDatabase: string = \"notConnectedToDatabase\";\r\n    static storageKeyEmpty: string = \"storageKeyEmpty\";\r\n\r\n    static saveCustomGearItemFailed: string = \"saveCustomGearItemFailed\";\r\n    static createCustomEquipmentItemFailed: string = \"createCustomEquipmentItemFailed\";\r\n    static createCustomArmorItemFailed: string = \"createCustomArmorItemFailed\";\r\n    static createCustomWeaponItemFailed: string = \"createCustomWeaponItemFailed\";\r\n    static editCustomEquipmentItemFailed: string = \"editCustomEquipmentItemFailed\";\r\n    static editCustomArmorItemFailed: string = \"editCustomArmorItemFailed\";\r\n    static editCustomWeaponItemFailed: string = \"editCustomWeaponItemFailed\";\r\n    static deleteCustomGearItemFailed: string = \"deleteCustomGearItemFailed\";\r\n    static createCustomNpcFailed: string = \"createCustomNpcFailed\";\r\n}\r\n","export class AppLogFormatter {\r\n    static format(level: string, message: string, data: any | null = null): string {\r\n        const now = new Date();\r\n        let jsonData = \"\";\r\n\r\n        if (data !== null) {\r\n            if (data instanceof Error) {\r\n                jsonData = JSON.stringify(AppLogFormatter.serializeError(data));\r\n            } else {\r\n                jsonData = JSON.stringify(data);\r\n            }\r\n        }\r\n\r\n        return `${now.toISOString()} | ${level} | ${message} | ${jsonData}`;\r\n    }\r\n\r\n    static serializeError(error: Error): object {\r\n        return {\r\n            name: error.name,\r\n            message: error.message,\r\n            stack: error.stack,\r\n        };\r\n    }\r\n}\r\n","import { ILogger } from \"./logger-interface\";\r\n\r\nexport class AppLogger implements ILogger {\r\n    public type: string = AppLogger.name;\r\n\r\n    private static _instance: AppLogger;\r\n\r\n    private _loggers: ILogger[] = [];\r\n\r\n    private constructor() {}\r\n\r\n    public static get instance(): AppLogger {\r\n        if (!AppLogger._instance) {\r\n            AppLogger._instance = new AppLogger();\r\n        }\r\n\r\n        return AppLogger._instance;\r\n    }\r\n\r\n    public addLogger(logger: ILogger) {\r\n        const isLoggerAlreadyAdded = this._loggers.some((currentLogger) => currentLogger.type === logger.type);\r\n\r\n        if (!isLoggerAlreadyAdded) {\r\n            this._loggers.push(logger);\r\n        }\r\n    }\r\n\r\n    public info(message: string, data?: any): void {\r\n        this._loggers.forEach((logger) => {\r\n            logger.info(message, data);\r\n        });\r\n    }\r\n\r\n    public warn(message: string, data?: any): void {\r\n        this._loggers.forEach((logger) => {\r\n            logger.warn(message, data);\r\n        });\r\n    }\r\n\r\n    public error(message: string, error: Error): void {\r\n        this._loggers.forEach((logger) => {\r\n            logger.error(message, error);\r\n        });\r\n    }\r\n\r\n    public debug(message: string, data?: any): void {\r\n        this._loggers.forEach((logger) => {\r\n            logger.debug(message, data);\r\n        });\r\n    }\r\n}\r\n","import { AppLogFormatter } from \"./app-log-formatter\";\r\nimport { ILogger } from \"./logger-interface\";\r\n\r\nexport class ConsoleLogger implements ILogger {\r\n    public type: string = ConsoleLogger.name;\r\n\r\n    public info(message: string, data?: any): void {\r\n        console.info(AppLogFormatter.format(\"info\", message, data));\r\n    }\r\n\r\n    public warn(message: string, data?: any): void {\r\n        console.warn(AppLogFormatter.format(\"warn\", message, data));\r\n    }\r\n\r\n    public error(message: string, error: Error): void {\r\n        console.error(AppLogFormatter.format(\"error\", message, error));\r\n    }\r\n\r\n    public debug(message: string, data?: any): void {\r\n        console.debug(AppLogFormatter.format(\"debug\", message, data));\r\n    }\r\n}\r\n","export class PageRouteData {\r\n    public path: string = \"\";\r\n    public component: string = \"\";\r\n    public title: string = \"\";\r\n    public canNavigateBackFrom: boolean = false;\r\n\r\n    constructor(path: string, component: string, title: string, canNavigateBackFrom?: boolean) {\r\n        this.path = path;\r\n        this.component = component;\r\n        this.title = title;\r\n        this.canNavigateBackFrom = canNavigateBackFrom ?? false;\r\n    }\r\n}\r\n","import { EventBus } from \"../events/event-bus\";\r\nimport { PageChangeInitiatedEvent } from \"../events/page-change-initiated-event\";\r\nimport { PageRouteData } from \"./page-route-data\";\r\n\r\nexport class PageRouterService {\r\n    public static charactersPage: string = \"Characters\";\r\n    public static npcsPage: string = \"NPCs\";\r\n    public static gearPage: string = \"Gear\";\r\n    public static codexPage: string = \"Codex\";\r\n    public static aboutPage: string = \"About\";\r\n    public static gearItemPage: string = \"Gear Item\";\r\n\r\n    private static _instance: PageRouterService;\r\n\r\n    private _pages: Map<string, PageRouteData>;\r\n    private _defaultPage: PageRouteData;\r\n\r\n    private constructor() {\r\n        this._pages = new Map<string, PageRouteData>();\r\n        this.populatePageMetaDataMap();\r\n        this._defaultPage = this.getPageByTitle(PageRouterService.charactersPage);\r\n    }\r\n\r\n    public static get instance(): PageRouterService {\r\n        if (!PageRouterService._instance) {\r\n            PageRouterService._instance = new PageRouterService();\r\n        }\r\n\r\n        return PageRouterService._instance;\r\n    }\r\n\r\n    private populatePageMetaDataMap() {\r\n        this._pages.set(\r\n            PageRouterService.charactersPage,\r\n            new PageRouteData(\"/\", \"characters-page\", PageRouterService.charactersPage)\r\n        );\r\n\r\n        this._pages.set(\r\n            PageRouterService.npcsPage,\r\n            new PageRouteData(\"/npcs\", \"npcs-page\", PageRouterService.npcsPage)\r\n        );\r\n\r\n        this._pages.set(\r\n            PageRouterService.gearPage,\r\n            new PageRouteData(\"/gear\", \"gear-page\", PageRouterService.gearPage)\r\n        );\r\n\r\n        this._pages.set(\r\n            PageRouterService.codexPage,\r\n            new PageRouteData(\"/codex\", \"codex-page\", PageRouterService.codexPage)\r\n        );\r\n\r\n        this._pages.set(\r\n            PageRouterService.aboutPage,\r\n            new PageRouteData(\"/about\", \"about-page\", PageRouterService.aboutPage)\r\n        );\r\n\r\n        this._pages.set(\r\n            PageRouterService.gearItemPage,\r\n            new PageRouteData(\"/gear/#\", \"gear-item-page\", PageRouterService.gearItemPage, true)\r\n        );\r\n    }\r\n\r\n    public getPageByTitle(title: string): PageRouteData {\r\n        const page = this._pages.get(title);\r\n\r\n        if (!page) {\r\n            return this._defaultPage;\r\n        }\r\n\r\n        return page;\r\n    }\r\n\r\n    public getPageByPath(path: string): PageRouteData {\r\n        for (const [key, routeData] of this._pages) {\r\n            if (routeData.path === path) return routeData;\r\n        }\r\n\r\n        return this._defaultPage;\r\n    }\r\n\r\n    public navigateToPage(\r\n        pageTitle: string,\r\n        id?: string,\r\n        params?: string | URLSearchParams | string[][] | Record<string, string> | undefined\r\n    ) {\r\n        const pageChangeInitiatedEvent = new PageChangeInitiatedEvent(this.getPageByTitle(pageTitle), id, params);\r\n\r\n        EventBus.instance.dispatch(pageChangeInitiatedEvent);\r\n    }\r\n}\r\n","/**\r\n * The `ResultError` class is a utility class that encapsulates error information.\r\n * It has two main properties: `code` and `description`.\r\n *\r\n * `code` is a string that represents the error code.\r\n * `description` is a string that provides a human-readable description of the error.\r\n * `details` is a string array that provides additional context and detailed messages for the error.\r\n *\r\n * The class provides a static method `none` that returns a `ResultError` instance with empty `code` and `description`.\r\n * This can be used when an operation is successful and there is no error to report.\r\n *\r\n * SOURCE: https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern\r\n */\r\nexport class ResultError {\r\n    private _code: string;\r\n    private _description: string;\r\n    private _details: string[];\r\n\r\n    public get code(): string {\r\n        return this._code;\r\n    }\r\n\r\n    public get description(): string {\r\n        return this._description;\r\n    }\r\n\r\n    public get details(): string[] {\r\n        return this._details;\r\n    }\r\n\r\n    constructor(code: string, description: string, details?: string[]) {\r\n        this._code = code;\r\n        this._description = description;\r\n        this._details = details ?? [];\r\n    }\r\n\r\n    public static none(): ResultError {\r\n        return new ResultError(\"\", \"\");\r\n    }\r\n}\r\n","import { ResultError } from \"./result-error\";\r\n\r\n/**\r\n * The `Result` class is a generic utility class that encapsulates the outcome of an operation.\r\n * It has four main properties: `_isSuccess`, `_error`, `_value`, and the generic parameter `T`.\r\n *\r\n * `_isSuccess` is a boolean that indicates whether the operation was successful or not.\r\n * `_error` is an instance of `ResultError` that holds any error information if the operation failed.\r\n * `_value` is an optional property of type `T` that holds the result of the operation if it was successful.\r\n * `T` is a generic parameter that represents the type of the result value.\r\n *\r\n * The class provides getters for each of these properties (`isSuccess`, `isFailure`, `error`, `value`).\r\n *\r\n * Use the static methods `success` and `failure` to create instances of `Result`.\r\n *\r\n * SOURCE: https://www.milanjovanovic.tech/blog/functional-error-handling-in-dotnet-with-the-result-pattern#expressing-errors-using-the-result-pattern\r\n */\r\nexport class Result<T> {\r\n    private _isSuccess: boolean;\r\n    private _error: ResultError;\r\n    private _value?: T;\r\n\r\n    public get isSuccess(): boolean {\r\n        return this._isSuccess;\r\n    }\r\n\r\n    public get isFailure(): boolean {\r\n        return !this._isSuccess;\r\n    }\r\n\r\n    public get error(): ResultError {\r\n        return this._error;\r\n    }\r\n\r\n    public get value(): T | undefined {\r\n        return this._value;\r\n    }\r\n\r\n    private constructor(isSuccess: boolean, error: ResultError, value?: T) {\r\n        this._isSuccess = isSuccess;\r\n        this._error = error;\r\n        this._value = value as T | undefined;\r\n    }\r\n\r\n    public static success<T>(value?: T): Result<T> {\r\n        return new Result<T>(true, ResultError.none(), value);\r\n    }\r\n\r\n    public static failure<T>(error: ResultError): Result<T> {\r\n        return new Result<T>(false, error);\r\n    }\r\n}\r\n","export class CreditsAbbreviator {\r\n    private static _instance: CreditsAbbreviator;\r\n\r\n    private constructor() {}\r\n\r\n    public static get instance(): CreditsAbbreviator {\r\n        if (!CreditsAbbreviator._instance) {\r\n            CreditsAbbreviator._instance = new CreditsAbbreviator();\r\n        }\r\n\r\n        return CreditsAbbreviator._instance;\r\n    }\r\n\r\n    public abbreviate(credits: number) {\r\n        const absCredits: number = Math.abs(credits);\r\n        const aThousand: number = 1000;\r\n        const aMillion: number = 1000000;\r\n        const aBillion: number = 1000000000;\r\n        let divisor: number = 1;\r\n        let unit: string = \"cr\";\r\n\r\n        if (absCredits < aThousand) {\r\n            // use default divisor and unit ...\r\n        } else if (absCredits < aMillion) {\r\n            divisor = aThousand;\r\n            unit = \"kcr\";\r\n        } else if (absCredits < aBillion) {\r\n            divisor = aMillion;\r\n            unit = \"mcr\";\r\n        } else {\r\n            divisor = aBillion;\r\n            unit = \"bcr\";\r\n        }\r\n\r\n        const dividend = credits / divisor;\r\n\r\n        return `${dividend}${unit}`;\r\n    }\r\n}\r\n","export class PathService {\r\n    private static _instance: PathService;\r\n\r\n    private constructor() {}\r\n\r\n    public static get instance(): PathService {\r\n        if (!PathService._instance) {\r\n            PathService._instance = new PathService();\r\n        }\r\n\r\n        return PathService._instance;\r\n    }\r\n\r\n    public getSymbioteRootPath(): string {\r\n        const locationOfSrcFolder: number = window.location.href.lastIndexOf(\"/dist/\");\r\n\r\n        if (locationOfSrcFolder === -1) {\r\n            throw new Error(\"The URL does not contain '/dist/'\");\r\n        }\r\n\r\n        return window.location.href.substring(0, locationOfSrcFolder);\r\n    }\r\n}\r\n","import { AppLogger } from \"../logging/app-logger\";\r\n\r\nexport class StylesService {\r\n    private static _instance: StylesService | null = null;\r\n    private _globalSheets: CSSStyleSheet[] | null = null;\r\n\r\n    private constructor() {}\r\n\r\n    public static get instance(): StylesService {\r\n        if (this._instance === null) {\r\n            this._instance = new StylesService();\r\n        }\r\n\r\n        return this._instance;\r\n    }\r\n\r\n    public addGlobalStylesToShadowRoot(shadowRoot: ShadowRoot): void {\r\n        shadowRoot.adoptedStyleSheets.push(...this.getGlobalStyleSheets());\r\n    }\r\n\r\n    private getGlobalStyleSheets(): CSSStyleSheet[] {\r\n        if (this._globalSheets === null) {\r\n            this._globalSheets = Array.from(document.styleSheets).flatMap((x: StyleSheet) => {\r\n                try {\r\n                    const sheet = new CSSStyleSheet();\r\n                    const css = Array.from((x as CSSStyleSheet).cssRules)\r\n                        .map((rule) => rule.cssText)\r\n                        .join(\" \");\r\n                    sheet.replaceSync(css);\r\n                    return [sheet];\r\n                } catch (e) {\r\n                    // Skip stylesheets that throw a SecurityError\r\n                    if (e instanceof DOMException && e.name === \"SecurityError\") {\r\n                        AppLogger.instance.warn(\"Skipped inaccessible stylesheet:\", x.href || \"inline style\");\r\n                    }\r\n                    return [];\r\n                }\r\n            });\r\n        }\r\n\r\n        return this._globalSheets;\r\n    }\r\n}\r\n","import jsonSetting from \"../../appsettings.json\";\r\n\r\nexport class AppSettings {\r\n    public environment: string;\r\n    public connectionString: string;\r\n\r\n    constructor() {\r\n        this.environment = jsonSetting.environment;\r\n        this.connectionString = jsonSetting.connectionString;\r\n    }\r\n}\r\n","export enum SortDirection {\r\n    None = \"None\",\r\n    Ascending = \"Ascending\",\r\n    Descending = \"Descending\",\r\n}\r\n","import { SortDirection } from \"./sort-direction\";\r\n\r\nexport class SortState {\r\n    private _field: string = \"\";\r\n    private _direction: SortDirection = SortDirection.None;\r\n\r\n    public get field(): string {\r\n        return this._field;\r\n    }\r\n\r\n    public get direction(): SortDirection {\r\n        return this._direction;\r\n    }\r\n\r\n    constructor(field: string = \"\") {\r\n        this._field = field;\r\n    }\r\n\r\n    public set(field: string) {\r\n        if (this.field !== field) {\r\n            this._field = field;\r\n            this._direction = SortDirection.None;\r\n        }\r\n\r\n        if (this._direction === SortDirection.None) {\r\n            this._direction = SortDirection.Ascending;\r\n        } else if (this._direction === SortDirection.Ascending) {\r\n            this._direction = SortDirection.Descending;\r\n        } else {\r\n            this._direction = SortDirection.None;\r\n        }\r\n    }\r\n}\r\n","export class TableHeader {\r\n    public field: string;\r\n    public displayName: string;\r\n\r\n    constructor(field: string, displayName: string) {\r\n        this.field = field;\r\n        this.displayName = displayName;\r\n    }\r\n}\r\n","import { appInjector } from \"../infrastructure/app-injector\";\r\nimport { ITaleSpireApi } from \"./talespire-api-interface\";\r\nimport { AppLogFormatter } from \"../logging/app-log-formatter\";\r\n\r\ndeclare const TS: ITaleSpireApi;\r\n\r\nfunction logTaleSpireApiEvent(handlerName: string, event: any) {\r\n    console.info(AppLogFormatter.format(\"info\", `TaleSpire API event: ${handlerName} --> ${event.kind}`), event);\r\n}\r\n\r\nfunction handleOnVisibilityEvent(event: any) {\r\n    logTaleSpireApiEvent(\"onVisibilityEvent\", event);\r\n}\r\n\r\nasync function handleOnStateChangeEvent(event: any) {\r\n    logTaleSpireApiEvent(\"onStateChangeEvent\", event);\r\n\r\n    if (event.kind === \"hasInitialized\") {\r\n        const startup = appInjector.resolve(\"startup\");\r\n        startup.setTaleSpireApiInitialized();\r\n    }\r\n}\r\n\r\nfunction handleOnRollResults(event: { kind: string; payload: any }): void {\r\n    logTaleSpireApiEvent(\"handleOnRollResults\", event);\r\n\r\n    if (event.kind === \"rollResults\") {\r\n        TS.dice.evaluateDiceResultsGroup(event.payload.resultsGroups[0]).then((summedRoll: number) => {\r\n            const diceResultElement = document.getElementById(\"dice-result\");\r\n            if (diceResultElement) {\r\n                diceResultElement.textContent = \"The last roll result was: \" + summedRoll;\r\n            }\r\n        });\r\n    } else if (event.kind === \"rollRemoved\") {\r\n        const diceResultElement = document.getElementById(\"dice-result\");\r\n        if (diceResultElement) {\r\n            diceResultElement.textContent = \"A dice roll got removed!\";\r\n        }\r\n    }\r\n}\r\n\r\n// Expose functions globally\r\n// This is a workaround to make the functions available in the global scope\r\n// so that TaleSpire can call them as configured by manifest.json.\r\n(window as any).handleOnVisibilityEvent = handleOnVisibilityEvent;\r\n(window as any).handleOnStateChangeEvent = handleOnStateChangeEvent;\r\n(window as any).handleOnRollResults = handleOnRollResults;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insertBySelector","insert","style","target","getTarget","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","Error","appendChild","insertStyleElement","element","createElement","setAttributes","attributes","setAttributesWithoutAttributes","styleElement","nonce","setAttribute","apply","styleTagTransform","removeStyleElement","parentNode","removeChild","styleSheet","cssText","firstChild","createTextNode","DEFAULT_SCOPE","Scope","Singleton","AbstractInjector","childInjectors","Set","injectClass","Class","providedIn","throwIfDisposed","resolveParametersToInject","error","InjectionError","create","injectFunction","fn","injectable","inject","key","TARGET_TOKEN","INJECTOR_TOKEN","resolveInternal","provideValue","token","value","provider","ValueProvider","add","provideClass","scope","ClassProvider","provideFactory","factory","FactoryProvider","resolve","injectableOrToken","isDisposed","InjectorDisposedError","child","delete","createChildInjector","ChildInjector","dispose","promises","Promise","all","disposeInjectedValues","RootInjector","parent","constructor","super","ChildWithProvidedInjector","cached","disposables","addToCacheIfNeeded","registerProvidedValue","isDisposable","promisesToAwait","values","disposable","Transient","createInjector","TypedInjectError","describeInjectAction","name","startsWith","String","path","cause","message","tokens","maybeDisposable","asDisposable","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","keys","webpackContextKeys","Object","AppInitComponent","BaseComponent","connectedCallback","initializeApp","render","console","info","AppLogFormatter","format","startup","appInjector","configure","customElements","define","BaseListComponent","defaultSortField","tableHeaders","unitOfWork","UnitOfWork","sortState","SortState","populateTableHeaderRow","npcListContainer","shadow","tableHeader","createTableHeaderRowElement","row","forEach","header","createTableHeaderElement","tableHeaderElement","field","className","onclick","onTableHeaderClick","createHeaderDivElement","headerDiv","innerHTML","displayName","set","sortItems","populateTableRows","clearOldRows","gearListContainer","tableBody","hasChildNodes","replaceChildren","createTableRowsElements","createBaseTableRowElement","updateSortIcons","currentHeader","sortIcon","direction","SortDirection","Ascending","Descending","dispatchErrorEvent","EventBus","instance","dispatch","UiReportableErrorOccurredEvent","HTMLElement","attachShadow","mode","html","StylesService","addGlobalStylesToShadowRoot","template","attachCallbacks","templateContent","cloneNode","componentId","lastComponentId","componentName","replaceAll","PrimaryButtonComponent","SecondaryButtonComponent","ErrorPanelComponent","errorPanelId","errorDescriptionId","errorDetailsId","onShowErrorEvent","event","handleShowEvent","onHideErrorEvent","handleHideEvent","register","UiReportableErrorClearedEvent","disconnectedCallback","unregister","showErrorPanel","setErrorDescription","setErrorDetails","details","hideErrorPanel","classList","description","detailsElement","detail","listItem","innerText","AddNewGearItemButtonComponent","onAddNewGearItemButtonClick","PageRouterService","navigateToPage","gearItemPage","GearArmorDisplayComponent","armorItem","ArmorItem","setEquipmentItem","updateGearName","updateGearDescription","updateGearCost","updateGearArmorPoints","updateGearOxygen","updateGearSpeed","updateGearSpecial","textContent","CreditsAbbreviator","abbreviate","cost","armorPoints","paragraph","oxygen","speed","special","GearArmorFormFieldsComponent","armorPointsInputElement","oxygenInputElement","speedSelectElement","specialInputElement","_formFieldsDto","toJson","_internals","attachInternals","ArmorItemFormFieldsDto","updateFormValue","setFormValue","setInitialFormValues","handleOnArmorPointsInputChanged","handleOnOxygenInputChanged","handleOnSpeedSelectChanged","handleOnSpecialInputChanged","formAssociated","GearCategoriesPillBarComponent","activeButtonCssClass","inactiveButtonCssClass","shouldHideAllCategory","hasAttribute","hideAllCategory","setActiveFilterButton","onCategoryButtonClick","category","replace","appEvent","GearCategoryChangedEvent","buttonId","querySelectorAll","button","GearEquipmentDisplayComponent","equipmentItem","EquipmentItem","GearEquipmentFormFieldsComponent","nameInputElement","costInputElement","descriptionInputElement","EquipmentItemFormFieldsDto","handleOnNameInputChanged","handleOnCostInputChanged","handleOnDescriptionInputChanged","GearItemDisplayDialogComponent","armorDisplayElement","equipmentDisplayElement","weaponDisplayElement","gearItemModalElement","editGearItemButton","deleteGearItemButton","gearItem","gearItemCategory","isCustomGearItem","openModal","modal","dispatchModalNotFoundEvent","closeModal","setGearItem","getSelectedGearItem","isCustomItem","showAppropriateGearItemDisplay","setEditButtonVisiblity","setDeleteButtonVisiblity","feature","GetGearByIdFeature","request","GetGearByIdRequest","handle","sourceId","SourcesService","getCustomItemSourceId","rehideAllGearDisplayElements","gearCategory","WeaponItem","rehideElement","contains","onEditButtonClick","onDeleteButtonClick","DeleteCustomGearItemRequest","DeleteCustomGearItemFeature","handleAsync","isFailure","GearItemDeletedEvent","GearListFilterBarComponent","sourcesSelectElement","handleGearCategoryChangedEvent","gearCategoryChangedEvent","activeCategory","dispatchGearFilterChangedEvent","GearItem","currentSearch","currentSourceId","populateSourcesFilter","handleOnSearchBoxKeyUp","shiftKey","handleOnSourcesSelectChanged","selectedValue","parseInt","GearFilterChangedEvent","sourcesFilter","sources","repo","Source","createSourceFilterOption","source","text","option","GearListComponent","SortGearListFeature","fieldId","TableHeader","fieldItem","fieldCost","fieldCategory","fieldDescription","gearList","onGearFilterChangedEvent","filterGear","onGearItemDeletedEvent","currentFilters","GetAllGearFeature","EmptyRequest","createTableRowElement","getNameTableDataInnerHtml","abbreviatedCost","addEventListener","onTableDataRowClick","nameInnerHtml","FilterGearListFeature","FilterGearListRequest","search","SortGearListRequest","gearListItems","GearWeaponDisplayComponent","weaponItem","updateWeaponCategory","updateGearRange","updateGearDamage","updateGearShots","updateGearWound","range","damage","shots","wound","GearWeaponFormFieldsComponent","weaponCategorySelectElement","rangeSelectElement","damageInputElement","shotsInputElement","woundInputElement","WeaponItemFormFieldsDto","handleOnWeaponCategorySelectChanged","handleOnRangeSelectChanged","handleOnDamageInputChanged","handleOnShotsInputChanged","handleOnWoundInputChanged","PageHeading1Component","FooterBarComponent","footerBarId","moreOptionMenuId","onUpdateActiveNavButton","setActiveNavButton","currentPage","title","onDocumentMouseClickEvent","footerElement","composedPath","includes","closeMoreOptionsMenu","PageChangedEvent","registerDocumentEvent","unregisterDocumentEvent","page","setNavButtonActive","setNavButtonInactive","onMoreOptionsButtonClick","isMoreOptionsMenuOpen","openMoreOptionsMenu","getMoreOptionsMenuElement","HeaderBarComponent","onPageChangedEvent","pageChangedEvent","updatePageTitle","updateNavigateBackButton","navigateBackPage","updatedTitle","canNavigateBackFrom","previousPage","showNavigateBackButton","hideNavigateBackButton","backButtonElement","getNavigateBackButtonElement","navigateBack","ModalDialogComponent","onKeyupEvent","KeyboardEvent","registerBrowserEvent","showModal","resetScrollbarToTop","dialog","scrollTop","hideModal","unregisterBrowserEvent","onCloseModal","NpcFormComponent","npc","Npc","setNpc","updateNpcName","updateNpcCombat","updateInstinct","updateHealth","updateMaximumWounds","updateArmorPoints","updateAttacks","updateSpecialAbilities","updateDescription","setNumericParagraphElement","combat","instinct","health","maximumWounds","container","attacks","populateNoAttacksElement","populateAttacks","createParagraphElement","attack","effect","specialAbilities","populateNoSpecialAbilitiesElement","populateSpecialAbilities","ability","NpcListFilterBarComponent","onSearchBoxKeyUp","NpcFilterChangedEvent","NpcListComponent","SortNpcsListFeature","fieldName","fieldCombat","fieldInstinct","fieldArmorPoints","fieldWoundsHealth","onNpcFilterChangedEvent","filterNpcs","npcsList","GetAllNpcsFeature","npcListItem","convertNumberFieldToString","SortNpcsListRequest","npcListItems","populateNpcForm","getSelectedNpc","GetNpcByIdFeature","GetNpcByIdRequest","FilterNpcsListFeature","FilterNpcsListRequest","PageRouterComponent","_currentPage","PageRouteData","onPopStateEvent","popStateEvent","state","getPageByTitle","charactersPage","renderCorrectPage","onPageChangeInitiatedEvent","gotoNewPage","getCurrentPageFromUrl","PageChangeInitiatedEvent","getPageByPath","location","pathname","elementId","getElementById","newPage","component","addCurrentPageToHistory","url","origin","params","history","pushState","AboutComponent","BasePageComponent","waitForAppToBeInitialized","isConfigured","setTimeout","CharactersComponent","menuElement","log","closeMenu","dbVersion","DatabaseVersion","first","version","handleOnSelectChanged","handleCustomSelectButtonClicked","stopPropagation","toggleMenu","toggle","handleCustomSelectItemClicked","updateSelectedItem","updateActiveItem","clickedElement","selectedItemElement","selectedItemInputElement","getAttribute","itemElements","children","CodexComponent","GearItemComponent","armorFormFieldsComponent","weaponFormFieldsComponent","equipmentFormFieldsComponent","selectedCategory","updateFieldDivVisiblities","gearItemIdFromUrl","getIdFromUrl","configurePageForEditing","urlComponents","split","idComponent","trim","isValidId","Number","getCategoryFromUrl","URL","href","URLSearchParams","get","isNaN","isInteger","hideGearCategoriesElement","handleCancelButtonClick","navigateToGearPage","handleFormSubmit","preventDefault","form","formData","FormData","saveGearItem","saveArmorItem","saveWeaponItem","saveEquipmentItem","SaveCustomEquipmentItemRequest","SaveCustomEquipmentItemFeature","formFields","getEquipmentItemFormFields","handleFeature","SaveCustomArmorItemRequest","SaveCustomArmorItemFeature","equipmentItemFormFields","armorItemFormFields","getArmorItemFormFields","SaveCustomWeaponItemRequest","SaveCustomWeaponItemFeature","weaponItemFormFields","getWeaponItemFormFields","isSuccess","handleSaveSuccess","handleSaveFailure","gearPage","createFromJson","GearComponent","NpcsComponent","jsonStr","json","parse","ArmorItemMap","fromFormFields","validateItemDoesNotAlreadyExist","existingItem","validationResults","getItemAlreadyExistsValidationMessage","validate","validateArmorPoints","validateOxygen","validateSpeed","validateSpecial","ArmorSpeed","Normal","Advantage","Disadvantage","find","addToDatabase","generateId","updateInDatabase","repository","deleteFromDatabase","getLargestItemIdInDatabase","sortedItems","sort","a","b","baseFailureMessage","LocalizationService","translate","MessageKeys","deleteCustomGearItemFailed","getGearItem","Result","success","canBeDelete","msg","failure","ResultError","ErrorCode","DeleteError","saveChanges","EquipmentItemMap","validateDescription","validateCost","FilterListFeature","filteredItems","applyCategoryFilter","applySearchFilter","getSearchField","applySourceFilter","returnErrorResult","allGearListItems","isValidGearCategory","filter","listItems","isValidSource","doesSourceExist","customSourceId","validateName","prefix","saveToDatabase","GearListItemMap","fromArmorItem","GearListItem","fromEquipmentItem","fromWeaponItem","foundItem","_id","_category","SaveDbEntityFeature","setErrorResultFields","createCustomArmorItemFailed","editCustomArmorItemFailed","errorCode","ex","AppLogger","createExceptionResult","SaveDbEntityRequest","_formFields","createCustomEquipmentItemFailed","editCustomEquipmentItemFailed","createCustomWeaponItemFailed","editCustomWeaponItemFailed","WeaponItemMap","SortListFeature","isValidField","sortedResults","sortGearListItems","QueryError","None","sortByStringField","sortByNumberField","WeaponCategory","Melee","WeaponRange","Adjacent","validateCategory","validateRange","validateDamage","validateShots","validateWound","Firearm","IndustrialEquipment","Close","Long","Extreme","CreateCustomNpcFeature","createCustomNpcFailed","CreateError","CreateCustomNpcRequest","getAllItemsFeature","NpcListItemMap","fromNpc","NpcAttack","NpcListItem","NpcSpecialAbility","sortNpcListItems","_instance","locals","importAll","requireContext","DbSet","collection","toArray","entity","existingEntity","updatedEntity","findIndex","indexOf","itemNameForLogs","searchFieldGetter","toLowerCase","escapedFilter","escapeRegExpCharacters","searchRegEx","RegExp","match","input","saveCustomGearItemFailed","UnexpectedError","createMessageKey","editMessageKey","EditError","validFields","validField","localeCompare","AppDatabaseContext","db","appSettings","_appSettings","_db","_entityKeyToDbKeyMap","Map","_dbSets","_isInitialized","initializeEntityKeyToDbKeyMap","initializeDbSetsWithEmptyCollections","initialize","connect","connectionString","initializeDbSets","DatabaseCollectionNames","databaseVersions","armor","equipment","weapons","npcs","clear","getCollection","assign","getSet","type","typeName","dbSet","collections","dbKey","save","BaseRepository","dbContext","predicate","entities","BrowserBlobStorage","webStorage","getBlobAsync","getItem","setBlobAsync","setItem","Repository","SeedableJsonDatabase","blobStorage","seedJson","storageKey","isConnectedToDatabase","getJsonDb","createCouldNotConnectFailureResult","seedDatabase","DatabaseConnectionError","couldNotConnectToDatabase","storageKeyEmpty","dbJson","collectionName","notConnectedToDatabase","warn","TaleSpireBlobStorage","TS","blob","localStorage","global","getBlob","setBlob","AppErrorEvent","AppEvent","_error","_details","_type","_eventBus","EventTarget","_callbackMap","customEvent","CustomEvent","bubbles","composed","dispatchEvent","callback","wrappedCallback","has","typeMap","removeEventListener","size","_search","_sourceId","blobStorageClass","AppSettings","Startup","_isConfigured","environmentProduction","_isTaleSpireInitialized","environment","setTaleSpireApiInitialized","configureLogging","waitForTaleSpireApiToBeInitialized","configureDatabaseContext","addLogger","ConsoleLogger","_jsonMessage","level","now","Date","jsonData","serializeError","toISOString","stack","_loggers","logger","some","currentLogger","debug","_pages","populatePageMetaDataMap","_defaultPage","npcsPage","codexPage","aboutPage","routeData","pageTitle","pageChangeInitiatedEvent","_code","_description","none","_isSuccess","_value","credits","absCredits","Math","abs","aMillion","aBillion","divisor","unit","PathService","getSymbioteRootPath","locationOfSrcFolder","lastIndexOf","substring","_globalSheets","shadowRoot","adoptedStyleSheets","getGlobalStyleSheets","Array","from","styleSheets","flatMap","x","sheet","CSSStyleSheet","cssRules","rule","replaceSync","DOMException","_field","_direction","logTaleSpireApiEvent","handlerName","kind","handleOnVisibilityEvent","handleOnStateChangeEvent","async","handleOnRollResults","dice","evaluateDiceResultsGroup","payload","resultsGroups","then","summedRoll","diceResultElement","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","definition","defineProperty","enumerable","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","nc"],"sourceRoot":""}